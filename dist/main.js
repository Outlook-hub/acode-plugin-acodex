/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/.pnpm/html-tag-js@1.1.41/node_modules/html-tag-js/dist/tag.js":
/*!************************************************************************************!*\
  !*** ./node_modules/.pnpm/html-tag-js@1.1.41/node_modules/html-tag-js/dist/tag.js ***!
  \************************************************************************************/
/***/ (function(module) {

eval("!function (e, t) {\n   true ? module.exports = t() : 0;\n}(this, function () {\n  return function () {\n    \"use strict\";\n\n    var e = {\n        d: function (t, n) {\n          for (var r in n) e.o(n, r) && !e.o(t, r) && Object.defineProperty(t, r, {\n            enumerable: !0,\n            get: n[r]\n          });\n        },\n        o: function (e, t) {\n          return Object.prototype.hasOwnProperty.call(e, t);\n        }\n      },\n      t = {};\n    function n(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n      for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];\n      return r;\n    }\n    function r(e) {\n      return function (e) {\n        if (Array.isArray(e)) return n(e);\n      }(e) || function (e) {\n        if (\"undefined\" != typeof Symbol && null != e[Symbol.iterator] || null != e[\"@@iterator\"]) return Array.from(e);\n      }(e) || function (e, t) {\n        if (e) {\n          if (\"string\" == typeof e) return n(e, t);\n          var r = Object.prototype.toString.call(e).slice(8, -1);\n          return \"Object\" === r && e.constructor && (r = e.constructor.name), \"Map\" === r || \"Set\" === r ? Array.from(e) : \"Arguments\" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? n(e, t) : void 0;\n        }\n      }(e) || function () {\n        throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n    function o(e) {\n      return o = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      }, o(e);\n    }\n    function i(e, t) {\n      t instanceof Node || (t = c.text(\"\".concat(t))), t instanceof Text && \"clone\" in t && (t = t.clone()), e.append(t);\n    }\n    function c(e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n      return \"string\" == typeof t && (t = {\n        innerHTML: t\n      }), function (e) {\n        var t,\n          n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        if (\"function\" == typeof e) return e(n, arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : []);\n        if (e instanceof Node) t = e;else {\n          if (\"string\" != typeof e) throw new Error(\"Invalid tag, \", o(e));\n          t = document.createElement(e);\n        }\n        return Object.keys(n).forEach(function (e) {\n          var r = n[e];\n          if (void 0 !== r) switch (e) {\n            case \"child\":\n              i(t, r);\n              break;\n            case \"children\":\n              if (!Array.isArray(r)) throw new Error(\"children must be an array of Nodes\");\n              r.flat().forEach(function (e) {\n                i(t, e);\n              });\n              break;\n            case \"attr\":\n              Object.keys(r).forEach(function (e) {\n                var n = r[e];\n                void 0 !== n && t.setAttribute(e, n);\n              });\n              break;\n            case \"style\":\n            case \"dataset\":\n              Object.keys(r).forEach(function (n) {\n                var o = r[n];\n                void 0 !== o && (t[e][n] = o);\n              });\n              break;\n            case \"ref\":\n              r.instanceOfRef && (r.el = t);\n              break;\n            default:\n              t[e] = r;\n          }\n        }), t;\n      }(e, t, arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : []);\n    }\n    return e.d(t, {\n      default: function () {\n        return c;\n      }\n    }), window && !window.tag && (window.tag = c), Object.defineProperties(c, {\n      get: {\n        value: function (e) {\n          return document.querySelector(e);\n        }\n      },\n      getAll: {\n        value: function (e) {\n          return r(document.querySelectorAll(e));\n        }\n      },\n      parse: {\n        value: function (e) {\n          var t = document.createElement(\"div\");\n          return t.innerHTML = e, 1 === t.childElementCount ? t.firstElementChild : r(t.children);\n        }\n      },\n      text: {\n        value: function (e) {\n          return document.createTextNode(e);\n        }\n      },\n      use: {\n        value: function () {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\",\n            t = e,\n            n = !1,\n            r = document.createTextNode(e),\n            o = [r];\n          return Object.defineProperty(r, \"value\", {\n            set: function (e) {\n              t = e, o.forEach(function (t) {\n                t.textContent = e;\n              });\n            },\n            get: function () {\n              return t;\n            }\n          }), Object.defineProperty(r, \"clone\", {\n            value: function () {\n              if (!n) return n = !0, r;\n              var e = r.cloneNode();\n              return o.push(e), e;\n            }\n          }), r;\n        }\n      }\n    }), t.default;\n  }();\n});\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/html-tag-js@1.1.41/node_modules/html-tag-js/dist/tag.js?");

/***/ }),

/***/ "./node_modules/.pnpm/xterm-addon-attach@0.8.0_xterm@5.2.1/node_modules/xterm-addon-attach/lib/xterm-addon-attach.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xterm-addon-attach@0.8.0_xterm@5.2.1/node_modules/xterm-addon-attach/lib/xterm-addon-attach.js ***!
  \***************************************************************************************************************************/
/***/ (function(module) {

eval("!function (e, t) {\n   true ? module.exports = t() : 0;\n}(self, function () {\n  return (() => {\n    \"use strict\";\n\n    var e = {};\n    return (() => {\n      var t = e;\n      function s(e, t, s) {\n        return e.addEventListener(t, s), {\n          dispose: () => {\n            s && e.removeEventListener(t, s);\n          }\n        };\n      }\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      }), t.AttachAddon = void 0, t.AttachAddon = class {\n        constructor(e, t) {\n          this._disposables = [], this._socket = e, this._socket.binaryType = \"arraybuffer\", this._bidirectional = !(t && !1 === t.bidirectional);\n        }\n        activate(e) {\n          this._disposables.push(s(this._socket, \"message\", t => {\n            const s = t.data;\n            e.write(\"string\" == typeof s ? s : new Uint8Array(s));\n          })), this._bidirectional && (this._disposables.push(e.onData(e => this._sendData(e))), this._disposables.push(e.onBinary(e => this._sendBinary(e)))), this._disposables.push(s(this._socket, \"close\", () => this.dispose())), this._disposables.push(s(this._socket, \"error\", () => this.dispose()));\n        }\n        dispose() {\n          for (const e of this._disposables) e.dispose();\n        }\n        _sendData(e) {\n          this._checkOpenSocket() && this._socket.send(e);\n        }\n        _sendBinary(e) {\n          if (!this._checkOpenSocket()) return;\n          const t = new Uint8Array(e.length);\n          for (let s = 0; s < e.length; ++s) t[s] = 255 & e.charCodeAt(s);\n          this._socket.send(t);\n        }\n        _checkOpenSocket() {\n          switch (this._socket.readyState) {\n            case WebSocket.OPEN:\n              return !0;\n            case WebSocket.CONNECTING:\n              throw new Error(\"Attach addon was loaded before socket was open\");\n            case WebSocket.CLOSING:\n              return console.warn(\"Attach addon socket is closing\"), !1;\n            case WebSocket.CLOSED:\n              throw new Error(\"Attach addon socket is closed\");\n            default:\n              throw new Error(\"Unexpected socket state\");\n          }\n        }\n      };\n    })(), e;\n  })();\n});\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/xterm-addon-attach@0.8.0_xterm@5.2.1/node_modules/xterm-addon-attach/lib/xterm-addon-attach.js?");

/***/ }),

/***/ "./node_modules/.pnpm/xterm-addon-fit@0.7.0_xterm@5.2.1/node_modules/xterm-addon-fit/lib/xterm-addon-fit.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xterm-addon-fit@0.7.0_xterm@5.2.1/node_modules/xterm-addon-fit/lib/xterm-addon-fit.js ***!
  \******************************************************************************************************************/
/***/ (function(module) {

eval("!function (e, t) {\n   true ? module.exports = t() : 0;\n}(self, function () {\n  return (() => {\n    \"use strict\";\n\n    var e = {};\n    return (() => {\n      var t = e;\n      Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      }), t.FitAddon = void 0, t.FitAddon = class {\n        constructor() {}\n        activate(e) {\n          this._terminal = e;\n        }\n        dispose() {}\n        fit() {\n          const e = this.proposeDimensions();\n          if (!e || !this._terminal || isNaN(e.cols) || isNaN(e.rows)) return;\n          const t = this._terminal._core;\n          this._terminal.rows === e.rows && this._terminal.cols === e.cols || (t._renderService.clear(), this._terminal.resize(e.cols, e.rows));\n        }\n        proposeDimensions() {\n          if (!this._terminal) return;\n          if (!this._terminal.element || !this._terminal.element.parentElement) return;\n          const e = this._terminal._core,\n            t = e._renderService.dimensions;\n          if (0 === t.css.cell.width || 0 === t.css.cell.height) return;\n          const r = 0 === this._terminal.options.scrollback ? 0 : e.viewport.scrollBarWidth,\n            i = window.getComputedStyle(this._terminal.element.parentElement),\n            o = parseInt(i.getPropertyValue(\"height\")),\n            s = Math.max(0, parseInt(i.getPropertyValue(\"width\"))),\n            n = window.getComputedStyle(this._terminal.element),\n            l = o - (parseInt(n.getPropertyValue(\"padding-top\")) + parseInt(n.getPropertyValue(\"padding-bottom\"))),\n            a = s - (parseInt(n.getPropertyValue(\"padding-right\")) + parseInt(n.getPropertyValue(\"padding-left\"))) - r;\n          return {\n            cols: Math.max(2, Math.floor(a / t.css.cell.width)),\n            rows: Math.max(1, Math.floor(l / t.css.cell.height))\n          };\n        }\n      };\n    })(), e;\n  })();\n});\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/xterm-addon-fit@0.7.0_xterm@5.2.1/node_modules/xterm-addon-fit/lib/xterm-addon-fit.js?");

/***/ }),

/***/ "./node_modules/.pnpm/xterm-addon-serialize@0.9.0_xterm@5.2.1/node_modules/xterm-addon-serialize/lib/xterm-addon-serialize.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xterm-addon-serialize@0.9.0_xterm@5.2.1/node_modules/xterm-addon-serialize/lib/xterm-addon-serialize.js ***!
  \************************************************************************************************************************************/
/***/ (function(module) {

eval("!function (t, e) {\n   true ? module.exports = e() : 0;\n}(this, function () {\n  return (() => {\n    \"use strict\";\n\n    var t = {};\n    return (() => {\n      var e = t;\n      function s(t, e, s) {\n        return Math.max(e, Math.min(t, s));\n      }\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.HTMLSerializeHandler = e.SerializeAddon = void 0;\n      class i {\n        constructor(t) {\n          this._buffer = t;\n        }\n        serialize(t) {\n          const e = this._buffer.getNullCell(),\n            s = this._buffer.getNullCell();\n          let i = e;\n          const r = t.start.x,\n            l = t.end.x,\n            o = t.start.y,\n            n = t.end.y;\n          this._beforeSerialize(l - r, r, l);\n          for (let h = r; h <= l; h++) {\n            const r = this._buffer.getLine(h);\n            if (r) {\n              const l = h !== t.start.x ? 0 : o,\n                u = h !== t.end.x ? r.length : n;\n              for (let t = l; t < u; t++) {\n                const l = r.getCell(t, i === e ? s : e);\n                l ? (this._nextCell(l, i, h, t), i = l) : console.warn(\"Can't get cell at row=\".concat(h, \", col=\").concat(t));\n              }\n            }\n            this._rowEnd(h, h === l);\n          }\n          return this._afterSerialize(), this._serializeString();\n        }\n        _nextCell(t, e, s, i) {}\n        _rowEnd(t, e) {}\n        _beforeSerialize(t, e, s) {}\n        _afterSerialize() {}\n        _serializeString() {\n          return \"\";\n        }\n      }\n      function r(t, e) {\n        return t.getFgColorMode() === e.getFgColorMode() && t.getFgColor() === e.getFgColor();\n      }\n      function l(t, e) {\n        return t.getBgColorMode() === e.getBgColorMode() && t.getBgColor() === e.getBgColor();\n      }\n      function o(t, e) {\n        return t.isInverse() === e.isInverse() && t.isBold() === e.isBold() && t.isUnderline() === e.isUnderline() && t.isBlink() === e.isBlink() && t.isInvisible() === e.isInvisible() && t.isItalic() === e.isItalic() && t.isDim() === e.isDim() && t.isStrikethrough() === e.isStrikethrough();\n      }\n      class n extends i {\n        constructor(t, e) {\n          super(t), this._terminal = e, this._rowIndex = 0, this._allRows = new Array(), this._allRowSeparators = new Array(), this._currentRow = \"\", this._nullCellCount = 0, this._cursorStyle = this._buffer.getNullCell(), this._cursorStyleRow = 0, this._cursorStyleCol = 0, this._backgroundCell = this._buffer.getNullCell(), this._firstRow = 0, this._lastCursorRow = 0, this._lastCursorCol = 0, this._lastContentCursorRow = 0, this._lastContentCursorCol = 0, this._thisRowLastChar = this._buffer.getNullCell(), this._thisRowLastSecondChar = this._buffer.getNullCell(), this._nextRowFirstChar = this._buffer.getNullCell();\n        }\n        _beforeSerialize(t, e, s) {\n          this._allRows = new Array(t), this._lastContentCursorRow = e, this._lastCursorRow = e, this._firstRow = e;\n        }\n        _rowEnd(t, e) {\n          var s;\n          this._nullCellCount > 0 && !l(this._cursorStyle, this._backgroundCell) && (this._currentRow += \"\\x1B[\".concat(this._nullCellCount, \"X\"));\n          let i = \"\";\n          if (!e) {\n            t - this._firstRow >= this._terminal.rows && (null === (s = this._buffer.getLine(this._cursorStyleRow)) || void 0 === s || s.getCell(this._cursorStyleCol, this._backgroundCell));\n            const e = this._buffer.getLine(t),\n              r = this._buffer.getLine(t + 1);\n            if (r.isWrapped) {\n              i = \"\";\n              const s = e.getCell(e.length - 1, this._thisRowLastChar),\n                o = e.getCell(e.length - 2, this._thisRowLastSecondChar),\n                n = r.getCell(0, this._nextRowFirstChar),\n                h = n.getWidth() > 1;\n              let u = !1;\n              (n.getChars() && h ? this._nullCellCount <= 1 : this._nullCellCount <= 0) && ((s.getChars() || 0 === s.getWidth()) && l(s, n) && (u = !0), h && (o.getChars() || 0 === o.getWidth()) && l(s, n) && l(o, n) && (u = !0)), u || (i = \"-\".repeat(this._nullCellCount + 1), i += \"\u001b[1D\u001b[1X\", this._nullCellCount > 0 && (i += \"\u001b[A\", i += \"\\x1B[\".concat(e.length - this._nullCellCount, \"C\"), i += \"\\x1B[\".concat(this._nullCellCount, \"X\"), i += \"\\x1B[\".concat(e.length - this._nullCellCount, \"D\"), i += \"\u001b[B\"), this._lastContentCursorRow = t + 1, this._lastContentCursorCol = 0, this._lastCursorRow = t + 1, this._lastCursorCol = 0);\n            } else i = \"\\r\\n\", this._lastCursorRow = t + 1, this._lastCursorCol = 0;\n          }\n          this._allRows[this._rowIndex] = this._currentRow, this._allRowSeparators[this._rowIndex++] = i, this._currentRow = \"\", this._nullCellCount = 0;\n        }\n        _diffStyle(t, e) {\n          const s = [],\n            i = !r(t, e),\n            n = !l(t, e),\n            h = !o(t, e);\n          if (i || n || h) if (t.isAttributeDefault()) e.isAttributeDefault() || s.push(0);else {\n            if (i) {\n              const e = t.getFgColor();\n              t.isFgRGB() ? s.push(38, 2, e >>> 16 & 255, e >>> 8 & 255, 255 & e) : t.isFgPalette() ? e >= 16 ? s.push(38, 5, e) : s.push(8 & e ? 90 + (7 & e) : 30 + (7 & e)) : s.push(39);\n            }\n            if (n) {\n              const e = t.getBgColor();\n              t.isBgRGB() ? s.push(48, 2, e >>> 16 & 255, e >>> 8 & 255, 255 & e) : t.isBgPalette() ? e >= 16 ? s.push(48, 5, e) : s.push(8 & e ? 100 + (7 & e) : 40 + (7 & e)) : s.push(49);\n            }\n            h && (t.isInverse() !== e.isInverse() && s.push(t.isInverse() ? 7 : 27), t.isBold() !== e.isBold() && s.push(t.isBold() ? 1 : 22), t.isUnderline() !== e.isUnderline() && s.push(t.isUnderline() ? 4 : 24), t.isBlink() !== e.isBlink() && s.push(t.isBlink() ? 5 : 25), t.isInvisible() !== e.isInvisible() && s.push(t.isInvisible() ? 8 : 28), t.isItalic() !== e.isItalic() && s.push(t.isItalic() ? 3 : 23), t.isDim() !== e.isDim() && s.push(t.isDim() ? 2 : 22), t.isStrikethrough() !== e.isStrikethrough() && s.push(t.isStrikethrough() ? 9 : 29));\n          }\n          return s;\n        }\n        _nextCell(t, e, s, i) {\n          if (0 === t.getWidth()) return;\n          const r = \"\" === t.getChars(),\n            o = this._diffStyle(t, this._cursorStyle);\n          if (r ? !l(this._cursorStyle, t) : o.length > 0) {\n            this._nullCellCount > 0 && (l(this._cursorStyle, this._backgroundCell) || (this._currentRow += \"\\x1B[\".concat(this._nullCellCount, \"X\")), this._currentRow += \"\\x1B[\".concat(this._nullCellCount, \"C\"), this._nullCellCount = 0), this._lastContentCursorRow = this._lastCursorRow = s, this._lastContentCursorCol = this._lastCursorCol = i, this._currentRow += \"\\x1B[\".concat(o.join(\";\"), \"m\");\n            const t = this._buffer.getLine(s);\n            void 0 !== t && (t.getCell(i, this._cursorStyle), this._cursorStyleRow = s, this._cursorStyleCol = i);\n          }\n          r ? this._nullCellCount += t.getWidth() : (this._nullCellCount > 0 && (l(this._cursorStyle, this._backgroundCell) || (this._currentRow += \"\\x1B[\".concat(this._nullCellCount, \"X\")), this._currentRow += \"\\x1B[\".concat(this._nullCellCount, \"C\"), this._nullCellCount = 0), this._currentRow += t.getChars(), this._lastContentCursorRow = this._lastCursorRow = s, this._lastContentCursorCol = this._lastCursorCol = i + t.getWidth());\n        }\n        _serializeString() {\n          let t = this._allRows.length;\n          this._buffer.length - this._firstRow <= this._terminal.rows && (t = this._lastContentCursorRow + 1 - this._firstRow, this._lastCursorCol = this._lastContentCursorCol, this._lastCursorRow = this._lastContentCursorRow);\n          let e = \"\";\n          for (let s = 0; s < t; s++) e += this._allRows[s], s + 1 < t && (e += this._allRowSeparators[s]);\n          const s = this._buffer.baseY + this._buffer.cursorY,\n            i = this._buffer.cursorX;\n          var r;\n          (s !== this._lastCursorRow || i !== this._lastCursorCol) && ((r = s - this._lastCursorRow) > 0 ? e += \"\\x1B[\".concat(r, \"B\") : r < 0 && (e += \"\\x1B[\".concat(-r, \"A\")), (t => {\n            t > 0 ? e += \"\\x1B[\".concat(t, \"C\") : t < 0 && (e += \"\\x1B[\".concat(-t, \"D\"));\n          })(i - this._lastCursorCol));\n          const l = this._terminal._core._inputHandler._curAttrData,\n            o = this._diffStyle(l, this._cursorStyle);\n          return o.length > 0 && (e += \"\\x1B[\".concat(o.join(\";\"), \"m\")), e;\n        }\n      }\n      e.SerializeAddon = class {\n        constructor() {}\n        activate(t) {\n          this._terminal = t;\n        }\n        _serializeBuffer(t, e, i) {\n          const r = e.length,\n            l = new n(e, t),\n            o = void 0 === i ? r : s(i + t.rows, 0, r);\n          return l.serialize({\n            start: {\n              x: r - o,\n              y: 0\n            },\n            end: {\n              x: r - 1,\n              y: t.cols\n            }\n          });\n        }\n        _serializeBufferAsHTML(t, e) {\n          var i, r;\n          const l = t.buffer.active,\n            o = new h(l, t, e);\n          if (null === (i = e.onlySelection) || void 0 === i || !i) {\n            const i = l.length,\n              r = e.scrollback,\n              n = void 0 === r ? i : s(r + t.rows, 0, i);\n            return o.serialize({\n              start: {\n                x: i - n,\n                y: 0\n              },\n              end: {\n                x: i - 1,\n                y: t.cols\n              }\n            });\n          }\n          const n = null === (r = this._terminal) || void 0 === r ? void 0 : r.getSelectionPosition();\n          return void 0 !== n ? o.serialize({\n            start: {\n              x: n.start.y,\n              y: n.start.x\n            },\n            end: {\n              x: n.end.y,\n              y: n.end.x\n            }\n          }) : \"\";\n        }\n        _serializeModes(t) {\n          let e = \"\";\n          const s = t.modes;\n          if (s.applicationCursorKeysMode && (e += \"\u001b[?1h\"), s.applicationKeypadMode && (e += \"\u001b[?66h\"), s.bracketedPasteMode && (e += \"\u001b[?2004h\"), s.insertMode && (e += \"\u001b[4h\"), s.originMode && (e += \"\u001b[?6h\"), s.reverseWraparoundMode && (e += \"\u001b[?45h\"), s.sendFocusMode && (e += \"\u001b[?1004h\"), !1 === s.wraparoundMode && (e += \"\u001b[?7l\"), \"none\" !== s.mouseTrackingMode) switch (s.mouseTrackingMode) {\n            case \"x10\":\n              e += \"\u001b[?9h\";\n              break;\n            case \"vt200\":\n              e += \"\u001b[?1000h\";\n              break;\n            case \"drag\":\n              e += \"\u001b[?1002h\";\n              break;\n            case \"any\":\n              e += \"\u001b[?1003h\";\n          }\n          return e;\n        }\n        serialize(t) {\n          if (!this._terminal) throw new Error(\"Cannot use addon until it has been loaded\");\n          let e = this._serializeBuffer(this._terminal, this._terminal.buffer.normal, null == t ? void 0 : t.scrollback);\n          return (null == t ? void 0 : t.excludeAltBuffer) || \"alternate\" !== this._terminal.buffer.active.type || (e += \"\\x1B[?1049h\\x1B[H\".concat(this._serializeBuffer(this._terminal, this._terminal.buffer.alternate, void 0))), (null == t ? void 0 : t.excludeModes) || (e += this._serializeModes(this._terminal)), e;\n        }\n        serializeAsHTML(t) {\n          if (!this._terminal) throw new Error(\"Cannot use addon until it has been loaded\");\n          return this._serializeBufferAsHTML(this._terminal, t || {});\n        }\n        dispose() {}\n      };\n      class h extends i {\n        constructor(t, e, s) {\n          super(t), this._terminal = e, this._options = s, this._currentRow = \"\", this._htmlContent = \"\", this._colors = e._core._themeService.colors;\n        }\n        _padStart(t, e, s) {\n          return e >>= 0, s = null != s ? s : \" \", t.length > e ? t : ((e -= t.length) > s.length && (s += s.repeat(e / s.length)), s.slice(0, e) + t);\n        }\n        _beforeSerialize(t, e, s) {\n          var i, r, l, o, n;\n          this._htmlContent += \"<html><body>\\x3c!--StartFragment--\\x3e<pre>\";\n          let h = \"#000000\",\n            u = \"#ffffff\";\n          null !== (i = this._options.includeGlobalBackground) && void 0 !== i && i && (h = null !== (l = null === (r = this._terminal.options.theme) || void 0 === r ? void 0 : r.foreground) && void 0 !== l ? l : \"#ffffff\", u = null !== (n = null === (o = this._terminal.options.theme) || void 0 === o ? void 0 : o.background) && void 0 !== n ? n : \"#000000\");\n          const a = [];\n          a.push(\"color: \" + h + \";\"), a.push(\"background-color: \" + u + \";\"), a.push(\"font-family: \" + this._terminal.options.fontFamily + \";\"), a.push(\"font-size: \" + this._terminal.options.fontSize + \"px;\"), this._htmlContent += \"<div style='\" + a.join(\" \") + \"'>\";\n        }\n        _afterSerialize() {\n          this._htmlContent += \"</div>\", this._htmlContent += \"</pre>\\x3c!--EndFragment--\\x3e</body></html>\";\n        }\n        _rowEnd(t, e) {\n          this._htmlContent += \"<div><span>\" + this._currentRow + \"</span></div>\", this._currentRow = \"\";\n        }\n        _getHexColor(t, e) {\n          const s = e ? t.getFgColor() : t.getBgColor();\n          return (e ? t.isFgRGB() : t.isBgRGB()) ? [s >> 16 & 255, s >> 8 & 255, 255 & s].map(t => this._padStart(t.toString(16), 2, \"0\")).join(\"\") : (e ? t.isFgPalette() : t.isBgPalette()) ? this._colors.ansi[s].css : void 0;\n        }\n        _diffStyle(t, e) {\n          const s = [],\n            i = !r(t, e),\n            n = !l(t, e),\n            h = !o(t, e);\n          if (i || n || h) {\n            const e = this._getHexColor(t, !0);\n            e && s.push(\"color: \" + e + \";\");\n            const i = this._getHexColor(t, !1);\n            return i && s.push(\"background-color: \" + i + \";\"), t.isInverse() && s.push(\"color: #000000; background-color: #BFBFBF;\"), t.isBold() && s.push(\"font-weight: bold;\"), t.isUnderline() && s.push(\"text-decoration: underline;\"), t.isBlink() && s.push(\"text-decoration: blink;\"), t.isInvisible() && s.push(\"visibility: hidden;\"), t.isItalic() && s.push(\"font-style: italic;\"), t.isDim() && s.push(\"opacity: 0.5;\"), t.isStrikethrough() && s.push(\"text-decoration: line-through;\"), s;\n          }\n        }\n        _nextCell(t, e, s, i) {\n          if (0 === t.getWidth()) return;\n          const r = \"\" === t.getChars(),\n            l = this._diffStyle(t, e);\n          l && (this._currentRow += 0 === l.length ? \"</span><span>\" : \"</span><span style='\" + l.join(\" \") + \"'>\"), this._currentRow += r ? \" \" : t.getChars();\n        }\n        _serializeString() {\n          return this._htmlContent;\n        }\n      }\n      e.HTMLSerializeHandler = h;\n    })(), t;\n  })();\n});\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/xterm-addon-serialize@0.9.0_xterm@5.2.1/node_modules/xterm-addon-serialize/lib/xterm-addon-serialize.js?");

/***/ }),

/***/ "./node_modules/.pnpm/xterm-addon-unicode11@0.5.0_xterm@5.2.1/node_modules/xterm-addon-unicode11/lib/xterm-addon-unicode11.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xterm-addon-unicode11@0.5.0_xterm@5.2.1/node_modules/xterm-addon-unicode11/lib/xterm-addon-unicode11.js ***!
  \************************************************************************************************************************************/
/***/ (function(module) {

eval("!function (e, t) {\n   true ? module.exports = t() : 0;\n}(this, function () {\n  return (() => {\n    \"use strict\";\n\n    var e = {\n        433: (e, t) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.UnicodeV11 = void 0;\n          const o = [[768, 879], [1155, 1161], [1425, 1469], [1471, 1471], [1473, 1474], [1476, 1477], [1479, 1479], [1536, 1541], [1552, 1562], [1564, 1564], [1611, 1631], [1648, 1648], [1750, 1757], [1759, 1764], [1767, 1768], [1770, 1773], [1807, 1807], [1809, 1809], [1840, 1866], [1958, 1968], [2027, 2035], [2045, 2045], [2070, 2073], [2075, 2083], [2085, 2087], [2089, 2093], [2137, 2139], [2259, 2306], [2362, 2362], [2364, 2364], [2369, 2376], [2381, 2381], [2385, 2391], [2402, 2403], [2433, 2433], [2492, 2492], [2497, 2500], [2509, 2509], [2530, 2531], [2558, 2558], [2561, 2562], [2620, 2620], [2625, 2626], [2631, 2632], [2635, 2637], [2641, 2641], [2672, 2673], [2677, 2677], [2689, 2690], [2748, 2748], [2753, 2757], [2759, 2760], [2765, 2765], [2786, 2787], [2810, 2815], [2817, 2817], [2876, 2876], [2879, 2879], [2881, 2884], [2893, 2893], [2902, 2902], [2914, 2915], [2946, 2946], [3008, 3008], [3021, 3021], [3072, 3072], [3076, 3076], [3134, 3136], [3142, 3144], [3146, 3149], [3157, 3158], [3170, 3171], [3201, 3201], [3260, 3260], [3263, 3263], [3270, 3270], [3276, 3277], [3298, 3299], [3328, 3329], [3387, 3388], [3393, 3396], [3405, 3405], [3426, 3427], [3530, 3530], [3538, 3540], [3542, 3542], [3633, 3633], [3636, 3642], [3655, 3662], [3761, 3761], [3764, 3772], [3784, 3789], [3864, 3865], [3893, 3893], [3895, 3895], [3897, 3897], [3953, 3966], [3968, 3972], [3974, 3975], [3981, 3991], [3993, 4028], [4038, 4038], [4141, 4144], [4146, 4151], [4153, 4154], [4157, 4158], [4184, 4185], [4190, 4192], [4209, 4212], [4226, 4226], [4229, 4230], [4237, 4237], [4253, 4253], [4448, 4607], [4957, 4959], [5906, 5908], [5938, 5940], [5970, 5971], [6002, 6003], [6068, 6069], [6071, 6077], [6086, 6086], [6089, 6099], [6109, 6109], [6155, 6158], [6277, 6278], [6313, 6313], [6432, 6434], [6439, 6440], [6450, 6450], [6457, 6459], [6679, 6680], [6683, 6683], [6742, 6742], [6744, 6750], [6752, 6752], [6754, 6754], [6757, 6764], [6771, 6780], [6783, 6783], [6832, 6846], [6912, 6915], [6964, 6964], [6966, 6970], [6972, 6972], [6978, 6978], [7019, 7027], [7040, 7041], [7074, 7077], [7080, 7081], [7083, 7085], [7142, 7142], [7144, 7145], [7149, 7149], [7151, 7153], [7212, 7219], [7222, 7223], [7376, 7378], [7380, 7392], [7394, 7400], [7405, 7405], [7412, 7412], [7416, 7417], [7616, 7673], [7675, 7679], [8203, 8207], [8234, 8238], [8288, 8292], [8294, 8303], [8400, 8432], [11503, 11505], [11647, 11647], [11744, 11775], [12330, 12333], [12441, 12442], [42607, 42610], [42612, 42621], [42654, 42655], [42736, 42737], [43010, 43010], [43014, 43014], [43019, 43019], [43045, 43046], [43204, 43205], [43232, 43249], [43263, 43263], [43302, 43309], [43335, 43345], [43392, 43394], [43443, 43443], [43446, 43449], [43452, 43453], [43493, 43493], [43561, 43566], [43569, 43570], [43573, 43574], [43587, 43587], [43596, 43596], [43644, 43644], [43696, 43696], [43698, 43700], [43703, 43704], [43710, 43711], [43713, 43713], [43756, 43757], [43766, 43766], [44005, 44005], [44008, 44008], [44013, 44013], [64286, 64286], [65024, 65039], [65056, 65071], [65279, 65279], [65529, 65531]],\n            n = [[66045, 66045], [66272, 66272], [66422, 66426], [68097, 68099], [68101, 68102], [68108, 68111], [68152, 68154], [68159, 68159], [68325, 68326], [68900, 68903], [69446, 69456], [69633, 69633], [69688, 69702], [69759, 69761], [69811, 69814], [69817, 69818], [69821, 69821], [69837, 69837], [69888, 69890], [69927, 69931], [69933, 69940], [70003, 70003], [70016, 70017], [70070, 70078], [70089, 70092], [70191, 70193], [70196, 70196], [70198, 70199], [70206, 70206], [70367, 70367], [70371, 70378], [70400, 70401], [70459, 70460], [70464, 70464], [70502, 70508], [70512, 70516], [70712, 70719], [70722, 70724], [70726, 70726], [70750, 70750], [70835, 70840], [70842, 70842], [70847, 70848], [70850, 70851], [71090, 71093], [71100, 71101], [71103, 71104], [71132, 71133], [71219, 71226], [71229, 71229], [71231, 71232], [71339, 71339], [71341, 71341], [71344, 71349], [71351, 71351], [71453, 71455], [71458, 71461], [71463, 71467], [71727, 71735], [71737, 71738], [72148, 72151], [72154, 72155], [72160, 72160], [72193, 72202], [72243, 72248], [72251, 72254], [72263, 72263], [72273, 72278], [72281, 72283], [72330, 72342], [72344, 72345], [72752, 72758], [72760, 72765], [72767, 72767], [72850, 72871], [72874, 72880], [72882, 72883], [72885, 72886], [73009, 73014], [73018, 73018], [73020, 73021], [73023, 73029], [73031, 73031], [73104, 73105], [73109, 73109], [73111, 73111], [73459, 73460], [78896, 78904], [92912, 92916], [92976, 92982], [94031, 94031], [94095, 94098], [113821, 113822], [113824, 113827], [119143, 119145], [119155, 119170], [119173, 119179], [119210, 119213], [119362, 119364], [121344, 121398], [121403, 121452], [121461, 121461], [121476, 121476], [121499, 121503], [121505, 121519], [122880, 122886], [122888, 122904], [122907, 122913], [122915, 122916], [122918, 122922], [123184, 123190], [123628, 123631], [125136, 125142], [125252, 125258], [917505, 917505], [917536, 917631], [917760, 917999]],\n            r = [[4352, 4447], [8986, 8987], [9001, 9002], [9193, 9196], [9200, 9200], [9203, 9203], [9725, 9726], [9748, 9749], [9800, 9811], [9855, 9855], [9875, 9875], [9889, 9889], [9898, 9899], [9917, 9918], [9924, 9925], [9934, 9934], [9940, 9940], [9962, 9962], [9970, 9971], [9973, 9973], [9978, 9978], [9981, 9981], [9989, 9989], [9994, 9995], [10024, 10024], [10060, 10060], [10062, 10062], [10067, 10069], [10071, 10071], [10133, 10135], [10160, 10160], [10175, 10175], [11035, 11036], [11088, 11088], [11093, 11093], [11904, 11929], [11931, 12019], [12032, 12245], [12272, 12283], [12288, 12329], [12334, 12350], [12353, 12438], [12443, 12543], [12549, 12591], [12593, 12686], [12688, 12730], [12736, 12771], [12784, 12830], [12832, 12871], [12880, 19903], [19968, 42124], [42128, 42182], [43360, 43388], [44032, 55203], [63744, 64255], [65040, 65049], [65072, 65106], [65108, 65126], [65128, 65131], [65281, 65376], [65504, 65510]],\n            i = [[94176, 94179], [94208, 100343], [100352, 101106], [110592, 110878], [110928, 110930], [110948, 110951], [110960, 111355], [126980, 126980], [127183, 127183], [127374, 127374], [127377, 127386], [127488, 127490], [127504, 127547], [127552, 127560], [127568, 127569], [127584, 127589], [127744, 127776], [127789, 127797], [127799, 127868], [127870, 127891], [127904, 127946], [127951, 127955], [127968, 127984], [127988, 127988], [127992, 128062], [128064, 128064], [128066, 128252], [128255, 128317], [128331, 128334], [128336, 128359], [128378, 128378], [128405, 128406], [128420, 128420], [128507, 128591], [128640, 128709], [128716, 128716], [128720, 128722], [128725, 128725], [128747, 128748], [128756, 128762], [128992, 129003], [129293, 129393], [129395, 129398], [129402, 129442], [129445, 129450], [129454, 129482], [129485, 129535], [129648, 129651], [129656, 129658], [129664, 129666], [129680, 129685], [131072, 196605], [196608, 262141]];\n          let d;\n          function c(e, t) {\n            let o,\n              n = 0,\n              r = t.length - 1;\n            if (e < t[0][0] || e > t[r][1]) return !1;\n            for (; r >= n;) if (o = n + r >> 1, e > t[o][1]) n = o + 1;else {\n              if (!(e < t[o][0])) return !0;\n              r = o - 1;\n            }\n            return !1;\n          }\n          t.UnicodeV11 = class {\n            constructor() {\n              if (this.version = \"11\", !d) {\n                d = new Uint8Array(65536), d.fill(1), d[0] = 0, d.fill(0, 1, 32), d.fill(0, 127, 160);\n                for (let e = 0; e < o.length; ++e) d.fill(0, o[e][0], o[e][1] + 1);\n                for (let e = 0; e < r.length; ++e) d.fill(2, r[e][0], r[e][1] + 1);\n              }\n            }\n            wcwidth(e) {\n              return e < 32 ? 0 : e < 127 ? 1 : e < 65536 ? d[e] : c(e, n) ? 0 : c(e, i) ? 2 : 1;\n            }\n          };\n        }\n      },\n      t = {};\n    function o(n) {\n      var r = t[n];\n      if (void 0 !== r) return r.exports;\n      var i = t[n] = {\n        exports: {}\n      };\n      return e[n](i, i.exports, o), i.exports;\n    }\n    var n = {};\n    return (() => {\n      var e = n;\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.Unicode11Addon = void 0;\n      const t = o(433);\n      e.Unicode11Addon = class {\n        activate(e) {\n          e.unicode.register(new t.UnicodeV11());\n        }\n        dispose() {}\n      };\n    })(), n;\n  })();\n});\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/xterm-addon-unicode11@0.5.0_xterm@5.2.1/node_modules/xterm-addon-unicode11/lib/xterm-addon-unicode11.js?");

/***/ }),

/***/ "./node_modules/.pnpm/xterm-addon-web-links@0.8.0_xterm@5.2.1/node_modules/xterm-addon-web-links/lib/xterm-addon-web-links.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xterm-addon-web-links@0.8.0_xterm@5.2.1/node_modules/xterm-addon-web-links/lib/xterm-addon-web-links.js ***!
  \************************************************************************************************************************************/
/***/ (function(module) {

eval("!function (e, t) {\n   true ? module.exports = t() : 0;\n}(self, function () {\n  return (() => {\n    \"use strict\";\n\n    var e = {\n        6: (e, t) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.LinkComputer = t.WebLinkProvider = void 0, t.WebLinkProvider = class {\n            constructor(e, t, n) {\n              let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n              this._terminal = e, this._regex = t, this._handler = n, this._options = i;\n            }\n            provideLinks(e, t) {\n              const i = n.computeLink(e, this._regex, this._terminal, this._handler);\n              t(this._addCallbacks(i));\n            }\n            _addCallbacks(e) {\n              return e.map(e => (e.leave = this._options.leave, e.hover = (t, n) => {\n                if (this._options.hover) {\n                  const {\n                    range: i\n                  } = e;\n                  this._options.hover(t, n, i);\n                }\n              }, e));\n            }\n          };\n          class n {\n            static computeLink(e, t, i, r) {\n              const o = new RegExp(t.source, (t.flags || \"\") + \"g\"),\n                [s, a] = n._getWindowedLineStrings(e - 1, i),\n                c = s.join(\"\");\n              let d;\n              const l = [];\n              for (; d = o.exec(c);) {\n                const e = d[0];\n                try {\n                  const t = new URL(e),\n                    n = decodeURI(t.toString());\n                  if (e !== n && e + \"/\" !== n) continue;\n                } catch (e) {\n                  continue;\n                }\n                const [t, o] = n._mapStrIdx(i, a, 0, d.index),\n                  [s, c] = n._mapStrIdx(i, t, o, e.length);\n                if (-1 === t || -1 === o || -1 === s || -1 === c) continue;\n                const p = {\n                  start: {\n                    x: o + 1,\n                    y: t + 1\n                  },\n                  end: {\n                    x: c,\n                    y: s + 1\n                  }\n                };\n                l.push({\n                  range: p,\n                  text: e,\n                  activate: r\n                });\n              }\n              return l;\n            }\n            static _getWindowedLineStrings(e, t) {\n              let n,\n                i = e,\n                r = e,\n                o = 0,\n                s = \"\";\n              const a = [];\n              if (n = t.buffer.active.getLine(e)) {\n                const e = n.translateToString(!0);\n                if (n.isWrapped && \" \" !== e[0]) {\n                  for (o = 0; (n = t.buffer.active.getLine(--i)) && o < 2048 && (s = n.translateToString(!0), o += s.length, a.push(s), n.isWrapped && -1 === s.indexOf(\" \")););\n                  a.reverse();\n                }\n                for (a.push(e), o = 0; (n = t.buffer.active.getLine(++r)) && n.isWrapped && o < 2048 && (s = n.translateToString(!0), o += s.length, a.push(s), -1 === s.indexOf(\" \")););\n              }\n              return [a, i];\n            }\n            static _mapStrIdx(e, t, n, i) {\n              const r = e.buffer.active,\n                o = r.getNullCell();\n              let s = n;\n              for (; i;) {\n                const e = r.getLine(t);\n                if (!e) return [-1, -1];\n                for (let n = s; n < e.length; ++n) {\n                  e.getCell(n, o);\n                  const s = o.getChars();\n                  if (o.getWidth() && (i -= s.length || 1, n === e.length - 1 && \"\" === s)) {\n                    const e = r.getLine(t + 1);\n                    e && e.isWrapped && (e.getCell(0, o), 2 === o.getWidth() && (i += 1));\n                  }\n                  if (i < 0) return [t, n];\n                }\n                t++, s = 0;\n              }\n              return [t, s];\n            }\n          }\n          t.LinkComputer = n;\n        }\n      },\n      t = {};\n    function n(i) {\n      var r = t[i];\n      if (void 0 !== r) return r.exports;\n      var o = t[i] = {\n        exports: {}\n      };\n      return e[i](o, o.exports, n), o.exports;\n    }\n    var i = {};\n    return (() => {\n      var e = i;\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.WebLinksAddon = void 0;\n      const t = n(6),\n        r = /https?:[/]{2}[^\\s\"'!*(){}|\\\\\\^<>`]*[^\\s\"':,.!?{}|\\\\\\^~\\[\\]`()<>]/;\n      function o(e, t) {\n        const n = window.open();\n        if (n) {\n          try {\n            n.opener = null;\n          } catch (e) {}\n          n.location.href = t;\n        } else system.openInBrowser(t);\n      }\n      e.WebLinksAddon = class {\n        constructor() {\n          let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : o;\n          let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          this._handler = e, this._options = t;\n        }\n        activate(e) {\n          this._terminal = e;\n          const n = this._options,\n            i = n.urlRegex || r;\n          this._linkProvider = this._terminal.registerLinkProvider(new t.WebLinkProvider(this._terminal, i, this._handler, n));\n        }\n        dispose() {\n          var e;\n          null === (e = this._linkProvider) || void 0 === e || e.dispose();\n        }\n      };\n    })(), i;\n  })();\n});\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/xterm-addon-web-links@0.8.0_xterm@5.2.1/node_modules/xterm-addon-web-links/lib/xterm-addon-web-links.js?");

/***/ }),

/***/ "./node_modules/.pnpm/xterm-addon-webgl@0.14.0_xterm@5.2.1/node_modules/xterm-addon-webgl/lib/xterm-addon-webgl.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/xterm-addon-webgl@0.14.0_xterm@5.2.1/node_modules/xterm-addon-webgl/lib/xterm-addon-webgl.js ***!
  \*************************************************************************************************************************/
/***/ (function(module) {

eval("!function (e, t) {\n   true ? module.exports = t() : 0;\n}(self, function () {\n  return (() => {\n    \"use strict\";\n\n    var e = {\n        965: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.GlyphRenderer = void 0;\n          const s = i(381),\n            r = i(855),\n            o = i(859),\n            n = i(374),\n            a = i(509),\n            h = 11,\n            l = h * Float32Array.BYTES_PER_ELEMENT;\n          let c,\n            d = 0,\n            _ = 0,\n            u = 0;\n          class g extends o.Disposable {\n            constructor(e, t, i) {\n              super(), this._terminal = e, this._gl = t, this._dimensions = i, this._activeBuffer = 0, this._vertices = {\n                count: 0,\n                attributes: new Float32Array(0),\n                attributesBuffers: [new Float32Array(0), new Float32Array(0)]\n              };\n              const r = this._gl;\n              void 0 === a.TextureAtlas.maxAtlasPages && (a.TextureAtlas.maxAtlasPages = Math.min(32, (0, n.throwIfFalsy)(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS))), a.TextureAtlas.maxTextureSize = (0, n.throwIfFalsy)(r.getParameter(r.MAX_TEXTURE_SIZE))), this._program = (0, n.throwIfFalsy)((0, s.createProgram)(r, \"#version 300 es\\nlayout (location = 0) in vec2 a_unitquad;\\nlayout (location = 1) in vec2 a_cellpos;\\nlayout (location = 2) in vec2 a_offset;\\nlayout (location = 3) in vec2 a_size;\\nlayout (location = 4) in float a_texpage;\\nlayout (location = 5) in vec2 a_texcoord;\\nlayout (location = 6) in vec2 a_texsize;\\n\\nuniform mat4 u_projection;\\nuniform vec2 u_resolution;\\n\\nout vec2 v_texcoord;\\nflat out int v_texpage;\\n\\nvoid main() {\\n  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);\\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\\n  v_texpage = int(a_texpage);\\n  v_texcoord = a_texcoord + a_unitquad * a_texsize;\\n}\", function (e) {\n                let t = \"\";\n                for (let i = 1; i < e; i++) t += \" else if (v_texpage == \".concat(i, \") { outColor = texture(u_texture[\").concat(i, \"], v_texcoord); }\");\n                return \"#version 300 es\\nprecision lowp float;\\n\\nin vec2 v_texcoord;\\nflat in int v_texpage;\\n\\nuniform sampler2D u_texture[\".concat(e, \"];\\n\\nout vec4 outColor;\\n\\nvoid main() {\\n  if (v_texpage == 0) {\\n    outColor = texture(u_texture[0], v_texcoord);\\n  } \").concat(t, \"\\n}\");\n              }(a.TextureAtlas.maxAtlasPages))), this.register((0, o.toDisposable)(() => r.deleteProgram(this._program))), this._projectionLocation = (0, n.throwIfFalsy)(r.getUniformLocation(this._program, \"u_projection\")), this._resolutionLocation = (0, n.throwIfFalsy)(r.getUniformLocation(this._program, \"u_resolution\")), this._textureLocation = (0, n.throwIfFalsy)(r.getUniformLocation(this._program, \"u_texture\")), this._vertexArrayObject = r.createVertexArray(), r.bindVertexArray(this._vertexArrayObject);\n              const h = new Float32Array([0, 0, 1, 0, 0, 1, 1, 1]),\n                c = r.createBuffer();\n              this.register((0, o.toDisposable)(() => r.deleteBuffer(c))), r.bindBuffer(r.ARRAY_BUFFER, c), r.bufferData(r.ARRAY_BUFFER, h, r.STATIC_DRAW), r.enableVertexAttribArray(0), r.vertexAttribPointer(0, 2, this._gl.FLOAT, !1, 0, 0);\n              const d = new Uint8Array([0, 1, 2, 3]),\n                _ = r.createBuffer();\n              this.register((0, o.toDisposable)(() => r.deleteBuffer(_))), r.bindBuffer(r.ELEMENT_ARRAY_BUFFER, _), r.bufferData(r.ELEMENT_ARRAY_BUFFER, d, r.STATIC_DRAW), this._attributesBuffer = (0, n.throwIfFalsy)(r.createBuffer()), this.register((0, o.toDisposable)(() => r.deleteBuffer(this._attributesBuffer))), r.bindBuffer(r.ARRAY_BUFFER, this._attributesBuffer), r.enableVertexAttribArray(2), r.vertexAttribPointer(2, 2, r.FLOAT, !1, l, 0), r.vertexAttribDivisor(2, 1), r.enableVertexAttribArray(3), r.vertexAttribPointer(3, 2, r.FLOAT, !1, l, 2 * Float32Array.BYTES_PER_ELEMENT), r.vertexAttribDivisor(3, 1), r.enableVertexAttribArray(4), r.vertexAttribPointer(4, 1, r.FLOAT, !1, l, 4 * Float32Array.BYTES_PER_ELEMENT), r.vertexAttribDivisor(4, 1), r.enableVertexAttribArray(5), r.vertexAttribPointer(5, 2, r.FLOAT, !1, l, 5 * Float32Array.BYTES_PER_ELEMENT), r.vertexAttribDivisor(5, 1), r.enableVertexAttribArray(6), r.vertexAttribPointer(6, 2, r.FLOAT, !1, l, 7 * Float32Array.BYTES_PER_ELEMENT), r.vertexAttribDivisor(6, 1), r.enableVertexAttribArray(1), r.vertexAttribPointer(1, 2, r.FLOAT, !1, l, 9 * Float32Array.BYTES_PER_ELEMENT), r.vertexAttribDivisor(1, 1), r.useProgram(this._program);\n              const u = new Int32Array(a.TextureAtlas.maxAtlasPages);\n              for (let e = 0; e < a.TextureAtlas.maxAtlasPages; e++) u[e] = e;\n              r.uniform1iv(this._textureLocation, u), r.uniformMatrix4fv(this._projectionLocation, !1, s.PROJECTION_MATRIX), this._atlasTextures = [];\n              for (let e = 0; e < a.TextureAtlas.maxAtlasPages; e++) {\n                const t = new s.GLTexture((0, n.throwIfFalsy)(r.createTexture()));\n                this.register((0, o.toDisposable)(() => r.deleteTexture(t.texture))), r.activeTexture(r.TEXTURE0 + e), r.bindTexture(r.TEXTURE_2D, t.texture), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_S, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_T, r.CLAMP_TO_EDGE), r.texImage2D(r.TEXTURE_2D, 0, r.RGBA, 1, 1, 0, r.RGBA, r.UNSIGNED_BYTE, new Uint8Array([255, 0, 0, 255])), this._atlasTextures[e] = t;\n              }\n              r.enable(r.BLEND), r.blendFunc(r.SRC_ALPHA, r.ONE_MINUS_SRC_ALPHA), this.handleResize();\n            }\n            beginFrame() {\n              return !this._atlas || this._atlas.beginFrame();\n            }\n            updateCell(e, t, i, s, r, o, n, a) {\n              this._updateCell(this._vertices.attributes, e, t, i, s, r, o, n, a);\n            }\n            _updateCell(e, t, i, s, o, n, a, l, g) {\n              d = (i * this._terminal.cols + t) * h, s !== r.NULL_CELL_CODE && void 0 !== s ? this._atlas && (c = l && l.length > 1 ? this._atlas.getRasterizedGlyphCombinedChar(l, o, n, a) : this._atlas.getRasterizedGlyph(s, o, n, a), _ = Math.floor((this._dimensions.device.cell.width - this._dimensions.device.char.width) / 2), o !== g && c.offset.x > _ ? (u = c.offset.x - _, e[d] = -(c.offset.x - u) + this._dimensions.device.char.left, e[d + 1] = -c.offset.y + this._dimensions.device.char.top, e[d + 2] = (c.size.x - u) / this._dimensions.device.canvas.width, e[d + 3] = c.size.y / this._dimensions.device.canvas.height, e[d + 4] = c.texturePage, e[d + 5] = c.texturePositionClipSpace.x + u / this._atlas.pages[c.texturePage].canvas.width, e[d + 6] = c.texturePositionClipSpace.y, e[d + 7] = c.sizeClipSpace.x - u / this._atlas.pages[c.texturePage].canvas.width, e[d + 8] = c.sizeClipSpace.y) : (e[d] = -c.offset.x + this._dimensions.device.char.left, e[d + 1] = -c.offset.y + this._dimensions.device.char.top, e[d + 2] = c.size.x / this._dimensions.device.canvas.width, e[d + 3] = c.size.y / this._dimensions.device.canvas.height, e[d + 4] = c.texturePage, e[d + 5] = c.texturePositionClipSpace.x, e[d + 6] = c.texturePositionClipSpace.y, e[d + 7] = c.sizeClipSpace.x, e[d + 8] = c.sizeClipSpace.y)) : e.fill(0, d, d + h - 1 - 2);\n            }\n            clear() {\n              const e = this._terminal,\n                t = e.cols * e.rows * h;\n              this._vertices.count !== t ? this._vertices.attributes = new Float32Array(t) : this._vertices.attributes.fill(0);\n              let i = 0;\n              for (; i < this._vertices.attributesBuffers.length; i++) this._vertices.count !== t ? this._vertices.attributesBuffers[i] = new Float32Array(t) : this._vertices.attributesBuffers[i].fill(0);\n              this._vertices.count = t, i = 0;\n              for (let t = 0; t < e.rows; t++) for (let s = 0; s < e.cols; s++) this._vertices.attributes[i + 9] = s / e.cols, this._vertices.attributes[i + 10] = t / e.rows, i += h;\n            }\n            handleResize() {\n              const e = this._gl;\n              e.viewport(0, 0, e.canvas.width, e.canvas.height), e.uniform2f(this._resolutionLocation, e.canvas.width, e.canvas.height), this.clear();\n            }\n            render(e) {\n              if (!this._atlas) return;\n              const t = this._gl;\n              t.useProgram(this._program), t.bindVertexArray(this._vertexArrayObject), this._activeBuffer = (this._activeBuffer + 1) % 2;\n              const i = this._vertices.attributesBuffers[this._activeBuffer];\n              let s = 0;\n              for (let t = 0; t < e.lineLengths.length; t++) {\n                const r = t * this._terminal.cols * h,\n                  o = this._vertices.attributes.subarray(r, r + e.lineLengths[t] * h);\n                i.set(o, s), s += o.length;\n              }\n              t.bindBuffer(t.ARRAY_BUFFER, this._attributesBuffer), t.bufferData(t.ARRAY_BUFFER, i.subarray(0, s), t.STREAM_DRAW);\n              for (let e = 0; e < this._atlas.pages.length; e++) this._atlas.pages[e].version !== this._atlasTextures[e].version && this._bindAtlasPageTexture(t, this._atlas, e);\n              t.drawElementsInstanced(t.TRIANGLE_STRIP, 4, t.UNSIGNED_BYTE, 0, s / h);\n            }\n            setAtlas(e) {\n              this._atlas = e;\n              for (const e of this._atlasTextures) e.version = -1;\n            }\n            _bindAtlasPageTexture(e, t, i) {\n              e.activeTexture(e.TEXTURE0 + i), e.bindTexture(e.TEXTURE_2D, this._atlasTextures[i].texture), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, t.pages[i].canvas), e.generateMipmap(e.TEXTURE_2D), this._atlasTextures[i].version = t.pages[i].version;\n            }\n            setDimensions(e) {\n              this._dimensions = e;\n            }\n          }\n          t.GlyphRenderer = g;\n        },\n        742: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.RectangleRenderer = void 0;\n          const s = i(381),\n            r = i(310),\n            o = i(859),\n            n = i(237),\n            a = i(374),\n            h = 8 * Float32Array.BYTES_PER_ELEMENT;\n          let l = 0,\n            c = !1,\n            d = 0,\n            _ = 0,\n            u = 0,\n            g = 0,\n            v = 0,\n            f = 0;\n          class C extends o.Disposable {\n            constructor(e, t, i, r) {\n              super(), this._terminal = e, this._gl = t, this._dimensions = i, this._themeService = r, this._vertices = {\n                count: 0,\n                attributes: new Float32Array(160)\n              };\n              const n = this._gl;\n              this._program = (0, a.throwIfFalsy)((0, s.createProgram)(n, \"#version 300 es\\nlayout (location = 0) in vec2 a_position;\\nlayout (location = 1) in vec2 a_size;\\nlayout (location = 2) in vec4 a_color;\\nlayout (location = 3) in vec2 a_unitquad;\\n\\nuniform mat4 u_projection;\\n\\nout vec4 v_color;\\n\\nvoid main() {\\n  vec2 zeroToOne = a_position + (a_unitquad * a_size);\\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\\n  v_color = a_color;\\n}\", \"#version 300 es\\nprecision lowp float;\\n\\nin vec4 v_color;\\n\\nout vec4 outColor;\\n\\nvoid main() {\\n  outColor = v_color;\\n}\")), this.register((0, o.toDisposable)(() => n.deleteProgram(this._program))), this._projectionLocation = (0, a.throwIfFalsy)(n.getUniformLocation(this._program, \"u_projection\")), this._vertexArrayObject = n.createVertexArray(), n.bindVertexArray(this._vertexArrayObject);\n              const l = new Float32Array([0, 0, 1, 0, 0, 1, 1, 1]),\n                c = n.createBuffer();\n              this.register((0, o.toDisposable)(() => n.deleteBuffer(c))), n.bindBuffer(n.ARRAY_BUFFER, c), n.bufferData(n.ARRAY_BUFFER, l, n.STATIC_DRAW), n.enableVertexAttribArray(3), n.vertexAttribPointer(3, 2, this._gl.FLOAT, !1, 0, 0);\n              const d = new Uint8Array([0, 1, 2, 3]),\n                _ = n.createBuffer();\n              this.register((0, o.toDisposable)(() => n.deleteBuffer(_))), n.bindBuffer(n.ELEMENT_ARRAY_BUFFER, _), n.bufferData(n.ELEMENT_ARRAY_BUFFER, d, n.STATIC_DRAW), this._attributesBuffer = (0, a.throwIfFalsy)(n.createBuffer()), this.register((0, o.toDisposable)(() => n.deleteBuffer(this._attributesBuffer))), n.bindBuffer(n.ARRAY_BUFFER, this._attributesBuffer), n.enableVertexAttribArray(0), n.vertexAttribPointer(0, 2, n.FLOAT, !1, h, 0), n.vertexAttribDivisor(0, 1), n.enableVertexAttribArray(1), n.vertexAttribPointer(1, 2, n.FLOAT, !1, h, 2 * Float32Array.BYTES_PER_ELEMENT), n.vertexAttribDivisor(1, 1), n.enableVertexAttribArray(2), n.vertexAttribPointer(2, 4, n.FLOAT, !1, h, 4 * Float32Array.BYTES_PER_ELEMENT), n.vertexAttribDivisor(2, 1), this._updateCachedColors(r.colors), this.register(this._themeService.onChangeColors(e => {\n                this._updateCachedColors(e), this._updateViewportRectangle();\n              }));\n            }\n            render() {\n              const e = this._gl;\n              e.useProgram(this._program), e.bindVertexArray(this._vertexArrayObject), e.uniformMatrix4fv(this._projectionLocation, !1, s.PROJECTION_MATRIX), e.bindBuffer(e.ARRAY_BUFFER, this._attributesBuffer), e.bufferData(e.ARRAY_BUFFER, this._vertices.attributes, e.DYNAMIC_DRAW), e.drawElementsInstanced(this._gl.TRIANGLE_STRIP, 4, e.UNSIGNED_BYTE, 0, this._vertices.count);\n            }\n            handleResize() {\n              this._updateViewportRectangle();\n            }\n            setDimensions(e) {\n              this._dimensions = e;\n            }\n            _updateCachedColors(e) {\n              this._bgFloat = this._colorToFloat32Array(e.background);\n            }\n            _updateViewportRectangle() {\n              this._addRectangleFloat(this._vertices.attributes, 0, 0, 0, this._terminal.cols * this._dimensions.device.cell.width, this._terminal.rows * this._dimensions.device.cell.height, this._bgFloat);\n            }\n            updateBackgrounds(e) {\n              const t = this._terminal,\n                i = this._vertices;\n              let s,\n                o,\n                n,\n                a,\n                h,\n                l,\n                c,\n                d,\n                _,\n                u,\n                g,\n                v = 1;\n              for (s = 0; s < t.rows; s++) {\n                for (n = -1, a = 0, h = 0, l = !1, o = 0; o < t.cols; o++) c = (s * t.cols + o) * r.RENDER_MODEL_INDICIES_PER_CELL, d = e.cells[c + r.RENDER_MODEL_BG_OFFSET], _ = e.cells[c + r.RENDER_MODEL_FG_OFFSET], u = !!(67108864 & _), (d !== a || _ !== h && (l || u)) && ((0 !== a || l && 0 !== h) && (g = 8 * v++, this._updateRectangle(i, g, h, a, n, o, s)), n = o, a = d, h = _, l = u);\n                (0 !== a || l && 0 !== h) && (g = 8 * v++, this._updateRectangle(i, g, h, a, n, t.cols, s));\n              }\n              i.count = v;\n            }\n            _updateRectangle(e, t, i, r, o, a, h) {\n              if (c = !1, 67108864 & i) switch (50331648 & i) {\n                case 16777216:\n                case 33554432:\n                  l = this._themeService.colors.ansi[255 & i].rgba;\n                  break;\n                case 50331648:\n                  l = (16777215 & i) << 8;\n                  break;\n                default:\n                  l = this._themeService.colors.foreground.rgba;\n              } else switch (50331648 & r) {\n                case 16777216:\n                case 33554432:\n                  l = this._themeService.colors.ansi[255 & r].rgba;\n                  break;\n                case 50331648:\n                  l = (16777215 & r) << 8;\n                  break;\n                default:\n                  l = this._themeService.colors.background.rgba, c = !0;\n              }\n              e.attributes.length < t + 4 && (e.attributes = (0, s.expandFloat32Array)(e.attributes, this._terminal.rows * this._terminal.cols * 8)), d = o * this._dimensions.device.cell.width, _ = h * this._dimensions.device.cell.height, u = (l >> 24 & 255) / 255, g = (l >> 16 & 255) / 255, v = (l >> 8 & 255) / 255, f = !c && 134217728 & r ? n.DIM_OPACITY : 1, this._addRectangle(e.attributes, t, d, _, (a - o) * this._dimensions.device.cell.width, this._dimensions.device.cell.height, u, g, v, f);\n            }\n            _addRectangle(e, t, i, s, r, o, n, a, h, l) {\n              e[t] = i / this._dimensions.device.canvas.width, e[t + 1] = s / this._dimensions.device.canvas.height, e[t + 2] = r / this._dimensions.device.canvas.width, e[t + 3] = o / this._dimensions.device.canvas.height, e[t + 4] = n, e[t + 5] = a, e[t + 6] = h, e[t + 7] = l;\n            }\n            _addRectangleFloat(e, t, i, s, r, o, n) {\n              e[t] = i / this._dimensions.device.canvas.width, e[t + 1] = s / this._dimensions.device.canvas.height, e[t + 2] = r / this._dimensions.device.canvas.width, e[t + 3] = o / this._dimensions.device.canvas.height, e[t + 4] = n[0], e[t + 5] = n[1], e[t + 6] = n[2], e[t + 7] = n[3];\n            }\n            _colorToFloat32Array(e) {\n              return new Float32Array([(e.rgba >> 24 & 255) / 255, (e.rgba >> 16 & 255) / 255, (e.rgba >> 8 & 255) / 255, (255 & e.rgba) / 255]);\n            }\n          }\n          t.RectangleRenderer = C;\n        },\n        310: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.RenderModel = t.COMBINED_CHAR_BIT_MASK = t.RENDER_MODEL_EXT_OFFSET = t.RENDER_MODEL_FG_OFFSET = t.RENDER_MODEL_BG_OFFSET = t.RENDER_MODEL_INDICIES_PER_CELL = void 0;\n          const s = i(296);\n          t.RENDER_MODEL_INDICIES_PER_CELL = 4, t.RENDER_MODEL_BG_OFFSET = 1, t.RENDER_MODEL_FG_OFFSET = 2, t.RENDER_MODEL_EXT_OFFSET = 3, t.COMBINED_CHAR_BIT_MASK = 2147483648, t.RenderModel = class {\n            constructor() {\n              this.cells = new Uint32Array(0), this.lineLengths = new Uint32Array(0), this.selection = (0, s.createSelectionRenderModel)();\n            }\n            resize(e, i) {\n              const s = e * i * t.RENDER_MODEL_INDICIES_PER_CELL;\n              s !== this.cells.length && (this.cells = new Uint32Array(s), this.lineLengths = new Uint32Array(i));\n            }\n            clear() {\n              this.cells.fill(0, 0), this.lineLengths.fill(0, 0);\n            }\n          };\n        },\n        666: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.JoinedCellData = t.WebglRenderer = void 0;\n          const s = i(820),\n            r = i(274),\n            o = i(627),\n            n = i(56),\n            a = i(374),\n            h = i(147),\n            l = i(782),\n            c = i(855),\n            d = i(345),\n            _ = i(859),\n            u = i(965),\n            g = i(742),\n            v = i(461),\n            f = i(733),\n            C = i(310);\n          class p extends _.Disposable {\n            constructor(e, t, i, h, c, u, g, p, m) {\n              super(), this._terminal = e, this._characterJoinerService = t, this._charSizeService = i, this._coreBrowserService = h, this._decorationService = u, this._optionsService = g, this._themeService = p, this._model = new C.RenderModel(), this._workCell = new l.CellData(), this._onChangeTextureAtlas = this.register(new d.EventEmitter()), this.onChangeTextureAtlas = this._onChangeTextureAtlas.event, this._onAddTextureAtlasCanvas = this.register(new d.EventEmitter()), this.onAddTextureAtlasCanvas = this._onAddTextureAtlasCanvas.event, this._onRemoveTextureAtlasCanvas = this.register(new d.EventEmitter()), this.onRemoveTextureAtlasCanvas = this._onRemoveTextureAtlasCanvas.event, this._onRequestRedraw = this.register(new d.EventEmitter()), this.onRequestRedraw = this._onRequestRedraw.event, this._onContextLoss = this.register(new d.EventEmitter()), this.onContextLoss = this._onContextLoss.event, this.register(this._themeService.onChangeColors(() => this._handleColorChange())), this._cellColorResolver = new r.CellColorResolver(this._terminal, this._model.selection, this._decorationService, this._coreBrowserService, this._themeService), this._core = this._terminal._core, this._renderLayers = [new f.LinkRenderLayer(this._core.screenElement, 2, this._terminal, this._core.linkifier2, this._coreBrowserService, g, this._themeService), new v.CursorRenderLayer(e, this._core.screenElement, 3, this._onRequestRedraw, this._coreBrowserService, c, g, this._themeService)], this.dimensions = (0, a.createRenderDimensions)(), this._devicePixelRatio = this._coreBrowserService.dpr, this._updateDimensions(), this.register(g.onOptionChange(() => this._handleOptionsChanged())), this._canvas = document.createElement(\"canvas\");\n              const x = {\n                antialias: !1,\n                depth: !1,\n                preserveDrawingBuffer: m\n              };\n              if (this._gl = this._canvas.getContext(\"webgl2\", x), !this._gl) throw new Error(\"WebGL2 not supported \" + this._gl);\n              this.register((0, s.addDisposableDomListener)(this._canvas, \"webglcontextlost\", e => {\n                console.log(\"webglcontextlost event received\"), e.preventDefault(), this._contextRestorationTimeout = setTimeout(() => {\n                  this._contextRestorationTimeout = void 0, console.warn(\"webgl context not restored; firing onContextLoss\"), this._onContextLoss.fire(e);\n                }, 3e3);\n              })), this.register((0, s.addDisposableDomListener)(this._canvas, \"webglcontextrestored\", e => {\n                console.warn(\"webglcontextrestored event received\"), clearTimeout(this._contextRestorationTimeout), this._contextRestorationTimeout = void 0, (0, o.removeTerminalFromCache)(this._terminal), this._initializeWebGLState(), this._requestRedrawViewport();\n              })), this.register((0, n.observeDevicePixelDimensions)(this._canvas, this._coreBrowserService.window, (e, t) => this._setCanvasDevicePixelDimensions(e, t))), this._core.screenElement.appendChild(this._canvas), [this._rectangleRenderer, this._glyphRenderer] = this._initializeWebGLState(), this._isAttached = this._coreBrowserService.window.document.body.contains(this._core.screenElement), this.register((0, _.toDisposable)(() => {\n                var e;\n                for (const e of this._renderLayers) e.dispose();\n                null === (e = this._canvas.parentElement) || void 0 === e || e.removeChild(this._canvas), (0, o.removeTerminalFromCache)(this._terminal);\n              }));\n            }\n            get textureAtlas() {\n              var e;\n              return null === (e = this._charAtlas) || void 0 === e ? void 0 : e.pages[0].canvas;\n            }\n            _handleColorChange() {\n              this._refreshCharAtlas(), this._clearModel(!0);\n            }\n            handleDevicePixelRatioChange() {\n              this._devicePixelRatio !== this._coreBrowserService.dpr && (this._devicePixelRatio = this._coreBrowserService.dpr, this.handleResize(this._terminal.cols, this._terminal.rows));\n            }\n            handleResize(e, t) {\n              this._updateDimensions(), this._model.resize(this._terminal.cols, this._terminal.rows);\n              for (const e of this._renderLayers) e.resize(this._terminal, this.dimensions);\n              this._canvas.width = this.dimensions.device.canvas.width, this._canvas.height = this.dimensions.device.canvas.height, this._canvas.style.width = \"\".concat(this.dimensions.css.canvas.width, \"px\"), this._canvas.style.height = \"\".concat(this.dimensions.css.canvas.height, \"px\"), this._core.screenElement.style.width = \"\".concat(this.dimensions.css.canvas.width, \"px\"), this._core.screenElement.style.height = \"\".concat(this.dimensions.css.canvas.height, \"px\"), this._rectangleRenderer.setDimensions(this.dimensions), this._rectangleRenderer.handleResize(), this._glyphRenderer.setDimensions(this.dimensions), this._glyphRenderer.handleResize(), this._refreshCharAtlas(), this._clearModel(!1);\n            }\n            handleCharSizeChanged() {\n              this.handleResize(this._terminal.cols, this._terminal.rows);\n            }\n            handleBlur() {\n              for (const e of this._renderLayers) e.handleBlur(this._terminal);\n              this._requestRedrawViewport();\n            }\n            handleFocus() {\n              for (const e of this._renderLayers) e.handleFocus(this._terminal);\n              this._requestRedrawViewport();\n            }\n            handleSelectionChanged(e, t, i) {\n              for (const s of this._renderLayers) s.handleSelectionChanged(this._terminal, e, t, i);\n              this._model.selection.update(this._terminal, e, t, i), this._requestRedrawViewport();\n            }\n            handleCursorMove() {\n              for (const e of this._renderLayers) e.handleCursorMove(this._terminal);\n            }\n            _handleOptionsChanged() {\n              this._updateDimensions(), this._refreshCharAtlas();\n            }\n            _initializeWebGLState() {\n              var e, t;\n              return null === (e = this._rectangleRenderer) || void 0 === e || e.dispose(), null === (t = this._glyphRenderer) || void 0 === t || t.dispose(), this._rectangleRenderer = this.register(new g.RectangleRenderer(this._terminal, this._gl, this.dimensions, this._themeService)), this._glyphRenderer = this.register(new u.GlyphRenderer(this._terminal, this._gl, this.dimensions)), this.handleCharSizeChanged(), [this._rectangleRenderer, this._glyphRenderer];\n            }\n            _refreshCharAtlas() {\n              var e;\n              if (this.dimensions.device.char.width <= 0 && this.dimensions.device.char.height <= 0) return void (this._isAttached = !1);\n              const t = (0, o.acquireTextureAtlas)(this._terminal, this._optionsService.rawOptions, this._themeService.colors, this.dimensions.device.cell.width, this.dimensions.device.cell.height, this.dimensions.device.char.width, this.dimensions.device.char.height, this._coreBrowserService.dpr);\n              this._charAtlas !== t && (null === (e = this._charAtlasDisposable) || void 0 === e || e.dispose(), this._onChangeTextureAtlas.fire(t.pages[0].canvas), this._charAtlasDisposable = (0, _.getDisposeArrayDisposable)([(0, d.forwardEvent)(t.onAddTextureAtlasCanvas, this._onAddTextureAtlasCanvas), (0, d.forwardEvent)(t.onRemoveTextureAtlasCanvas, this._onRemoveTextureAtlasCanvas)])), this._charAtlas = t, this._charAtlas.warmUp(), this._glyphRenderer.setAtlas(this._charAtlas);\n            }\n            _clearModel(e) {\n              this._model.clear(), e && this._glyphRenderer.clear();\n            }\n            clearTextureAtlas() {\n              var e;\n              null === (e = this._charAtlas) || void 0 === e || e.clearTexture(), this._clearModel(!0), this._requestRedrawViewport();\n            }\n            clear() {\n              this._clearModel(!0);\n              for (const e of this._renderLayers) e.reset(this._terminal);\n            }\n            registerCharacterJoiner(e) {\n              return -1;\n            }\n            deregisterCharacterJoiner(e) {\n              return !1;\n            }\n            renderRows(e, t) {\n              if (!this._isAttached) {\n                if (!(this._coreBrowserService.window.document.body.contains(this._core.screenElement) && this._charSizeService.width && this._charSizeService.height)) return;\n                this._updateDimensions(), this._refreshCharAtlas(), this._isAttached = !0;\n              }\n              for (const i of this._renderLayers) i.handleGridChanged(this._terminal, e, t);\n              this._glyphRenderer.beginFrame() && this._clearModel(!0), this._updateModel(e, t), this._rectangleRenderer.render(), this._glyphRenderer.render(this._model);\n            }\n            _updateModel(e, t) {\n              const i = this._core;\n              let s,\n                r,\n                o,\n                n,\n                a,\n                h,\n                l,\n                d,\n                _,\n                u,\n                g,\n                v,\n                f,\n                p = this._workCell;\n              for (r = e; r <= t && (o = r + i.buffer.ydisp, n = i.buffer.lines.get(o), n); r++) for (this._model.lineLengths[r] = 0, a = this._characterJoinerService.getJoinedCharacters(o), v = 0; v < i.cols; v++) if (s = this._cellColorResolver.result.bg, n.loadCell(v, p), 0 === v && (s = this._cellColorResolver.result.bg), h = !1, l = v, a.length > 0 && v === a[0][0] && (h = !0, d = a.shift(), p = new m(p, n.translateToString(!0, d[0], d[1]), d[1] - d[0]), l = d[1] - 1), _ = p.getChars(), u = p.getCode(), g = (r * i.cols + v) * C.RENDER_MODEL_INDICIES_PER_CELL, this._cellColorResolver.resolve(p, v, o), u !== c.NULL_CELL_CODE && (this._model.lineLengths[r] = v + 1), (this._model.cells[g] !== u || this._model.cells[g + C.RENDER_MODEL_BG_OFFSET] !== this._cellColorResolver.result.bg || this._model.cells[g + C.RENDER_MODEL_FG_OFFSET] !== this._cellColorResolver.result.fg || this._model.cells[g + C.RENDER_MODEL_EXT_OFFSET] !== this._cellColorResolver.result.ext) && (_.length > 1 && (u |= C.COMBINED_CHAR_BIT_MASK), this._model.cells[g] = u, this._model.cells[g + C.RENDER_MODEL_BG_OFFSET] = this._cellColorResolver.result.bg, this._model.cells[g + C.RENDER_MODEL_FG_OFFSET] = this._cellColorResolver.result.fg, this._model.cells[g + C.RENDER_MODEL_EXT_OFFSET] = this._cellColorResolver.result.ext, this._glyphRenderer.updateCell(v, r, u, this._cellColorResolver.result.bg, this._cellColorResolver.result.fg, this._cellColorResolver.result.ext, _, s), h)) for (p = this._workCell, v++; v < l; v++) f = (r * i.cols + v) * C.RENDER_MODEL_INDICIES_PER_CELL, this._glyphRenderer.updateCell(v, r, c.NULL_CELL_CODE, 0, 0, 0, c.NULL_CELL_CHAR, 0), this._model.cells[f] = c.NULL_CELL_CODE, this._model.cells[f + C.RENDER_MODEL_BG_OFFSET] = this._cellColorResolver.result.bg, this._model.cells[f + C.RENDER_MODEL_FG_OFFSET] = this._cellColorResolver.result.fg, this._model.cells[f + C.RENDER_MODEL_EXT_OFFSET] = this._cellColorResolver.result.ext;\n              this._rectangleRenderer.updateBackgrounds(this._model);\n            }\n            _updateDimensions() {\n              this._charSizeService.width && this._charSizeService.height && (this.dimensions.device.char.width = Math.floor(this._charSizeService.width * this._devicePixelRatio), this.dimensions.device.char.height = Math.ceil(this._charSizeService.height * this._devicePixelRatio), this.dimensions.device.cell.height = Math.floor(this.dimensions.device.char.height * this._optionsService.rawOptions.lineHeight), this.dimensions.device.char.top = 1 === this._optionsService.rawOptions.lineHeight ? 0 : Math.round((this.dimensions.device.cell.height - this.dimensions.device.char.height) / 2), this.dimensions.device.cell.width = this.dimensions.device.char.width + Math.round(this._optionsService.rawOptions.letterSpacing), this.dimensions.device.char.left = Math.floor(this._optionsService.rawOptions.letterSpacing / 2), this.dimensions.device.canvas.height = this._terminal.rows * this.dimensions.device.cell.height, this.dimensions.device.canvas.width = this._terminal.cols * this.dimensions.device.cell.width, this.dimensions.css.canvas.height = Math.round(this.dimensions.device.canvas.height / this._devicePixelRatio), this.dimensions.css.canvas.width = Math.round(this.dimensions.device.canvas.width / this._devicePixelRatio), this.dimensions.css.cell.height = this.dimensions.device.cell.height / this._devicePixelRatio, this.dimensions.css.cell.width = this.dimensions.device.cell.width / this._devicePixelRatio);\n            }\n            _setCanvasDevicePixelDimensions(e, t) {\n              this._canvas.width === e && this._canvas.height === t || (this._canvas.width = e, this._canvas.height = t, this._requestRedrawViewport());\n            }\n            _requestRedrawViewport() {\n              this._onRequestRedraw.fire({\n                start: 0,\n                end: this._terminal.rows - 1\n              });\n            }\n          }\n          t.WebglRenderer = p;\n          class m extends h.AttributeData {\n            constructor(e, t, i) {\n              super(), this.content = 0, this.combinedData = \"\", this.fg = e.fg, this.bg = e.bg, this.combinedData = t, this._width = i;\n            }\n            isCombined() {\n              return 2097152;\n            }\n            getWidth() {\n              return this._width;\n            }\n            getChars() {\n              return this.combinedData;\n            }\n            getCode() {\n              return 2097151;\n            }\n            setFromCharData(e) {\n              throw new Error(\"not implemented\");\n            }\n            getAsCharData() {\n              return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n            }\n          }\n          t.JoinedCellData = m;\n        },\n        381: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.GLTexture = t.expandFloat32Array = t.createShader = t.createProgram = t.PROJECTION_MATRIX = void 0;\n          const s = i(374);\n          function r(e, t, i) {\n            const r = (0, s.throwIfFalsy)(e.createShader(t));\n            if (e.shaderSource(r, i), e.compileShader(r), e.getShaderParameter(r, e.COMPILE_STATUS)) return r;\n            console.error(e.getShaderInfoLog(r)), e.deleteShader(r);\n          }\n          t.PROJECTION_MATRIX = new Float32Array([2, 0, 0, 0, 0, -2, 0, 0, 0, 0, 1, 0, -1, 1, 0, 1]), t.createProgram = function (e, t, i) {\n            const o = (0, s.throwIfFalsy)(e.createProgram());\n            if (e.attachShader(o, (0, s.throwIfFalsy)(r(e, e.VERTEX_SHADER, t))), e.attachShader(o, (0, s.throwIfFalsy)(r(e, e.FRAGMENT_SHADER, i))), e.linkProgram(o), e.getProgramParameter(o, e.LINK_STATUS)) return o;\n            console.error(e.getProgramInfoLog(o)), e.deleteProgram(o);\n          }, t.createShader = r, t.expandFloat32Array = function (e, t) {\n            const i = Math.min(2 * e.length, t),\n              s = new Float32Array(i);\n            for (let t = 0; t < e.length; t++) s[t] = e[t];\n            return s;\n          }, t.GLTexture = class {\n            constructor(e) {\n              this.texture = e, this.version = -1;\n            }\n          };\n        },\n        592: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.BaseRenderLayer = void 0;\n          const s = i(627),\n            r = i(237),\n            o = i(374),\n            n = i(859);\n          class a extends n.Disposable {\n            constructor(e, t, i, s, r, o, a, h) {\n              super(), this._container = t, this._alpha = r, this._coreBrowserService = o, this._optionsService = a, this._themeService = h, this._deviceCharWidth = 0, this._deviceCharHeight = 0, this._deviceCellWidth = 0, this._deviceCellHeight = 0, this._deviceCharLeft = 0, this._deviceCharTop = 0, this._canvas = document.createElement(\"canvas\"), this._canvas.classList.add(\"xterm-\".concat(i, \"-layer\")), this._canvas.style.zIndex = s.toString(), this._initCanvas(), this._container.appendChild(this._canvas), this.register(this._themeService.onChangeColors(t => {\n                this._refreshCharAtlas(e, t), this.reset(e);\n              })), this.register((0, n.toDisposable)(() => {\n                var e;\n                this._canvas.remove(), null === (e = this._charAtlas) || void 0 === e || e.dispose();\n              }));\n            }\n            _initCanvas() {\n              this._ctx = (0, o.throwIfFalsy)(this._canvas.getContext(\"2d\", {\n                alpha: this._alpha\n              })), this._alpha || this._clearAll();\n            }\n            handleBlur(e) {}\n            handleFocus(e) {}\n            handleCursorMove(e) {}\n            handleGridChanged(e, t, i) {}\n            handleSelectionChanged(e, t, i) {\n              let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n            }\n            _setTransparency(e, t) {\n              if (t === this._alpha) return;\n              const i = this._canvas;\n              this._alpha = t, this._canvas = this._canvas.cloneNode(), this._initCanvas(), this._container.replaceChild(this._canvas, i), this._refreshCharAtlas(e, this._themeService.colors), this.handleGridChanged(e, 0, e.rows - 1);\n            }\n            _refreshCharAtlas(e, t) {\n              this._deviceCharWidth <= 0 && this._deviceCharHeight <= 0 || (this._charAtlas = (0, s.acquireTextureAtlas)(e, this._optionsService.rawOptions, t, this._deviceCellWidth, this._deviceCellHeight, this._deviceCharWidth, this._deviceCharHeight, this._coreBrowserService.dpr), this._charAtlas.warmUp());\n            }\n            resize(e, t) {\n              this._deviceCellWidth = t.device.cell.width, this._deviceCellHeight = t.device.cell.height, this._deviceCharWidth = t.device.char.width, this._deviceCharHeight = t.device.char.height, this._deviceCharLeft = t.device.char.left, this._deviceCharTop = t.device.char.top, this._canvas.width = t.device.canvas.width, this._canvas.height = t.device.canvas.height, this._canvas.style.width = \"\".concat(t.css.canvas.width, \"px\"), this._canvas.style.height = \"\".concat(t.css.canvas.height, \"px\"), this._alpha || this._clearAll(), this._refreshCharAtlas(e, this._themeService.colors);\n            }\n            _fillCells(e, t, i, s) {\n              this._ctx.fillRect(e * this._deviceCellWidth, t * this._deviceCellHeight, i * this._deviceCellWidth, s * this._deviceCellHeight);\n            }\n            _fillBottomLineAtCells(e, t) {\n              let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n              this._ctx.fillRect(e * this._deviceCellWidth, (t + 1) * this._deviceCellHeight - this._coreBrowserService.dpr - 1, i * this._deviceCellWidth, this._coreBrowserService.dpr);\n            }\n            _fillLeftLineAtCell(e, t, i) {\n              this._ctx.fillRect(e * this._deviceCellWidth, t * this._deviceCellHeight, this._coreBrowserService.dpr * i, this._deviceCellHeight);\n            }\n            _strokeRectAtCell(e, t, i, s) {\n              this._ctx.lineWidth = this._coreBrowserService.dpr, this._ctx.strokeRect(e * this._deviceCellWidth + this._coreBrowserService.dpr / 2, t * this._deviceCellHeight + this._coreBrowserService.dpr / 2, i * this._deviceCellWidth - this._coreBrowserService.dpr, s * this._deviceCellHeight - this._coreBrowserService.dpr);\n            }\n            _clearAll() {\n              this._alpha ? this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height) : (this._ctx.fillStyle = this._themeService.colors.background.css, this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height));\n            }\n            _clearCells(e, t, i, s) {\n              this._alpha ? this._ctx.clearRect(e * this._deviceCellWidth, t * this._deviceCellHeight, i * this._deviceCellWidth, s * this._deviceCellHeight) : (this._ctx.fillStyle = this._themeService.colors.background.css, this._ctx.fillRect(e * this._deviceCellWidth, t * this._deviceCellHeight, i * this._deviceCellWidth, s * this._deviceCellHeight));\n            }\n            _fillCharTrueColor(e, t, i, s) {\n              this._ctx.font = this._getFont(e, !1, !1), this._ctx.textBaseline = r.TEXT_BASELINE, this._clipCell(i, s, t.getWidth()), this._ctx.fillText(t.getChars(), i * this._deviceCellWidth + this._deviceCharLeft, s * this._deviceCellHeight + this._deviceCharTop + this._deviceCharHeight);\n            }\n            _clipCell(e, t, i) {\n              this._ctx.beginPath(), this._ctx.rect(e * this._deviceCellWidth, t * this._deviceCellHeight, i * this._deviceCellWidth, this._deviceCellHeight), this._ctx.clip();\n            }\n            _getFont(e, t, i) {\n              return \"\".concat(i ? \"italic\" : \"\", \" \").concat(t ? e.options.fontWeightBold : e.options.fontWeight, \" \").concat(e.options.fontSize * this._coreBrowserService.dpr, \"px \").concat(e.options.fontFamily);\n            }\n          }\n          t.BaseRenderLayer = a;\n        },\n        461: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CursorRenderLayer = void 0;\n          const s = i(592),\n            r = i(782),\n            o = i(859);\n          class n extends s.BaseRenderLayer {\n            constructor(e, t, i, s, n, a, h, l) {\n              super(e, t, \"cursor\", i, !0, n, h, l), this._onRequestRefreshRowsEvent = s, this._coreService = a, this._cell = new r.CellData(), this._state = {\n                x: 0,\n                y: 0,\n                isFocused: !1,\n                style: \"\",\n                width: 0\n              }, this._cursorRenderers = {\n                bar: this._renderBarCursor.bind(this),\n                block: this._renderBlockCursor.bind(this),\n                underline: this._renderUnderlineCursor.bind(this)\n              }, this._handleOptionsChanged(e), this.register(h.onOptionChange(() => this._handleOptionsChanged(e))), this.register((0, o.toDisposable)(() => {\n                var e;\n                null === (e = this._cursorBlinkStateManager) || void 0 === e || e.dispose(), this._cursorBlinkStateManager = void 0;\n              }));\n            }\n            resize(e, t) {\n              super.resize(e, t), this._state = {\n                x: 0,\n                y: 0,\n                isFocused: !1,\n                style: \"\",\n                width: 0\n              };\n            }\n            reset(e) {\n              var t;\n              this._clearCursor(), null === (t = this._cursorBlinkStateManager) || void 0 === t || t.restartBlinkAnimation(e), this._handleOptionsChanged(e);\n            }\n            handleBlur(e) {\n              var t;\n              null === (t = this._cursorBlinkStateManager) || void 0 === t || t.pause(), this._onRequestRefreshRowsEvent.fire({\n                start: e.buffer.active.cursorY,\n                end: e.buffer.active.cursorY\n              });\n            }\n            handleFocus(e) {\n              var t;\n              null === (t = this._cursorBlinkStateManager) || void 0 === t || t.resume(e), this._onRequestRefreshRowsEvent.fire({\n                start: e.buffer.active.cursorY,\n                end: e.buffer.active.cursorY\n              });\n            }\n            _handleOptionsChanged(e) {\n              var t;\n              e.options.cursorBlink ? this._cursorBlinkStateManager || (this._cursorBlinkStateManager = new a(() => {\n                this._render(e, !0);\n              }, this._coreBrowserService)) : (null === (t = this._cursorBlinkStateManager) || void 0 === t || t.dispose(), this._cursorBlinkStateManager = void 0), this._onRequestRefreshRowsEvent.fire({\n                start: e.buffer.active.cursorY,\n                end: e.buffer.active.cursorY\n              });\n            }\n            handleCursorMove(e) {\n              var t;\n              null === (t = this._cursorBlinkStateManager) || void 0 === t || t.restartBlinkAnimation(e);\n            }\n            handleGridChanged(e, t, i) {\n              !this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused ? this._render(e, !1) : this._cursorBlinkStateManager.restartBlinkAnimation(e);\n            }\n            _render(e, t) {\n              if (!this._coreService.isCursorInitialized || this._coreService.isCursorHidden) return void this._clearCursor();\n              const i = e.buffer.active.baseY + e.buffer.active.cursorY,\n                s = i - e.buffer.active.viewportY,\n                r = Math.min(e.buffer.active.cursorX, e.cols - 1);\n              if (s < 0 || s >= e.rows) this._clearCursor();else if (e._core.buffer.lines.get(i).loadCell(r, this._cell), void 0 !== this._cell.content) {\n                if (!this._coreBrowserService.isFocused) {\n                  this._clearCursor(), this._ctx.save(), this._ctx.fillStyle = this._themeService.colors.cursor.css;\n                  const t = e.options.cursorStyle;\n                  return t && \"block\" !== t ? this._cursorRenderers[t](e, r, s, this._cell) : this._renderBlurCursor(e, r, s, this._cell), this._ctx.restore(), this._state.x = r, this._state.y = s, this._state.isFocused = !1, this._state.style = t, void (this._state.width = this._cell.getWidth());\n                }\n                if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isCursorVisible) {\n                  if (this._state) {\n                    if (this._state.x === r && this._state.y === s && this._state.isFocused === this._coreBrowserService.isFocused && this._state.style === e.options.cursorStyle && this._state.width === this._cell.getWidth()) return;\n                    this._clearCursor();\n                  }\n                  this._ctx.save(), this._cursorRenderers[e.options.cursorStyle || \"block\"](e, r, s, this._cell), this._ctx.restore(), this._state.x = r, this._state.y = s, this._state.isFocused = !1, this._state.style = e.options.cursorStyle, this._state.width = this._cell.getWidth();\n                } else this._clearCursor();\n              }\n            }\n            _clearCursor() {\n              this._state && (this._coreBrowserService.dpr < 1 ? this._clearAll() : this._clearCells(this._state.x, this._state.y, this._state.width, 1), this._state = {\n                x: 0,\n                y: 0,\n                isFocused: !1,\n                style: \"\",\n                width: 0\n              });\n            }\n            _renderBarCursor(e, t, i, s) {\n              this._ctx.save(), this._ctx.fillStyle = this._themeService.colors.cursor.css, this._fillLeftLineAtCell(t, i, this._optionsService.rawOptions.cursorWidth), this._ctx.restore();\n            }\n            _renderBlockCursor(e, t, i, s) {\n              this._ctx.save(), this._ctx.fillStyle = this._themeService.colors.cursor.css, this._fillCells(t, i, s.getWidth(), 1), this._ctx.fillStyle = this._themeService.colors.cursorAccent.css, this._fillCharTrueColor(e, s, t, i), this._ctx.restore();\n            }\n            _renderUnderlineCursor(e, t, i, s) {\n              this._ctx.save(), this._ctx.fillStyle = this._themeService.colors.cursor.css, this._fillBottomLineAtCells(t, i), this._ctx.restore();\n            }\n            _renderBlurCursor(e, t, i, s) {\n              this._ctx.save(), this._ctx.strokeStyle = this._themeService.colors.cursor.css, this._strokeRectAtCell(t, i, s.getWidth(), 1), this._ctx.restore();\n            }\n          }\n          t.CursorRenderLayer = n;\n          class a {\n            constructor(e, t) {\n              this._renderCallback = e, this._coreBrowserService = t, this.isCursorVisible = !0, this._coreBrowserService.isFocused && this._restartInterval();\n            }\n            get isPaused() {\n              return !(this._blinkStartTimeout || this._blinkInterval);\n            }\n            dispose() {\n              this._blinkInterval && (this._coreBrowserService.window.clearInterval(this._blinkInterval), this._blinkInterval = void 0), this._blinkStartTimeout && (this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout), this._blinkStartTimeout = void 0), this._animationFrame && (this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame), this._animationFrame = void 0);\n            }\n            restartBlinkAnimation(e) {\n              this.isPaused || (this._animationTimeRestarted = Date.now(), this.isCursorVisible = !0, this._animationFrame || (this._animationFrame = this._coreBrowserService.window.requestAnimationFrame(() => {\n                this._renderCallback(), this._animationFrame = void 0;\n              })));\n            }\n            _restartInterval() {\n              let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 600;\n              this._blinkInterval && (this._coreBrowserService.window.clearInterval(this._blinkInterval), this._blinkInterval = void 0), this._blinkStartTimeout = this._coreBrowserService.window.setTimeout(() => {\n                if (this._animationTimeRestarted) {\n                  const e = 600 - (Date.now() - this._animationTimeRestarted);\n                  if (this._animationTimeRestarted = void 0, e > 0) return void this._restartInterval(e);\n                }\n                this.isCursorVisible = !1, this._animationFrame = this._coreBrowserService.window.requestAnimationFrame(() => {\n                  this._renderCallback(), this._animationFrame = void 0;\n                }), this._blinkInterval = this._coreBrowserService.window.setInterval(() => {\n                  if (this._animationTimeRestarted) {\n                    const e = 600 - (Date.now() - this._animationTimeRestarted);\n                    return this._animationTimeRestarted = void 0, void this._restartInterval(e);\n                  }\n                  this.isCursorVisible = !this.isCursorVisible, this._animationFrame = this._coreBrowserService.window.requestAnimationFrame(() => {\n                    this._renderCallback(), this._animationFrame = void 0;\n                  });\n                }, 600);\n              }, e);\n            }\n            pause() {\n              this.isCursorVisible = !0, this._blinkInterval && (this._coreBrowserService.window.clearInterval(this._blinkInterval), this._blinkInterval = void 0), this._blinkStartTimeout && (this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout), this._blinkStartTimeout = void 0), this._animationFrame && (this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame), this._animationFrame = void 0);\n            }\n            resume(e) {\n              this.pause(), this._animationTimeRestarted = void 0, this._restartInterval(), this.restartBlinkAnimation(e);\n            }\n          }\n        },\n        733: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.LinkRenderLayer = void 0;\n          const s = i(197),\n            r = i(237),\n            o = i(592);\n          class n extends o.BaseRenderLayer {\n            constructor(e, t, i, s, r, o, n) {\n              super(i, e, \"link\", t, !0, r, o, n), this.register(s.onShowLinkUnderline(e => this._handleShowLinkUnderline(e))), this.register(s.onHideLinkUnderline(e => this._handleHideLinkUnderline(e)));\n            }\n            resize(e, t) {\n              super.resize(e, t), this._state = void 0;\n            }\n            reset(e) {\n              this._clearCurrentLink();\n            }\n            _clearCurrentLink() {\n              if (this._state) {\n                this._clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n                const e = this._state.y2 - this._state.y1 - 1;\n                e > 0 && this._clearCells(0, this._state.y1 + 1, this._state.cols, e), this._clearCells(0, this._state.y2, this._state.x2, 1), this._state = void 0;\n              }\n            }\n            _handleShowLinkUnderline(e) {\n              if (e.fg === r.INVERTED_DEFAULT_COLOR ? this._ctx.fillStyle = this._themeService.colors.background.css : void 0 !== e.fg && (0, s.is256Color)(e.fg) ? this._ctx.fillStyle = this._themeService.colors.ansi[e.fg].css : this._ctx.fillStyle = this._themeService.colors.foreground.css, e.y1 === e.y2) this._fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);else {\n                this._fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n                for (let t = e.y1 + 1; t < e.y2; t++) this._fillBottomLineAtCells(0, t, e.cols);\n                this._fillBottomLineAtCells(0, e.y2, e.x2);\n              }\n              this._state = e;\n            }\n            _handleHideLinkUnderline(e) {\n              this._clearCurrentLink();\n            }\n          }\n          t.LinkRenderLayer = n;\n        },\n        820: (e, t) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.addDisposableDomListener = void 0, t.addDisposableDomListener = function (e, t, i, s) {\n            e.addEventListener(t, i, s);\n            let r = !1;\n            return {\n              dispose: () => {\n                r || (r = !0, e.removeEventListener(t, i, s));\n              }\n            };\n          };\n        },\n        274: (e, t) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CellColorResolver = void 0;\n          let i,\n            s = 0,\n            r = 0,\n            o = !1,\n            n = !1,\n            a = !1;\n          t.CellColorResolver = class {\n            constructor(e, t, i, s, r) {\n              this._terminal = e, this._selectionRenderModel = t, this._decorationService = i, this._coreBrowserService = s, this._themeService = r, this.result = {\n                fg: 0,\n                bg: 0,\n                ext: 0\n              };\n            }\n            resolve(e, t, h) {\n              this.result.bg = e.bg, this.result.fg = e.fg, this.result.ext = 268435456 & e.bg ? e.extended.ext : 0, r = 0, s = 0, n = !1, o = !1, a = !1, i = this._themeService.colors, this._decorationService.forEachDecorationAtCell(t, h, \"bottom\", e => {\n                e.backgroundColorRGB && (r = e.backgroundColorRGB.rgba >> 8 & 16777215, n = !0), e.foregroundColorRGB && (s = e.foregroundColorRGB.rgba >> 8 & 16777215, o = !0);\n              }), a = this._selectionRenderModel.isCellSelected(this._terminal, t, h), a && (r = (this._coreBrowserService.isFocused ? i.selectionBackgroundOpaque : i.selectionInactiveBackgroundOpaque).rgba >> 8 & 16777215, n = !0, i.selectionForeground && (s = i.selectionForeground.rgba >> 8 & 16777215, o = !0)), this._decorationService.forEachDecorationAtCell(t, h, \"top\", e => {\n                e.backgroundColorRGB && (r = e.backgroundColorRGB.rgba >> 8 & 16777215, n = !0), e.foregroundColorRGB && (s = e.foregroundColorRGB.rgba >> 8 & 16777215, o = !0);\n              }), n && (r = a ? -16777216 & e.bg & -134217729 | r | 50331648 : -16777216 & e.bg | r | 50331648), o && (s = -16777216 & e.fg & -67108865 | s | 50331648), 67108864 & this.result.fg && (n && !o && (s = 0 == (50331648 & this.result.bg) ? -134217728 & this.result.fg | 16777215 & i.background.rgba >> 8 | 50331648 : -134217728 & this.result.fg | 67108863 & this.result.bg, o = !0), !n && o && (r = 0 == (50331648 & this.result.fg) ? -67108864 & this.result.bg | 16777215 & i.foreground.rgba >> 8 | 50331648 : -67108864 & this.result.bg | 67108863 & this.result.fg, n = !0)), i = void 0, this.result.bg = n ? r : this.result.bg, this.result.fg = o ? s : this.result.fg;\n            }\n          };\n        },\n        627: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.removeTerminalFromCache = t.acquireTextureAtlas = void 0;\n          const s = i(509),\n            r = i(197),\n            o = [];\n          t.acquireTextureAtlas = function (e, t, i, n, a, h, l, c) {\n            const d = (0, r.generateConfig)(n, a, h, l, t, i, c);\n            for (let t = 0; t < o.length; t++) {\n              const i = o[t],\n                s = i.ownedBy.indexOf(e);\n              if (s >= 0) {\n                if ((0, r.configEquals)(i.config, d)) return i.atlas;\n                1 === i.ownedBy.length ? (i.atlas.dispose(), o.splice(t, 1)) : i.ownedBy.splice(s, 1);\n                break;\n              }\n            }\n            for (let t = 0; t < o.length; t++) {\n              const i = o[t];\n              if ((0, r.configEquals)(i.config, d)) return i.ownedBy.push(e), i.atlas;\n            }\n            const _ = e._core,\n              u = {\n                atlas: new s.TextureAtlas(document, d, _.unicodeService),\n                config: d,\n                ownedBy: [e]\n              };\n            return o.push(u), u.atlas;\n          }, t.removeTerminalFromCache = function (e) {\n            for (let t = 0; t < o.length; t++) {\n              const i = o[t].ownedBy.indexOf(e);\n              if (-1 !== i) {\n                1 === o[t].ownedBy.length ? (o[t].atlas.dispose(), o.splice(t, 1)) : o[t].ownedBy.splice(i, 1);\n                break;\n              }\n            }\n          };\n        },\n        197: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.is256Color = t.configEquals = t.generateConfig = void 0;\n          const s = i(160);\n          t.generateConfig = function (e, t, i, r, o, n, a) {\n            const h = {\n              foreground: n.foreground,\n              background: n.background,\n              cursor: s.NULL_COLOR,\n              cursorAccent: s.NULL_COLOR,\n              selectionForeground: s.NULL_COLOR,\n              selectionBackgroundTransparent: s.NULL_COLOR,\n              selectionBackgroundOpaque: s.NULL_COLOR,\n              selectionInactiveBackgroundTransparent: s.NULL_COLOR,\n              selectionInactiveBackgroundOpaque: s.NULL_COLOR,\n              ansi: n.ansi.slice(),\n              contrastCache: n.contrastCache\n            };\n            return {\n              customGlyphs: o.customGlyphs,\n              devicePixelRatio: a,\n              letterSpacing: o.letterSpacing,\n              lineHeight: o.lineHeight,\n              deviceCellWidth: e,\n              deviceCellHeight: t,\n              deviceCharWidth: i,\n              deviceCharHeight: r,\n              fontFamily: o.fontFamily,\n              fontSize: o.fontSize,\n              fontWeight: o.fontWeight,\n              fontWeightBold: o.fontWeightBold,\n              allowTransparency: o.allowTransparency,\n              drawBoldTextInBrightColors: o.drawBoldTextInBrightColors,\n              minimumContrastRatio: o.minimumContrastRatio,\n              colors: h\n            };\n          }, t.configEquals = function (e, t) {\n            for (let i = 0; i < e.colors.ansi.length; i++) if (e.colors.ansi[i].rgba !== t.colors.ansi[i].rgba) return !1;\n            return e.devicePixelRatio === t.devicePixelRatio && e.customGlyphs === t.customGlyphs && e.lineHeight === t.lineHeight && e.letterSpacing === t.letterSpacing && e.fontFamily === t.fontFamily && e.fontSize === t.fontSize && e.fontWeight === t.fontWeight && e.fontWeightBold === t.fontWeightBold && e.allowTransparency === t.allowTransparency && e.deviceCharWidth === t.deviceCharWidth && e.deviceCharHeight === t.deviceCharHeight && e.drawBoldTextInBrightColors === t.drawBoldTextInBrightColors && e.minimumContrastRatio === t.minimumContrastRatio && e.colors.foreground.rgba === t.colors.foreground.rgba && e.colors.background.rgba === t.colors.background.rgba;\n          }, t.is256Color = function (e) {\n            return 16777216 == (50331648 & e) || 33554432 == (50331648 & e);\n          };\n        },\n        237: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.TEXT_BASELINE = t.DIM_OPACITY = t.INVERTED_DEFAULT_COLOR = void 0;\n          const s = i(399);\n          t.INVERTED_DEFAULT_COLOR = 257, t.DIM_OPACITY = .5, t.TEXT_BASELINE = s.isFirefox || s.isLegacyEdge ? \"bottom\" : \"ideographic\";\n        },\n        860: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.tryDrawCustomChar = t.powerlineDefinitions = t.boxDrawingDefinitions = t.blockElementDefinitions = void 0;\n          const s = i(374);\n          t.blockElementDefinitions = {\n            \"▀\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 4\n            }],\n            \"▁\": [{\n              x: 0,\n              y: 7,\n              w: 8,\n              h: 1\n            }],\n            \"▂\": [{\n              x: 0,\n              y: 6,\n              w: 8,\n              h: 2\n            }],\n            \"▃\": [{\n              x: 0,\n              y: 5,\n              w: 8,\n              h: 3\n            }],\n            \"▄\": [{\n              x: 0,\n              y: 4,\n              w: 8,\n              h: 4\n            }],\n            \"▅\": [{\n              x: 0,\n              y: 3,\n              w: 8,\n              h: 5\n            }],\n            \"▆\": [{\n              x: 0,\n              y: 2,\n              w: 8,\n              h: 6\n            }],\n            \"▇\": [{\n              x: 0,\n              y: 1,\n              w: 8,\n              h: 7\n            }],\n            \"█\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 8\n            }],\n            \"▉\": [{\n              x: 0,\n              y: 0,\n              w: 7,\n              h: 8\n            }],\n            \"▊\": [{\n              x: 0,\n              y: 0,\n              w: 6,\n              h: 8\n            }],\n            \"▋\": [{\n              x: 0,\n              y: 0,\n              w: 5,\n              h: 8\n            }],\n            \"▌\": [{\n              x: 0,\n              y: 0,\n              w: 4,\n              h: 8\n            }],\n            \"▍\": [{\n              x: 0,\n              y: 0,\n              w: 3,\n              h: 8\n            }],\n            \"▎\": [{\n              x: 0,\n              y: 0,\n              w: 2,\n              h: 8\n            }],\n            \"▏\": [{\n              x: 0,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"▐\": [{\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 8\n            }],\n            \"▔\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 1\n            }],\n            \"▕\": [{\n              x: 7,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"▖\": [{\n              x: 0,\n              y: 4,\n              w: 4,\n              h: 4\n            }],\n            \"▗\": [{\n              x: 4,\n              y: 4,\n              w: 4,\n              h: 4\n            }],\n            \"▘\": [{\n              x: 0,\n              y: 0,\n              w: 4,\n              h: 4\n            }],\n            \"▙\": [{\n              x: 0,\n              y: 0,\n              w: 4,\n              h: 8\n            }, {\n              x: 0,\n              y: 4,\n              w: 8,\n              h: 4\n            }],\n            \"▚\": [{\n              x: 0,\n              y: 0,\n              w: 4,\n              h: 4\n            }, {\n              x: 4,\n              y: 4,\n              w: 4,\n              h: 4\n            }],\n            \"▛\": [{\n              x: 0,\n              y: 0,\n              w: 4,\n              h: 8\n            }, {\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 4\n            }],\n            \"▜\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 4\n            }, {\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 8\n            }],\n            \"▝\": [{\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 4\n            }],\n            \"▞\": [{\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 4\n            }, {\n              x: 0,\n              y: 4,\n              w: 4,\n              h: 4\n            }],\n            \"▟\": [{\n              x: 4,\n              y: 0,\n              w: 4,\n              h: 8\n            }, {\n              x: 0,\n              y: 4,\n              w: 8,\n              h: 4\n            }],\n            \"🭰\": [{\n              x: 1,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"🭱\": [{\n              x: 2,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"🭲\": [{\n              x: 3,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"🭳\": [{\n              x: 4,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"🭴\": [{\n              x: 5,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"🭵\": [{\n              x: 6,\n              y: 0,\n              w: 1,\n              h: 8\n            }],\n            \"🭶\": [{\n              x: 0,\n              y: 1,\n              w: 8,\n              h: 1\n            }],\n            \"🭷\": [{\n              x: 0,\n              y: 2,\n              w: 8,\n              h: 1\n            }],\n            \"🭸\": [{\n              x: 0,\n              y: 3,\n              w: 8,\n              h: 1\n            }],\n            \"🭹\": [{\n              x: 0,\n              y: 4,\n              w: 8,\n              h: 1\n            }],\n            \"🭺\": [{\n              x: 0,\n              y: 5,\n              w: 8,\n              h: 1\n            }],\n            \"🭻\": [{\n              x: 0,\n              y: 6,\n              w: 8,\n              h: 1\n            }],\n            \"🭼\": [{\n              x: 0,\n              y: 0,\n              w: 1,\n              h: 8\n            }, {\n              x: 0,\n              y: 7,\n              w: 8,\n              h: 1\n            }],\n            \"🭽\": [{\n              x: 0,\n              y: 0,\n              w: 1,\n              h: 8\n            }, {\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 1\n            }],\n            \"🭾\": [{\n              x: 7,\n              y: 0,\n              w: 1,\n              h: 8\n            }, {\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 1\n            }],\n            \"🭿\": [{\n              x: 7,\n              y: 0,\n              w: 1,\n              h: 8\n            }, {\n              x: 0,\n              y: 7,\n              w: 8,\n              h: 1\n            }],\n            \"🮀\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 1\n            }, {\n              x: 0,\n              y: 7,\n              w: 8,\n              h: 1\n            }],\n            \"🮁\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 1\n            }, {\n              x: 0,\n              y: 2,\n              w: 8,\n              h: 1\n            }, {\n              x: 0,\n              y: 4,\n              w: 8,\n              h: 1\n            }, {\n              x: 0,\n              y: 7,\n              w: 8,\n              h: 1\n            }],\n            \"🮂\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 2\n            }],\n            \"🮃\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 3\n            }],\n            \"🮄\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 5\n            }],\n            \"🮅\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 6\n            }],\n            \"🮆\": [{\n              x: 0,\n              y: 0,\n              w: 8,\n              h: 7\n            }],\n            \"🮇\": [{\n              x: 6,\n              y: 0,\n              w: 2,\n              h: 8\n            }],\n            \"🮈\": [{\n              x: 5,\n              y: 0,\n              w: 3,\n              h: 8\n            }],\n            \"🮉\": [{\n              x: 3,\n              y: 0,\n              w: 5,\n              h: 8\n            }],\n            \"🮊\": [{\n              x: 2,\n              y: 0,\n              w: 6,\n              h: 8\n            }],\n            \"🮋\": [{\n              x: 1,\n              y: 0,\n              w: 7,\n              h: 8\n            }],\n            \"🮕\": [{\n              x: 0,\n              y: 0,\n              w: 2,\n              h: 2\n            }, {\n              x: 4,\n              y: 0,\n              w: 2,\n              h: 2\n            }, {\n              x: 2,\n              y: 2,\n              w: 2,\n              h: 2\n            }, {\n              x: 6,\n              y: 2,\n              w: 2,\n              h: 2\n            }, {\n              x: 0,\n              y: 4,\n              w: 2,\n              h: 2\n            }, {\n              x: 4,\n              y: 4,\n              w: 2,\n              h: 2\n            }, {\n              x: 2,\n              y: 6,\n              w: 2,\n              h: 2\n            }, {\n              x: 6,\n              y: 6,\n              w: 2,\n              h: 2\n            }],\n            \"🮖\": [{\n              x: 2,\n              y: 0,\n              w: 2,\n              h: 2\n            }, {\n              x: 6,\n              y: 0,\n              w: 2,\n              h: 2\n            }, {\n              x: 0,\n              y: 2,\n              w: 2,\n              h: 2\n            }, {\n              x: 4,\n              y: 2,\n              w: 2,\n              h: 2\n            }, {\n              x: 2,\n              y: 4,\n              w: 2,\n              h: 2\n            }, {\n              x: 6,\n              y: 4,\n              w: 2,\n              h: 2\n            }, {\n              x: 0,\n              y: 6,\n              w: 2,\n              h: 2\n            }, {\n              x: 4,\n              y: 6,\n              w: 2,\n              h: 2\n            }],\n            \"🮗\": [{\n              x: 0,\n              y: 2,\n              w: 8,\n              h: 2\n            }, {\n              x: 0,\n              y: 6,\n              w: 8,\n              h: 2\n            }]\n          };\n          const r = {\n            \"░\": [[1, 0, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0]],\n            \"▒\": [[1, 0], [0, 0], [0, 1], [0, 0]],\n            \"▓\": [[0, 1], [1, 1], [1, 0], [1, 1]]\n          };\n          t.boxDrawingDefinitions = {\n            \"─\": {\n              1: \"M0,.5 L1,.5\"\n            },\n            \"━\": {\n              3: \"M0,.5 L1,.5\"\n            },\n            \"│\": {\n              1: \"M.5,0 L.5,1\"\n            },\n            \"┃\": {\n              3: \"M.5,0 L.5,1\"\n            },\n            \"┌\": {\n              1: \"M0.5,1 L.5,.5 L1,.5\"\n            },\n            \"┏\": {\n              3: \"M0.5,1 L.5,.5 L1,.5\"\n            },\n            \"┐\": {\n              1: \"M0,.5 L.5,.5 L.5,1\"\n            },\n            \"┓\": {\n              3: \"M0,.5 L.5,.5 L.5,1\"\n            },\n            \"└\": {\n              1: \"M.5,0 L.5,.5 L1,.5\"\n            },\n            \"┗\": {\n              3: \"M.5,0 L.5,.5 L1,.5\"\n            },\n            \"┘\": {\n              1: \"M.5,0 L.5,.5 L0,.5\"\n            },\n            \"┛\": {\n              3: \"M.5,0 L.5,.5 L0,.5\"\n            },\n            \"├\": {\n              1: \"M.5,0 L.5,1 M.5,.5 L1,.5\"\n            },\n            \"┣\": {\n              3: \"M.5,0 L.5,1 M.5,.5 L1,.5\"\n            },\n            \"┤\": {\n              1: \"M.5,0 L.5,1 M.5,.5 L0,.5\"\n            },\n            \"┫\": {\n              3: \"M.5,0 L.5,1 M.5,.5 L0,.5\"\n            },\n            \"┬\": {\n              1: \"M0,.5 L1,.5 M.5,.5 L.5,1\"\n            },\n            \"┳\": {\n              3: \"M0,.5 L1,.5 M.5,.5 L.5,1\"\n            },\n            \"┴\": {\n              1: \"M0,.5 L1,.5 M.5,.5 L.5,0\"\n            },\n            \"┻\": {\n              3: \"M0,.5 L1,.5 M.5,.5 L.5,0\"\n            },\n            \"┼\": {\n              1: \"M0,.5 L1,.5 M.5,0 L.5,1\"\n            },\n            \"╋\": {\n              3: \"M0,.5 L1,.5 M.5,0 L.5,1\"\n            },\n            \"╴\": {\n              1: \"M.5,.5 L0,.5\"\n            },\n            \"╸\": {\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"╵\": {\n              1: \"M.5,.5 L.5,0\"\n            },\n            \"╹\": {\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"╶\": {\n              1: \"M.5,.5 L1,.5\"\n            },\n            \"╺\": {\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"╷\": {\n              1: \"M.5,.5 L.5,1\"\n            },\n            \"╻\": {\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"═\": {\n              1: (e, t) => \"M0,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L1,\").concat(.5 + t)\n            },\n            \"║\": {\n              1: (e, t) => \"M\".concat(.5 - e, \",0 L\").concat(.5 - e, \",1 M\").concat(.5 + e, \",0 L\").concat(.5 + e, \",1\")\n            },\n            \"╒\": {\n              1: (e, t) => \"M.5,1 L.5,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M.5,\").concat(.5 + t, \" L1,\").concat(.5 + t)\n            },\n            \"╓\": {\n              1: (e, t) => \"M\".concat(.5 - e, \",1 L\").concat(.5 - e, \",.5 L1,.5 M\").concat(.5 + e, \",.5 L\").concat(.5 + e, \",1\")\n            },\n            \"╔\": {\n              1: (e, t) => \"M1,\".concat(.5 - t, \" L\").concat(.5 - e, \",\").concat(.5 - t, \" L\").concat(.5 - e, \",1 M1,\").concat(.5 + t, \" L\").concat(.5 + e, \",\").concat(.5 + t, \" L\").concat(.5 + e, \",1\")\n            },\n            \"╕\": {\n              1: (e, t) => \"M0,\".concat(.5 - t, \" L.5,\").concat(.5 - t, \" L.5,1 M0,\").concat(.5 + t, \" L.5,\").concat(.5 + t)\n            },\n            \"╖\": {\n              1: (e, t) => \"M\".concat(.5 + e, \",1 L\").concat(.5 + e, \",.5 L0,.5 M\").concat(.5 - e, \",.5 L\").concat(.5 - e, \",1\")\n            },\n            \"╗\": {\n              1: (e, t) => \"M0,\".concat(.5 + t, \" L\").concat(.5 - e, \",\").concat(.5 + t, \" L\").concat(.5 - e, \",1 M0,\").concat(.5 - t, \" L\").concat(.5 + e, \",\").concat(.5 - t, \" L\").concat(.5 + e, \",1\")\n            },\n            \"╘\": {\n              1: (e, t) => \"M.5,0 L.5,\".concat(.5 + t, \" L1,\").concat(.5 + t, \" M.5,\").concat(.5 - t, \" L1,\").concat(.5 - t)\n            },\n            \"╙\": {\n              1: (e, t) => \"M1,.5 L\".concat(.5 - e, \",.5 L\").concat(.5 - e, \",0 M\").concat(.5 + e, \",.5 L\").concat(.5 + e, \",0\")\n            },\n            \"╚\": {\n              1: (e, t) => \"M1,\".concat(.5 - t, \" L\").concat(.5 + e, \",\").concat(.5 - t, \" L\").concat(.5 + e, \",0 M1,\").concat(.5 + t, \" L\").concat(.5 - e, \",\").concat(.5 + t, \" L\").concat(.5 - e, \",0\")\n            },\n            \"╛\": {\n              1: (e, t) => \"M0,\".concat(.5 + t, \" L.5,\").concat(.5 + t, \" L.5,0 M0,\").concat(.5 - t, \" L.5,\").concat(.5 - t)\n            },\n            \"╜\": {\n              1: (e, t) => \"M0,.5 L\".concat(.5 + e, \",.5 L\").concat(.5 + e, \",0 M\").concat(.5 - e, \",.5 L\").concat(.5 - e, \",0\")\n            },\n            \"╝\": {\n              1: (e, t) => \"M0,\".concat(.5 - t, \" L\").concat(.5 - e, \",\").concat(.5 - t, \" L\").concat(.5 - e, \",0 M0,\").concat(.5 + t, \" L\").concat(.5 + e, \",\").concat(.5 + t, \" L\").concat(.5 + e, \",0\")\n            },\n            \"╞\": {\n              1: (e, t) => \"M.5,0 L.5,1 M.5,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M.5,\").concat(.5 + t, \" L1,\").concat(.5 + t)\n            },\n            \"╟\": {\n              1: (e, t) => \"M\".concat(.5 - e, \",0 L\").concat(.5 - e, \",1 M\").concat(.5 + e, \",0 L\").concat(.5 + e, \",1 M\").concat(.5 + e, \",.5 L1,.5\")\n            },\n            \"╠\": {\n              1: (e, t) => \"M\".concat(.5 - e, \",0 L\").concat(.5 - e, \",1 M1,\").concat(.5 + t, \" L\").concat(.5 + e, \",\").concat(.5 + t, \" L\").concat(.5 + e, \",1 M1,\").concat(.5 - t, \" L\").concat(.5 + e, \",\").concat(.5 - t, \" L\").concat(.5 + e, \",0\")\n            },\n            \"╡\": {\n              1: (e, t) => \"M.5,0 L.5,1 M0,\".concat(.5 - t, \" L.5,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L.5,\").concat(.5 + t)\n            },\n            \"╢\": {\n              1: (e, t) => \"M0,.5 L\".concat(.5 - e, \",.5 M\").concat(.5 - e, \",0 L\").concat(.5 - e, \",1 M\").concat(.5 + e, \",0 L\").concat(.5 + e, \",1\")\n            },\n            \"╣\": {\n              1: (e, t) => \"M\".concat(.5 + e, \",0 L\").concat(.5 + e, \",1 M0,\").concat(.5 + t, \" L\").concat(.5 - e, \",\").concat(.5 + t, \" L\").concat(.5 - e, \",1 M0,\").concat(.5 - t, \" L\").concat(.5 - e, \",\").concat(.5 - t, \" L\").concat(.5 - e, \",0\")\n            },\n            \"╤\": {\n              1: (e, t) => \"M0,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L1,\").concat(.5 + t, \" M.5,\").concat(.5 + t, \" L.5,1\")\n            },\n            \"╥\": {\n              1: (e, t) => \"M0,.5 L1,.5 M\".concat(.5 - e, \",.5 L\").concat(.5 - e, \",1 M\").concat(.5 + e, \",.5 L\").concat(.5 + e, \",1\")\n            },\n            \"╦\": {\n              1: (e, t) => \"M0,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L\").concat(.5 - e, \",\").concat(.5 + t, \" L\").concat(.5 - e, \",1 M1,\").concat(.5 + t, \" L\").concat(.5 + e, \",\").concat(.5 + t, \" L\").concat(.5 + e, \",1\")\n            },\n            \"╧\": {\n              1: (e, t) => \"M.5,0 L.5,\".concat(.5 - t, \" M0,\").concat(.5 - t, \" L1,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L1,\").concat(.5 + t)\n            },\n            \"╨\": {\n              1: (e, t) => \"M0,.5 L1,.5 M\".concat(.5 - e, \",.5 L\").concat(.5 - e, \",0 M\").concat(.5 + e, \",.5 L\").concat(.5 + e, \",0\")\n            },\n            \"╩\": {\n              1: (e, t) => \"M0,\".concat(.5 + t, \" L1,\").concat(.5 + t, \" M0,\").concat(.5 - t, \" L\").concat(.5 - e, \",\").concat(.5 - t, \" L\").concat(.5 - e, \",0 M1,\").concat(.5 - t, \" L\").concat(.5 + e, \",\").concat(.5 - t, \" L\").concat(.5 + e, \",0\")\n            },\n            \"╪\": {\n              1: (e, t) => \"M.5,0 L.5,1 M0,\".concat(.5 - t, \" L1,\").concat(.5 - t, \" M0,\").concat(.5 + t, \" L1,\").concat(.5 + t)\n            },\n            \"╫\": {\n              1: (e, t) => \"M0,.5 L1,.5 M\".concat(.5 - e, \",0 L\").concat(.5 - e, \",1 M\").concat(.5 + e, \",0 L\").concat(.5 + e, \",1\")\n            },\n            \"╬\": {\n              1: (e, t) => \"M0,\".concat(.5 + t, \" L\").concat(.5 - e, \",\").concat(.5 + t, \" L\").concat(.5 - e, \",1 M1,\").concat(.5 + t, \" L\").concat(.5 + e, \",\").concat(.5 + t, \" L\").concat(.5 + e, \",1 M0,\").concat(.5 - t, \" L\").concat(.5 - e, \",\").concat(.5 - t, \" L\").concat(.5 - e, \",0 M1,\").concat(.5 - t, \" L\").concat(.5 + e, \",\").concat(.5 - t, \" L\").concat(.5 + e, \",0\")\n            },\n            \"╱\": {\n              1: \"M1,0 L0,1\"\n            },\n            \"╲\": {\n              1: \"M0,0 L1,1\"\n            },\n            \"╳\": {\n              1: \"M1,0 L0,1 M0,0 L1,1\"\n            },\n            \"╼\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"╽\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"╾\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"╿\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"┍\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"┎\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"┑\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"┒\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"┕\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"┖\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"┙\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"┚\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"┝\": {\n              1: \"M.5,0 L.5,1\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"┞\": {\n              1: \"M0.5,1 L.5,.5 L1,.5\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"┟\": {\n              1: \"M.5,0 L.5,.5 L1,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"┠\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,0 L.5,1\"\n            },\n            \"┡\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,0 L.5,.5 L1,.5\"\n            },\n            \"┢\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M0.5,1 L.5,.5 L1,.5\"\n            },\n            \"┥\": {\n              1: \"M.5,0 L.5,1\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"┦\": {\n              1: \"M0,.5 L.5,.5 L.5,1\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"┧\": {\n              1: \"M.5,0 L.5,.5 L0,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"┨\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,0 L.5,1\"\n            },\n            \"┩\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,0 L.5,.5 L0,.5\"\n            },\n            \"┪\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M0,.5 L.5,.5 L.5,1\"\n            },\n            \"┭\": {\n              1: \"M0.5,1 L.5,.5 L1,.5\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"┮\": {\n              1: \"M0,.5 L.5,.5 L.5,1\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"┯\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M0,.5 L1,.5\"\n            },\n            \"┰\": {\n              1: \"M0,.5 L1,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"┱\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M0,.5 L.5,.5 L.5,1\"\n            },\n            \"┲\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M0.5,1 L.5,.5 L1,.5\"\n            },\n            \"┵\": {\n              1: \"M.5,0 L.5,.5 L1,.5\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"┶\": {\n              1: \"M.5,0 L.5,.5 L0,.5\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"┷\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M0,.5 L1,.5\"\n            },\n            \"┸\": {\n              1: \"M0,.5 L1,.5\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"┹\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,0 L.5,.5 L0,.5\"\n            },\n            \"┺\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,0 L.5,.5 L1,.5\"\n            },\n            \"┽\": {\n              1: \"M.5,0 L.5,1 M.5,.5 L1,.5\",\n              3: \"M.5,.5 L0,.5\"\n            },\n            \"┾\": {\n              1: \"M.5,0 L.5,1 M.5,.5 L0,.5\",\n              3: \"M.5,.5 L1,.5\"\n            },\n            \"┿\": {\n              1: \"M.5,0 L.5,1\",\n              3: \"M0,.5 L1,.5\"\n            },\n            \"╀\": {\n              1: \"M0,.5 L1,.5 M.5,.5 L.5,1\",\n              3: \"M.5,.5 L.5,0\"\n            },\n            \"╁\": {\n              1: \"M.5,.5 L.5,0 M0,.5 L1,.5\",\n              3: \"M.5,.5 L.5,1\"\n            },\n            \"╂\": {\n              1: \"M0,.5 L1,.5\",\n              3: \"M.5,0 L.5,1\"\n            },\n            \"╃\": {\n              1: \"M0.5,1 L.5,.5 L1,.5\",\n              3: \"M.5,0 L.5,.5 L0,.5\"\n            },\n            \"╄\": {\n              1: \"M0,.5 L.5,.5 L.5,1\",\n              3: \"M.5,0 L.5,.5 L1,.5\"\n            },\n            \"╅\": {\n              1: \"M.5,0 L.5,.5 L1,.5\",\n              3: \"M0,.5 L.5,.5 L.5,1\"\n            },\n            \"╆\": {\n              1: \"M.5,0 L.5,.5 L0,.5\",\n              3: \"M0.5,1 L.5,.5 L1,.5\"\n            },\n            \"╇\": {\n              1: \"M.5,.5 L.5,1\",\n              3: \"M.5,.5 L.5,0 M0,.5 L1,.5\"\n            },\n            \"╈\": {\n              1: \"M.5,.5 L.5,0\",\n              3: \"M0,.5 L1,.5 M.5,.5 L.5,1\"\n            },\n            \"╉\": {\n              1: \"M.5,.5 L1,.5\",\n              3: \"M.5,0 L.5,1 M.5,.5 L0,.5\"\n            },\n            \"╊\": {\n              1: \"M.5,.5 L0,.5\",\n              3: \"M.5,0 L.5,1 M.5,.5 L1,.5\"\n            },\n            \"╌\": {\n              1: \"M.1,.5 L.4,.5 M.6,.5 L.9,.5\"\n            },\n            \"╍\": {\n              3: \"M.1,.5 L.4,.5 M.6,.5 L.9,.5\"\n            },\n            \"┄\": {\n              1: \"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5\"\n            },\n            \"┅\": {\n              3: \"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5\"\n            },\n            \"┈\": {\n              1: \"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5\"\n            },\n            \"┉\": {\n              3: \"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5\"\n            },\n            \"╎\": {\n              1: \"M.5,.1 L.5,.4 M.5,.6 L.5,.9\"\n            },\n            \"╏\": {\n              3: \"M.5,.1 L.5,.4 M.5,.6 L.5,.9\"\n            },\n            \"┆\": {\n              1: \"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333\"\n            },\n            \"┇\": {\n              3: \"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333\"\n            },\n            \"┊\": {\n              1: \"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95\"\n            },\n            \"┋\": {\n              3: \"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95\"\n            },\n            \"╭\": {\n              1: (e, t) => \"M.5,1 L.5,\".concat(.5 + t / .15 * .5, \" C.5,\").concat(.5 + t / .15 * .5, \",.5,.5,1,.5\")\n            },\n            \"╮\": {\n              1: (e, t) => \"M.5,1 L.5,\".concat(.5 + t / .15 * .5, \" C.5,\").concat(.5 + t / .15 * .5, \",.5,.5,0,.5\")\n            },\n            \"╯\": {\n              1: (e, t) => \"M.5,0 L.5,\".concat(.5 - t / .15 * .5, \" C.5,\").concat(.5 - t / .15 * .5, \",.5,.5,0,.5\")\n            },\n            \"╰\": {\n              1: (e, t) => \"M.5,0 L.5,\".concat(.5 - t / .15 * .5, \" C.5,\").concat(.5 - t / .15 * .5, \",.5,.5,1,.5\")\n            }\n          }, t.powerlineDefinitions = {\n            \"\": {\n              d: \"M0,0 L1,.5 L0,1\",\n              type: 0,\n              rightPadding: 2\n            },\n            \"\": {\n              d: \"M-1,-.5 L1,.5 L-1,1.5\",\n              type: 1,\n              leftPadding: 1,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M1,0 L0,.5 L1,1\",\n              type: 0,\n              leftPadding: 2\n            },\n            \"\": {\n              d: \"M2,-.5 L0,.5 L2,1.5\",\n              type: 1,\n              leftPadding: 1,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0\",\n              type: 0,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0\",\n              type: 1,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0\",\n              type: 0,\n              leftPadding: 1\n            },\n            \"\": {\n              d: \"M1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0\",\n              type: 1,\n              leftPadding: 1\n            },\n            \"\": {\n              d: \"M-.5,-.5 L1.5,1.5 L-.5,1.5\",\n              type: 0\n            },\n            \"\": {\n              d: \"M-.5,-.5 L1.5,1.5\",\n              type: 1,\n              leftPadding: 1,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M1.5,-.5 L-.5,1.5 L1.5,1.5\",\n              type: 0\n            },\n            \"\": {\n              d: \"M1.5,-.5 L-.5,1.5 L-.5,-.5\",\n              type: 0\n            },\n            \"\": {\n              d: \"M1.5,-.5 L-.5,1.5\",\n              type: 1,\n              leftPadding: 1,\n              rightPadding: 1\n            },\n            \"\": {\n              d: \"M-.5,-.5 L1.5,1.5 L1.5,-.5\",\n              type: 0\n            }\n          }, t.powerlineDefinitions[\"\"] = t.powerlineDefinitions[\"\"], t.powerlineDefinitions[\"\"] = t.powerlineDefinitions[\"\"], t.tryDrawCustomChar = function (e, i, n, l, c, d, _, u) {\n            const g = t.blockElementDefinitions[i];\n            if (g) return function (e, t, i, s, r, o) {\n              for (let n = 0; n < t.length; n++) {\n                const a = t[n],\n                  h = r / 8,\n                  l = o / 8;\n                e.fillRect(i + a.x * h, s + a.y * l, a.w * h, a.h * l);\n              }\n            }(e, g, n, l, c, d), !0;\n            const v = r[i];\n            if (v) return function (e, t, i, r, n, a) {\n              let h = o.get(t);\n              h || (h = new Map(), o.set(t, h));\n              const l = e.fillStyle;\n              if (\"string\" != typeof l) throw new Error(\"Unexpected fillStyle type \\\"\".concat(l, \"\\\"\"));\n              let c = h.get(l);\n              if (!c) {\n                const i = t[0].length,\n                  r = t.length,\n                  o = document.createElement(\"canvas\");\n                o.width = i, o.height = r;\n                const n = (0, s.throwIfFalsy)(o.getContext(\"2d\")),\n                  a = new ImageData(i, r);\n                let d, _, u, g;\n                if (l.startsWith(\"#\")) d = parseInt(l.slice(1, 3), 16), _ = parseInt(l.slice(3, 5), 16), u = parseInt(l.slice(5, 7), 16), g = l.length > 7 && parseInt(l.slice(7, 9), 16) || 1;else {\n                  if (!l.startsWith(\"rgba\")) throw new Error(\"Unexpected fillStyle color format \\\"\".concat(l, \"\\\" when drawing pattern glyph\"));\n                  [d, _, u, g] = l.substring(5, l.length - 1).split(\",\").map(e => parseFloat(e));\n                }\n                for (let e = 0; e < r; e++) for (let s = 0; s < i; s++) a.data[4 * (e * i + s)] = d, a.data[4 * (e * i + s) + 1] = _, a.data[4 * (e * i + s) + 2] = u, a.data[4 * (e * i + s) + 3] = t[e][s] * (255 * g);\n                n.putImageData(a, 0, 0), c = (0, s.throwIfFalsy)(e.createPattern(o, null)), h.set(l, c);\n              }\n              e.fillStyle = c, e.fillRect(i, r, n, a);\n            }(e, v, n, l, c, d), !0;\n            const f = t.boxDrawingDefinitions[i];\n            if (f) return function (e, t, i, s, r, o, n) {\n              e.strokeStyle = e.fillStyle;\n              for (const [l, c] of Object.entries(t)) {\n                let t;\n                e.beginPath(), e.lineWidth = n * Number.parseInt(l), t = \"function\" == typeof c ? c(.15, .15 / o * r) : c;\n                for (const l of t.split(\" \")) {\n                  const t = l[0],\n                    c = a[t];\n                  if (!c) {\n                    console.error(\"Could not find drawing instructions for \\\"\".concat(t, \"\\\"\"));\n                    continue;\n                  }\n                  const d = l.substring(1).split(\",\");\n                  d[0] && d[1] && c(e, h(d, r, o, i, s, !0, n));\n                }\n                e.stroke(), e.closePath();\n              }\n            }(e, f, n, l, c, d, u), !0;\n            const C = t.powerlineDefinitions[i];\n            return !!C && (function (e, t, i, s, r, o, n, l) {\n              var c, d;\n              const _ = new Path2D();\n              _.rect(i, s, r, o), e.clip(_), e.beginPath();\n              const u = n / 12;\n              e.lineWidth = l * u;\n              for (const n of t.d.split(\" \")) {\n                const _ = n[0],\n                  g = a[_];\n                if (!g) {\n                  console.error(\"Could not find drawing instructions for \\\"\".concat(_, \"\\\"\"));\n                  continue;\n                }\n                const v = n.substring(1).split(\",\");\n                v[0] && v[1] && g(e, h(v, r, o, i, s, !1, l, (null !== (c = t.leftPadding) && void 0 !== c ? c : 0) * (u / 2), (null !== (d = t.rightPadding) && void 0 !== d ? d : 0) * (u / 2)));\n              }\n              1 === t.type ? (e.strokeStyle = e.fillStyle, e.stroke()) : e.fill(), e.closePath();\n            }(e, C, n, l, c, d, _, u), !0);\n          };\n          const o = new Map();\n          function n(e, t) {\n            let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n            return Math.max(Math.min(e, t), i);\n          }\n          const a = {\n            C: (e, t) => e.bezierCurveTo(t[0], t[1], t[2], t[3], t[4], t[5]),\n            L: (e, t) => e.lineTo(t[0], t[1]),\n            M: (e, t) => e.moveTo(t[0], t[1])\n          };\n          function h(e, t, i, s, r, o, a) {\n            let h = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 0;\n            let l = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : 0;\n            const c = e.map(e => parseFloat(e) || parseInt(e));\n            if (c.length < 2) throw new Error(\"Too few arguments for instruction\");\n            for (let e = 0; e < c.length; e += 2) c[e] *= t - h * a - l * a, o && 0 !== c[e] && (c[e] = n(Math.round(c[e] + .5) - .5, t, 0)), c[e] += s + h * a;\n            for (let e = 1; e < c.length; e += 2) c[e] *= i, o && 0 !== c[e] && (c[e] = n(Math.round(c[e] + .5) - .5, i, 0)), c[e] += r;\n            return c;\n          }\n        },\n        56: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.observeDevicePixelDimensions = void 0;\n          const s = i(859);\n          t.observeDevicePixelDimensions = function (e, t, i) {\n            let r = new t.ResizeObserver(t => {\n              const s = t.find(t => t.target === e);\n              if (!s) return;\n              if (!(\"devicePixelContentBoxSize\" in s)) return null == r || r.disconnect(), void (r = void 0);\n              const o = s.devicePixelContentBoxSize[0].inlineSize,\n                n = s.devicePixelContentBoxSize[0].blockSize;\n              o > 0 && n > 0 && i(o, n);\n            });\n            try {\n              r.observe(e, {\n                box: [\"device-pixel-content-box\"]\n              });\n            } catch (e) {\n              r.disconnect(), r = void 0;\n            }\n            return (0, s.toDisposable)(() => null == r ? void 0 : r.disconnect());\n          };\n        },\n        374: (e, t) => {\n          function i(e) {\n            return 57508 <= e && e <= 57558;\n          }\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.createRenderDimensions = t.excludeFromContrastRatioDemands = t.isRestrictedPowerlineGlyph = t.isPowerlineGlyph = t.throwIfFalsy = void 0, t.throwIfFalsy = function (e) {\n            if (!e) throw new Error(\"value must not be falsy\");\n            return e;\n          }, t.isPowerlineGlyph = i, t.isRestrictedPowerlineGlyph = function (e) {\n            return 57520 <= e && e <= 57527;\n          }, t.excludeFromContrastRatioDemands = function (e) {\n            return i(e) || function (e) {\n              return 9472 <= e && e <= 9631;\n            }(e);\n          }, t.createRenderDimensions = function () {\n            return {\n              css: {\n                canvas: {\n                  width: 0,\n                  height: 0\n                },\n                cell: {\n                  width: 0,\n                  height: 0\n                }\n              },\n              device: {\n                canvas: {\n                  width: 0,\n                  height: 0\n                },\n                cell: {\n                  width: 0,\n                  height: 0\n                },\n                char: {\n                  width: 0,\n                  height: 0,\n                  left: 0,\n                  top: 0\n                }\n              }\n            };\n          };\n        },\n        296: (e, t) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.createSelectionRenderModel = void 0;\n          class i {\n            constructor() {\n              this.clear();\n            }\n            clear() {\n              this.hasSelection = !1, this.columnSelectMode = !1, this.viewportStartRow = 0, this.viewportEndRow = 0, this.viewportCappedStartRow = 0, this.viewportCappedEndRow = 0, this.startCol = 0, this.endCol = 0, this.selectionStart = void 0, this.selectionEnd = void 0;\n            }\n            update(e, t, i) {\n              let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n              if (this.selectionStart = t, this.selectionEnd = i, !t || !i || t[0] === i[0] && t[1] === i[1]) return void this.clear();\n              const r = t[1] - e.buffer.active.viewportY,\n                o = i[1] - e.buffer.active.viewportY,\n                n = Math.max(r, 0),\n                a = Math.min(o, e.rows - 1);\n              n >= e.rows || a < 0 ? this.clear() : (this.hasSelection = !0, this.columnSelectMode = s, this.viewportStartRow = r, this.viewportEndRow = o, this.viewportCappedStartRow = n, this.viewportCappedEndRow = a, this.startCol = t[0], this.endCol = i[0]);\n            }\n            isCellSelected(e, t, i) {\n              return !!this.hasSelection && (i -= e.buffer.active.viewportY, this.columnSelectMode ? this.startCol <= this.endCol ? t >= this.startCol && i >= this.viewportCappedStartRow && t < this.endCol && i <= this.viewportCappedEndRow : t < this.startCol && i >= this.viewportCappedStartRow && t >= this.endCol && i <= this.viewportCappedEndRow : i > this.viewportStartRow && i < this.viewportEndRow || this.viewportStartRow === this.viewportEndRow && i === this.viewportStartRow && t >= this.startCol && t < this.endCol || this.viewportStartRow < this.viewportEndRow && i === this.viewportEndRow && t < this.endCol || this.viewportStartRow < this.viewportEndRow && i === this.viewportStartRow && t >= this.startCol);\n            }\n          }\n          t.createSelectionRenderModel = function () {\n            return new i();\n          };\n        },\n        509: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.TextureAtlas = void 0;\n          const s = i(237),\n            r = i(855),\n            o = i(147),\n            n = i(160),\n            a = i(860),\n            h = i(374),\n            l = i(485),\n            c = i(385),\n            d = i(345),\n            _ = {\n              texturePage: 0,\n              texturePosition: {\n                x: 0,\n                y: 0\n              },\n              texturePositionClipSpace: {\n                x: 0,\n                y: 0\n              },\n              offset: {\n                x: 0,\n                y: 0\n              },\n              size: {\n                x: 0,\n                y: 0\n              },\n              sizeClipSpace: {\n                x: 0,\n                y: 0\n              }\n            };\n          let u;\n          class g {\n            constructor(e, t, i) {\n              this._document = e, this._config = t, this._unicodeService = i, this._didWarmUp = !1, this._cacheMap = new l.FourKeyMap(), this._cacheMapCombined = new l.FourKeyMap(), this._pages = [], this._activePages = [], this._workBoundingBox = {\n                top: 0,\n                left: 0,\n                bottom: 0,\n                right: 0\n              }, this._workAttributeData = new o.AttributeData(), this._textureSize = 512, this._onAddTextureAtlasCanvas = new d.EventEmitter(), this.onAddTextureAtlasCanvas = this._onAddTextureAtlasCanvas.event, this._onRemoveTextureAtlasCanvas = new d.EventEmitter(), this.onRemoveTextureAtlasCanvas = this._onRemoveTextureAtlasCanvas.event, this._requestClearModel = !1, this._createNewPage(), this._tmpCanvas = C(e, 4 * this._config.deviceCellWidth + 4, this._config.deviceCellHeight + 4), this._tmpCtx = (0, h.throwIfFalsy)(this._tmpCanvas.getContext(\"2d\", {\n                alpha: this._config.allowTransparency,\n                willReadFrequently: !0\n              }));\n            }\n            get pages() {\n              return this._pages;\n            }\n            dispose() {\n              for (const e of this.pages) e.canvas.remove();\n              this._onAddTextureAtlasCanvas.dispose();\n            }\n            warmUp() {\n              this._didWarmUp || (this._doWarmUp(), this._didWarmUp = !0);\n            }\n            _doWarmUp() {\n              const e = new c.IdleTaskQueue();\n              for (let t = 33; t < 126; t++) e.enqueue(() => {\n                if (!this._cacheMap.get(t, r.DEFAULT_COLOR, r.DEFAULT_COLOR, r.DEFAULT_EXT)) {\n                  const e = this._drawToCache(t, r.DEFAULT_COLOR, r.DEFAULT_COLOR, r.DEFAULT_EXT);\n                  this._cacheMap.set(t, r.DEFAULT_COLOR, r.DEFAULT_COLOR, r.DEFAULT_EXT, e);\n                }\n              });\n            }\n            beginFrame() {\n              return this._requestClearModel;\n            }\n            clearTexture() {\n              if (0 !== this._pages[0].currentRow.x || 0 !== this._pages[0].currentRow.y) {\n                for (const e of this._pages) e.clear();\n                this._cacheMap.clear(), this._cacheMapCombined.clear(), this._didWarmUp = !1;\n              }\n            }\n            _createNewPage() {\n              g.maxAtlasPages && this._pages.length >= Math.max(4, g.maxAtlasPages / 2) && queueMicrotask(() => {\n                const e = this._pages.filter(e => 2 * e.canvas.width <= (g.maxTextureSize || 4096)).sort((e, t) => t.canvas.width !== e.canvas.width ? t.canvas.width - e.canvas.width : t.percentageUsed - e.percentageUsed);\n                let t = -1,\n                  i = 0;\n                for (let s = 0; s < e.length; s++) if (e[s].canvas.width !== i) t = s, i = e[s].canvas.width;else if (s - t == 3) break;\n                const s = e.slice(t, t + 4),\n                  r = s.map(e => e.glyphs[0].texturePage).sort((e, t) => e > t ? 1 : -1),\n                  o = r[0],\n                  n = this._mergePages(s, o);\n                n.version++, this._pages[o] = n;\n                for (let e = r.length - 1; e >= 1; e--) this._deletePage(r[e]);\n                this._requestClearModel = !0, this._onAddTextureAtlasCanvas.fire(n.canvas);\n              });\n              const e = new v(this._document, this._textureSize);\n              return this._pages.push(e), this._activePages.push(e), this._onAddTextureAtlasCanvas.fire(e.canvas), e;\n            }\n            _mergePages(e, t) {\n              const i = 2 * e[0].canvas.width,\n                s = new v(this._document, i, e);\n              for (const [r, o] of e.entries()) {\n                const e = r * o.canvas.width % i,\n                  n = Math.floor(r / 2) * o.canvas.height;\n                s.ctx.drawImage(o.canvas, e, n);\n                for (const s of o.glyphs) s.texturePage = t, s.sizeClipSpace.x = s.size.x / i, s.sizeClipSpace.y = s.size.y / i, s.texturePosition.x += e, s.texturePosition.y += n, s.texturePositionClipSpace.x = s.texturePosition.x / i, s.texturePositionClipSpace.y = s.texturePosition.y / i;\n                this._onRemoveTextureAtlasCanvas.fire(o.canvas);\n                const a = this._activePages.indexOf(o);\n                -1 !== a && this._activePages.splice(a, 1);\n              }\n              return s;\n            }\n            _deletePage(e) {\n              this._pages.splice(e, 1);\n              for (let t = e; t < this._pages.length; t++) {\n                const e = this._pages[t];\n                for (const t of e.glyphs) t.texturePage--;\n                e.version++;\n              }\n            }\n            getRasterizedGlyphCombinedChar(e, t, i, s) {\n              return this._getFromCacheMap(this._cacheMapCombined, e, t, i, s);\n            }\n            getRasterizedGlyph(e, t, i, s) {\n              return this._getFromCacheMap(this._cacheMap, e, t, i, s);\n            }\n            _getFromCacheMap(e, t, i, s, r) {\n              return u = e.get(t, i, s, r), u || (u = this._drawToCache(t, i, s, r), e.set(t, i, s, r, u)), u;\n            }\n            _getColorFromAnsiIndex(e) {\n              if (e >= this._config.colors.ansi.length) throw new Error(\"No color found for idx \" + e);\n              return this._config.colors.ansi[e];\n            }\n            _getBackgroundColor(e, t, i, r) {\n              if (this._config.allowTransparency) return n.NULL_COLOR;\n              let a;\n              switch (e) {\n                case 16777216:\n                case 33554432:\n                  a = this._getColorFromAnsiIndex(t);\n                  break;\n                case 50331648:\n                  const e = o.AttributeData.toColorRGB(t);\n                  a = n.rgba.toColor(e[0], e[1], e[2]);\n                  break;\n                default:\n                  a = i ? this._config.colors.foreground : this._config.colors.background;\n              }\n              return r && (a = n.color.blend(this._config.colors.background, n.color.multiplyOpacity(a, s.DIM_OPACITY))), a;\n            }\n            _getForegroundColor(e, t, i, r, a, h, l, c, d, _) {\n              const u = this._getMinimumContrastColor(e, t, i, r, a, h, !1, d, _);\n              if (u) return u;\n              let g;\n              switch (a) {\n                case 16777216:\n                case 33554432:\n                  this._config.drawBoldTextInBrightColors && d && h < 8 && (h += 8), g = this._getColorFromAnsiIndex(h);\n                  break;\n                case 50331648:\n                  const e = o.AttributeData.toColorRGB(h);\n                  g = n.rgba.toColor(e[0], e[1], e[2]);\n                  break;\n                default:\n                  g = l ? this._config.colors.background : this._config.colors.foreground;\n              }\n              return this._config.allowTransparency && (g = n.color.opaque(g)), c && (g = n.color.multiplyOpacity(g, s.DIM_OPACITY)), g;\n            }\n            _resolveBackgroundRgba(e, t, i) {\n              switch (e) {\n                case 16777216:\n                case 33554432:\n                  return this._getColorFromAnsiIndex(t).rgba;\n                case 50331648:\n                  return t << 8;\n                default:\n                  return i ? this._config.colors.foreground.rgba : this._config.colors.background.rgba;\n              }\n            }\n            _resolveForegroundRgba(e, t, i, s) {\n              switch (e) {\n                case 16777216:\n                case 33554432:\n                  return this._config.drawBoldTextInBrightColors && s && t < 8 && (t += 8), this._getColorFromAnsiIndex(t).rgba;\n                case 50331648:\n                  return t << 8;\n                default:\n                  return i ? this._config.colors.background.rgba : this._config.colors.foreground.rgba;\n              }\n            }\n            _getMinimumContrastColor(e, t, i, s, r, o, a, h, l) {\n              if (1 === this._config.minimumContrastRatio || l) return;\n              const c = this._config.colors.contrastCache.getColor(e, s);\n              if (void 0 !== c) return c || void 0;\n              const d = this._resolveBackgroundRgba(t, i, a),\n                _ = this._resolveForegroundRgba(r, o, a, h),\n                u = n.rgba.ensureContrastRatio(d, _, this._config.minimumContrastRatio);\n              if (!u) return void this._config.colors.contrastCache.setColor(e, s, null);\n              const g = n.rgba.toColor(u >> 24 & 255, u >> 16 & 255, u >> 8 & 255);\n              return this._config.colors.contrastCache.setColor(e, s, g), g;\n            }\n            _drawToCache(e, t, i, r) {\n              const n = \"number\" == typeof e ? String.fromCharCode(e) : e,\n                l = this._config.deviceCellWidth * Math.max(n.length, 2) + 4;\n              this._tmpCanvas.width < l && (this._tmpCanvas.width = l);\n              const c = this._config.deviceCellHeight + 8;\n              if (this._tmpCanvas.height < c && (this._tmpCanvas.height = c), this._tmpCtx.save(), this._workAttributeData.fg = i, this._workAttributeData.bg = t, this._workAttributeData.extended.ext = r, this._workAttributeData.isInvisible()) return _;\n              const d = !!this._workAttributeData.isBold(),\n                u = !!this._workAttributeData.isInverse(),\n                g = !!this._workAttributeData.isDim(),\n                v = !!this._workAttributeData.isItalic(),\n                C = !!this._workAttributeData.isUnderline(),\n                p = !!this._workAttributeData.isStrikethrough();\n              let m = this._workAttributeData.getFgColor(),\n                x = this._workAttributeData.getFgColorMode(),\n                L = this._workAttributeData.getBgColor(),\n                w = this._workAttributeData.getBgColorMode();\n              if (u) {\n                const e = m;\n                m = L, L = e;\n                const t = x;\n                x = w, w = t;\n              }\n              const b = this._getBackgroundColor(w, L, u, g);\n              this._tmpCtx.globalCompositeOperation = \"copy\", this._tmpCtx.fillStyle = b.css, this._tmpCtx.fillRect(0, 0, this._tmpCanvas.width, this._tmpCanvas.height), this._tmpCtx.globalCompositeOperation = \"source-over\";\n              const M = d ? this._config.fontWeightBold : this._config.fontWeight,\n                R = v ? \"italic\" : \"\";\n              this._tmpCtx.font = \"\".concat(R, \" \").concat(M, \" \").concat(this._config.fontSize * this._config.devicePixelRatio, \"px \").concat(this._config.fontFamily), this._tmpCtx.textBaseline = s.TEXT_BASELINE;\n              const y = 1 === n.length && (0, h.isPowerlineGlyph)(n.charCodeAt(0)),\n                A = 1 === n.length && (0, h.isRestrictedPowerlineGlyph)(n.charCodeAt(0)),\n                E = this._getForegroundColor(t, w, L, i, x, m, u, g, d, (0, h.excludeFromContrastRatioDemands)(n.charCodeAt(0)));\n              this._tmpCtx.fillStyle = E.css;\n              const T = A ? 0 : 4;\n              let S = !1;\n              !1 !== this._config.customGlyphs && (S = (0, a.tryDrawCustomChar)(this._tmpCtx, n, T, T, this._config.deviceCellWidth, this._config.deviceCellHeight, this._config.fontSize, this._config.devicePixelRatio));\n              let D,\n                B = !y;\n              if (D = \"number\" == typeof e ? this._unicodeService.wcwidth(e) : this._unicodeService.getStringCellWidth(e), C) {\n                this._tmpCtx.save();\n                const e = Math.max(1, Math.floor(this._config.fontSize * this._config.devicePixelRatio / 15)),\n                  t = e % 2 == 1 ? .5 : 0;\n                if (this._tmpCtx.lineWidth = e, this._workAttributeData.isUnderlineColorDefault()) this._tmpCtx.strokeStyle = this._tmpCtx.fillStyle;else if (this._workAttributeData.isUnderlineColorRGB()) B = !1, this._tmpCtx.strokeStyle = \"rgb(\".concat(o.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(\",\"), \")\");else {\n                  B = !1;\n                  let e = this._workAttributeData.getUnderlineColor();\n                  this._config.drawBoldTextInBrightColors && this._workAttributeData.isBold() && e < 8 && (e += 8), this._tmpCtx.strokeStyle = this._getColorFromAnsiIndex(e).css;\n                }\n                this._tmpCtx.beginPath();\n                const i = T,\n                  s = Math.ceil(T + this._config.deviceCharHeight) - t,\n                  r = T + this._config.deviceCharHeight + e - t,\n                  a = Math.ceil(T + this._config.deviceCharHeight + 2 * e) - t;\n                for (let o = 0; o < D; o++) {\n                  this._tmpCtx.save();\n                  const n = i + o * this._config.deviceCellWidth,\n                    h = i + (o + 1) * this._config.deviceCellWidth,\n                    l = n + this._config.deviceCellWidth / 2;\n                  switch (this._workAttributeData.extended.underlineStyle) {\n                    case 2:\n                      this._tmpCtx.moveTo(n, s), this._tmpCtx.lineTo(h, s), this._tmpCtx.moveTo(n, a), this._tmpCtx.lineTo(h, a);\n                      break;\n                    case 3:\n                      const i = e <= 1 ? a : Math.ceil(T + this._config.deviceCharHeight - e / 2) - t,\n                        o = e <= 1 ? s : Math.ceil(T + this._config.deviceCharHeight + e / 2) - t,\n                        c = new Path2D();\n                      c.rect(n, s, this._config.deviceCellWidth, a - s), this._tmpCtx.clip(c), this._tmpCtx.moveTo(n - this._config.deviceCellWidth / 2, r), this._tmpCtx.bezierCurveTo(n - this._config.deviceCellWidth / 2, o, n, o, n, r), this._tmpCtx.bezierCurveTo(n, i, l, i, l, r), this._tmpCtx.bezierCurveTo(l, o, h, o, h, r), this._tmpCtx.bezierCurveTo(h, i, h + this._config.deviceCellWidth / 2, i, h + this._config.deviceCellWidth / 2, r);\n                      break;\n                    case 4:\n                      this._tmpCtx.setLineDash([2 * this._config.devicePixelRatio, this._config.devicePixelRatio]), this._tmpCtx.moveTo(n, s), this._tmpCtx.lineTo(h, s);\n                      break;\n                    case 5:\n                      this._tmpCtx.setLineDash([4 * this._config.devicePixelRatio, 3 * this._config.devicePixelRatio]), this._tmpCtx.moveTo(n, s), this._tmpCtx.lineTo(h, s);\n                      break;\n                    default:\n                      this._tmpCtx.moveTo(n, s), this._tmpCtx.lineTo(h, s);\n                  }\n                  this._tmpCtx.stroke(), this._tmpCtx.restore();\n                }\n                if (this._tmpCtx.restore(), !S && this._config.fontSize >= 12 && !this._config.allowTransparency && \" \" !== n) {\n                  this._tmpCtx.save(), this._tmpCtx.textBaseline = \"alphabetic\";\n                  const t = this._tmpCtx.measureText(n);\n                  if (this._tmpCtx.restore(), \"actualBoundingBoxDescent\" in t && t.actualBoundingBoxDescent > 0) {\n                    this._tmpCtx.save();\n                    const t = new Path2D();\n                    t.rect(i, s - Math.ceil(e / 2), this._config.deviceCellWidth, a - s + Math.ceil(e / 2)), this._tmpCtx.clip(t), this._tmpCtx.lineWidth = 3 * this._config.devicePixelRatio, this._tmpCtx.strokeStyle = b.css, this._tmpCtx.strokeText(n, T, T + this._config.deviceCharHeight), this._tmpCtx.restore();\n                  }\n                }\n              }\n              if (S || this._tmpCtx.fillText(n, T, T + this._config.deviceCharHeight), \"_\" === n && !this._config.allowTransparency) {\n                let e = f(this._tmpCtx.getImageData(T, T, this._config.deviceCellWidth, this._config.deviceCellHeight), b, E, B);\n                if (e) for (let t = 1; t <= 5 && (this._tmpCtx.save(), this._tmpCtx.fillStyle = b.css, this._tmpCtx.fillRect(0, 0, this._tmpCanvas.width, this._tmpCanvas.height), this._tmpCtx.restore(), this._tmpCtx.fillText(n, T, T + this._config.deviceCharHeight - t), e = f(this._tmpCtx.getImageData(T, T, this._config.deviceCellWidth, this._config.deviceCellHeight), b, E, B), e); t++);\n              }\n              if (p) {\n                const e = Math.max(1, Math.floor(this._config.fontSize * this._config.devicePixelRatio / 10)),\n                  t = this._tmpCtx.lineWidth % 2 == 1 ? .5 : 0;\n                this._tmpCtx.lineWidth = e, this._tmpCtx.strokeStyle = this._tmpCtx.fillStyle, this._tmpCtx.beginPath(), this._tmpCtx.moveTo(T, T + Math.floor(this._config.deviceCharHeight / 2) - t), this._tmpCtx.lineTo(T + this._config.deviceCharWidth * D, T + Math.floor(this._config.deviceCharHeight / 2) - t), this._tmpCtx.stroke();\n              }\n              this._tmpCtx.restore();\n              const P = this._tmpCtx.getImageData(0, 0, this._tmpCanvas.width, this._tmpCanvas.height);\n              let F;\n              if (F = this._config.allowTransparency ? function (e) {\n                for (let t = 0; t < e.data.length; t += 4) if (e.data[t + 3] > 0) return !1;\n                return !0;\n              }(P) : f(P, b, E, B), F) return _;\n              const I = this._findGlyphBoundingBox(P, this._workBoundingBox, l, A, S, T);\n              let $, k;\n              for (;;) {\n                if (0 === this._activePages.length) {\n                  const e = this._createNewPage();\n                  $ = e, k = e.currentRow, k.height = I.size.y;\n                  break;\n                }\n                $ = this._activePages[this._activePages.length - 1], k = $.currentRow;\n                for (const e of this._activePages) I.size.y <= e.currentRow.height && ($ = e, k = e.currentRow);\n                for (let e = this._activePages.length - 1; e >= 0; e--) for (const t of this._activePages[e].fixedRows) t.height <= k.height && I.size.y <= t.height && ($ = this._activePages[e], k = t);\n                if (k.y + I.size.y >= $.canvas.height || k.height > I.size.y + 2) {\n                  let e = !1;\n                  if ($.currentRow.y + $.currentRow.height + I.size.y >= $.canvas.height) {\n                    let t;\n                    for (const e of this._activePages) if (e.currentRow.y + e.currentRow.height + I.size.y < e.canvas.height) {\n                      t = e;\n                      break;\n                    }\n                    if (t) $ = t;else {\n                      const t = this._createNewPage();\n                      $ = t, k = t.currentRow, k.height = I.size.y, e = !0;\n                    }\n                  }\n                  e || ($.currentRow.height > 0 && $.fixedRows.push($.currentRow), k = {\n                    x: 0,\n                    y: $.currentRow.y + $.currentRow.height,\n                    height: I.size.y\n                  }, $.fixedRows.push(k), $.currentRow = {\n                    x: 0,\n                    y: k.y + k.height,\n                    height: 0\n                  });\n                }\n                if (k.x + I.size.x <= $.canvas.width) break;\n                k === $.currentRow ? (k.x = 0, k.y += k.height, k.height = 0) : $.fixedRows.splice($.fixedRows.indexOf(k), 1);\n              }\n              return I.texturePage = this._pages.indexOf($), I.texturePosition.x = k.x, I.texturePosition.y = k.y, I.texturePositionClipSpace.x = k.x / $.canvas.width, I.texturePositionClipSpace.y = k.y / $.canvas.height, I.sizeClipSpace.x /= $.canvas.width, I.sizeClipSpace.y /= $.canvas.height, k.height = Math.max(k.height, I.size.y), k.x += I.size.x, $.ctx.putImageData(P, I.texturePosition.x - this._workBoundingBox.left, I.texturePosition.y - this._workBoundingBox.top, this._workBoundingBox.left, this._workBoundingBox.top, I.size.x, I.size.y), $.addGlyph(I), $.version++, I;\n            }\n            _findGlyphBoundingBox(e, t, i, s, r, o) {\n              t.top = 0;\n              const n = s ? this._config.deviceCellHeight : this._tmpCanvas.height,\n                a = s ? this._config.deviceCellWidth : i;\n              let h = !1;\n              for (let i = 0; i < n; i++) {\n                for (let s = 0; s < a; s++) {\n                  const r = i * this._tmpCanvas.width * 4 + 4 * s + 3;\n                  if (0 !== e.data[r]) {\n                    t.top = i, h = !0;\n                    break;\n                  }\n                }\n                if (h) break;\n              }\n              t.left = 0, h = !1;\n              for (let i = 0; i < o + a; i++) {\n                for (let s = 0; s < n; s++) {\n                  const r = s * this._tmpCanvas.width * 4 + 4 * i + 3;\n                  if (0 !== e.data[r]) {\n                    t.left = i, h = !0;\n                    break;\n                  }\n                }\n                if (h) break;\n              }\n              t.right = a, h = !1;\n              for (let i = o + a - 1; i >= o; i--) {\n                for (let s = 0; s < n; s++) {\n                  const r = s * this._tmpCanvas.width * 4 + 4 * i + 3;\n                  if (0 !== e.data[r]) {\n                    t.right = i, h = !0;\n                    break;\n                  }\n                }\n                if (h) break;\n              }\n              t.bottom = n, h = !1;\n              for (let i = n - 1; i >= 0; i--) {\n                for (let s = 0; s < a; s++) {\n                  const r = i * this._tmpCanvas.width * 4 + 4 * s + 3;\n                  if (0 !== e.data[r]) {\n                    t.bottom = i, h = !0;\n                    break;\n                  }\n                }\n                if (h) break;\n              }\n              return {\n                texturePage: 0,\n                texturePosition: {\n                  x: 0,\n                  y: 0\n                },\n                texturePositionClipSpace: {\n                  x: 0,\n                  y: 0\n                },\n                size: {\n                  x: t.right - t.left + 1,\n                  y: t.bottom - t.top + 1\n                },\n                sizeClipSpace: {\n                  x: t.right - t.left + 1,\n                  y: t.bottom - t.top + 1\n                },\n                offset: {\n                  x: -t.left + o + (s || r ? Math.floor((this._config.deviceCellWidth - this._config.deviceCharWidth) / 2) : 0),\n                  y: -t.top + o + (s || r ? 1 === this._config.lineHeight ? 0 : Math.round((this._config.deviceCellHeight - this._config.deviceCharHeight) / 2) : 0)\n                }\n              };\n            }\n          }\n          t.TextureAtlas = g;\n          class v {\n            constructor(e, t, i) {\n              if (this._usedPixels = 0, this._glyphs = [], this.version = 0, this.currentRow = {\n                x: 0,\n                y: 0,\n                height: 0\n              }, this.fixedRows = [], i) for (const e of i) this._glyphs.push(...e.glyphs), this._usedPixels += e._usedPixels;\n              this.canvas = C(e, t, t), this.ctx = (0, h.throwIfFalsy)(this.canvas.getContext(\"2d\", {\n                alpha: !0\n              }));\n            }\n            get percentageUsed() {\n              return this._usedPixels / (this.canvas.width * this.canvas.height);\n            }\n            get glyphs() {\n              return this._glyphs;\n            }\n            addGlyph(e) {\n              this._glyphs.push(e), this._usedPixels += e.size.x * e.size.y;\n            }\n            clear() {\n              this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height), this.currentRow.x = 0, this.currentRow.y = 0, this.currentRow.height = 0, this.fixedRows.length = 0, this.version++;\n            }\n          }\n          function f(e, t, i, s) {\n            const r = t.rgba >>> 24,\n              o = t.rgba >>> 16 & 255,\n              n = t.rgba >>> 8 & 255,\n              a = i.rgba >>> 24,\n              h = i.rgba >>> 16 & 255,\n              l = i.rgba >>> 8 & 255,\n              c = Math.floor((Math.abs(r - a) + Math.abs(o - h) + Math.abs(n - l)) / 12);\n            let d = !0;\n            for (let t = 0; t < e.data.length; t += 4) e.data[t] === r && e.data[t + 1] === o && e.data[t + 2] === n || s && Math.abs(e.data[t] - r) + Math.abs(e.data[t + 1] - o) + Math.abs(e.data[t + 2] - n) < c ? e.data[t + 3] = 0 : d = !1;\n            return d;\n          }\n          function C(e, t, i) {\n            const s = e.createElement(\"canvas\");\n            return s.width = t, s.height = i, s;\n          }\n        },\n        160: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.contrastRatio = t.toPaddedHex = t.rgba = t.rgb = t.css = t.color = t.channels = t.NULL_COLOR = void 0;\n          const s = i(399);\n          let r = 0,\n            o = 0,\n            n = 0,\n            a = 0;\n          var h, l, c;\n          function d(e) {\n            const t = e.toString(16);\n            return t.length < 2 ? \"0\" + t : t;\n          }\n          function _(e, t) {\n            return e < t ? (t + .05) / (e + .05) : (e + .05) / (t + .05);\n          }\n          t.NULL_COLOR = {\n            css: \"#00000000\",\n            rgba: 0\n          }, function (e) {\n            e.toCss = function (e, t, i, s) {\n              return void 0 !== s ? \"#\".concat(d(e)).concat(d(t)).concat(d(i)).concat(d(s)) : \"#\".concat(d(e)).concat(d(t)).concat(d(i));\n            }, e.toRgba = function (e, t, i) {\n              let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 255;\n              return (e << 24 | t << 16 | i << 8 | s) >>> 0;\n            };\n          }(h = t.channels || (t.channels = {})), function (e) {\n            function t(e, t) {\n              return a = Math.round(255 * t), [r, o, n] = c.toChannels(e.rgba), {\n                css: h.toCss(r, o, n, a),\n                rgba: h.toRgba(r, o, n, a)\n              };\n            }\n            e.blend = function (e, t) {\n              if (a = (255 & t.rgba) / 255, 1 === a) return {\n                css: t.css,\n                rgba: t.rgba\n              };\n              const i = t.rgba >> 24 & 255,\n                s = t.rgba >> 16 & 255,\n                l = t.rgba >> 8 & 255,\n                c = e.rgba >> 24 & 255,\n                d = e.rgba >> 16 & 255,\n                _ = e.rgba >> 8 & 255;\n              return r = c + Math.round((i - c) * a), o = d + Math.round((s - d) * a), n = _ + Math.round((l - _) * a), {\n                css: h.toCss(r, o, n),\n                rgba: h.toRgba(r, o, n)\n              };\n            }, e.isOpaque = function (e) {\n              return 255 == (255 & e.rgba);\n            }, e.ensureContrastRatio = function (e, t, i) {\n              const s = c.ensureContrastRatio(e.rgba, t.rgba, i);\n              if (s) return c.toColor(s >> 24 & 255, s >> 16 & 255, s >> 8 & 255);\n            }, e.opaque = function (e) {\n              const t = (255 | e.rgba) >>> 0;\n              return [r, o, n] = c.toChannels(t), {\n                css: h.toCss(r, o, n),\n                rgba: t\n              };\n            }, e.opacity = t, e.multiplyOpacity = function (e, i) {\n              return a = 255 & e.rgba, t(e, a * i / 255);\n            }, e.toColorRGB = function (e) {\n              return [e.rgba >> 24 & 255, e.rgba >> 16 & 255, e.rgba >> 8 & 255];\n            };\n          }(t.color || (t.color = {})), function (e) {\n            let t, i;\n            if (!s.isNode) {\n              const e = document.createElement(\"canvas\");\n              e.width = 1, e.height = 1;\n              const s = e.getContext(\"2d\", {\n                willReadFrequently: !0\n              });\n              s && (t = s, t.globalCompositeOperation = \"copy\", i = t.createLinearGradient(0, 0, 1, 1));\n            }\n            e.toColor = function (e) {\n              if (e.match(/#[\\da-f]{3,8}/i)) switch (e.length) {\n                case 4:\n                  return r = parseInt(e.slice(1, 2).repeat(2), 16), o = parseInt(e.slice(2, 3).repeat(2), 16), n = parseInt(e.slice(3, 4).repeat(2), 16), c.toColor(r, o, n);\n                case 5:\n                  return r = parseInt(e.slice(1, 2).repeat(2), 16), o = parseInt(e.slice(2, 3).repeat(2), 16), n = parseInt(e.slice(3, 4).repeat(2), 16), a = parseInt(e.slice(4, 5).repeat(2), 16), c.toColor(r, o, n, a);\n                case 7:\n                  return {\n                    css: e,\n                    rgba: (parseInt(e.slice(1), 16) << 8 | 255) >>> 0\n                  };\n                case 9:\n                  return {\n                    css: e,\n                    rgba: parseInt(e.slice(1), 16) >>> 0\n                  };\n              }\n              const s = e.match(/rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(,\\s*(0|1|\\d?\\.(\\d+))\\s*)?\\)/);\n              if (s) return r = parseInt(s[1]), o = parseInt(s[2]), n = parseInt(s[3]), a = Math.round(255 * (void 0 === s[5] ? 1 : parseFloat(s[5]))), c.toColor(r, o, n, a);\n              if (!t || !i) throw new Error(\"css.toColor: Unsupported css format\");\n              if (t.fillStyle = i, t.fillStyle = e, \"string\" != typeof t.fillStyle) throw new Error(\"css.toColor: Unsupported css format\");\n              if (t.fillRect(0, 0, 1, 1), [r, o, n, a] = t.getImageData(0, 0, 1, 1).data, 255 !== a) throw new Error(\"css.toColor: Unsupported css format\");\n              return {\n                rgba: h.toRgba(r, o, n, a),\n                css: e\n              };\n            };\n          }(t.css || (t.css = {})), function (e) {\n            function t(e, t, i) {\n              const s = e / 255,\n                r = t / 255,\n                o = i / 255;\n              return .2126 * (s <= .03928 ? s / 12.92 : Math.pow((s + .055) / 1.055, 2.4)) + .7152 * (r <= .03928 ? r / 12.92 : Math.pow((r + .055) / 1.055, 2.4)) + .0722 * (o <= .03928 ? o / 12.92 : Math.pow((o + .055) / 1.055, 2.4));\n            }\n            e.relativeLuminance = function (e) {\n              return t(e >> 16 & 255, e >> 8 & 255, 255 & e);\n            }, e.relativeLuminance2 = t;\n          }(l = t.rgb || (t.rgb = {})), function (e) {\n            function t(e, t, i) {\n              const s = e >> 24 & 255,\n                r = e >> 16 & 255,\n                o = e >> 8 & 255;\n              let n = t >> 24 & 255,\n                a = t >> 16 & 255,\n                h = t >> 8 & 255,\n                c = _(l.relativeLuminance2(n, a, h), l.relativeLuminance2(s, r, o));\n              for (; c < i && (n > 0 || a > 0 || h > 0);) n -= Math.max(0, Math.ceil(.1 * n)), a -= Math.max(0, Math.ceil(.1 * a)), h -= Math.max(0, Math.ceil(.1 * h)), c = _(l.relativeLuminance2(n, a, h), l.relativeLuminance2(s, r, o));\n              return (n << 24 | a << 16 | h << 8 | 255) >>> 0;\n            }\n            function i(e, t, i) {\n              const s = e >> 24 & 255,\n                r = e >> 16 & 255,\n                o = e >> 8 & 255;\n              let n = t >> 24 & 255,\n                a = t >> 16 & 255,\n                h = t >> 8 & 255,\n                c = _(l.relativeLuminance2(n, a, h), l.relativeLuminance2(s, r, o));\n              for (; c < i && (n < 255 || a < 255 || h < 255);) n = Math.min(255, n + Math.ceil(.1 * (255 - n))), a = Math.min(255, a + Math.ceil(.1 * (255 - a))), h = Math.min(255, h + Math.ceil(.1 * (255 - h))), c = _(l.relativeLuminance2(n, a, h), l.relativeLuminance2(s, r, o));\n              return (n << 24 | a << 16 | h << 8 | 255) >>> 0;\n            }\n            e.ensureContrastRatio = function (e, s, r) {\n              const o = l.relativeLuminance(e >> 8),\n                n = l.relativeLuminance(s >> 8);\n              if (_(o, n) < r) {\n                if (n < o) {\n                  const n = t(e, s, r),\n                    a = _(o, l.relativeLuminance(n >> 8));\n                  if (a < r) {\n                    const t = i(e, s, r);\n                    return a > _(o, l.relativeLuminance(t >> 8)) ? n : t;\n                  }\n                  return n;\n                }\n                const a = i(e, s, r),\n                  h = _(o, l.relativeLuminance(a >> 8));\n                if (h < r) {\n                  const i = t(e, s, r);\n                  return h > _(o, l.relativeLuminance(i >> 8)) ? a : i;\n                }\n                return a;\n              }\n            }, e.reduceLuminance = t, e.increaseLuminance = i, e.toChannels = function (e) {\n              return [e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e];\n            }, e.toColor = function (e, t, i, s) {\n              return {\n                css: h.toCss(e, t, i, s),\n                rgba: h.toRgba(e, t, i, s)\n              };\n            };\n          }(c = t.rgba || (t.rgba = {})), t.toPaddedHex = d, t.contrastRatio = _;\n        },\n        345: (e, t) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.forwardEvent = t.EventEmitter = void 0, t.EventEmitter = class {\n            constructor() {\n              this._listeners = [], this._disposed = !1;\n            }\n            get event() {\n              return this._event || (this._event = e => (this._listeners.push(e), {\n                dispose: () => {\n                  if (!this._disposed) for (let t = 0; t < this._listeners.length; t++) if (this._listeners[t] === e) return void this._listeners.splice(t, 1);\n                }\n              })), this._event;\n            }\n            fire(e, t) {\n              const i = [];\n              for (let e = 0; e < this._listeners.length; e++) i.push(this._listeners[e]);\n              for (let s = 0; s < i.length; s++) i[s].call(void 0, e, t);\n            }\n            dispose() {\n              this._listeners && (this._listeners.length = 0), this._disposed = !0;\n            }\n          }, t.forwardEvent = function (e, t) {\n            return e(e => t.fire(e));\n          };\n        },\n        859: (e, t) => {\n          function i(e) {\n            for (const t of e) t.dispose();\n            e.length = 0;\n          }\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.getDisposeArrayDisposable = t.disposeArray = t.toDisposable = t.Disposable = void 0, t.Disposable = class {\n            constructor() {\n              this._disposables = [], this._isDisposed = !1;\n            }\n            dispose() {\n              this._isDisposed = !0;\n              for (const e of this._disposables) e.dispose();\n              this._disposables.length = 0;\n            }\n            register(e) {\n              return this._disposables.push(e), e;\n            }\n            unregister(e) {\n              const t = this._disposables.indexOf(e);\n              -1 !== t && this._disposables.splice(t, 1);\n            }\n          }, t.toDisposable = function (e) {\n            return {\n              dispose: e\n            };\n          }, t.disposeArray = i, t.getDisposeArrayDisposable = function (e) {\n            return {\n              dispose: () => i(e)\n            };\n          };\n        },\n        485: (e, t) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.FourKeyMap = t.TwoKeyMap = void 0;\n          class i {\n            constructor() {\n              this._data = {};\n            }\n            set(e, t, i) {\n              this._data[e] || (this._data[e] = {}), this._data[e][t] = i;\n            }\n            get(e, t) {\n              return this._data[e] ? this._data[e][t] : void 0;\n            }\n            clear() {\n              this._data = {};\n            }\n          }\n          t.TwoKeyMap = i, t.FourKeyMap = class {\n            constructor() {\n              this._data = new i();\n            }\n            set(e, t, s, r, o) {\n              this._data.get(e, t) || this._data.set(e, t, new i()), this._data.get(e, t).set(s, r, o);\n            }\n            get(e, t, i, s) {\n              var r;\n              return null === (r = this._data.get(e, t)) || void 0 === r ? void 0 : r.get(i, s);\n            }\n            clear() {\n              this._data.clear();\n            }\n          };\n        },\n        399: (e, t) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.isChromeOS = t.isLinux = t.isWindows = t.isIphone = t.isIpad = t.isMac = t.getSafariVersion = t.isSafari = t.isLegacyEdge = t.isFirefox = t.isNode = void 0, t.isNode = \"undefined\" == typeof navigator;\n          const i = t.isNode ? \"node\" : navigator.userAgent,\n            s = t.isNode ? \"node\" : navigator.platform;\n          t.isFirefox = i.includes(\"Firefox\"), t.isLegacyEdge = i.includes(\"Edge\"), t.isSafari = /^((?!chrome|android).)*safari/i.test(i), t.getSafariVersion = function () {\n            if (!t.isSafari) return 0;\n            const e = i.match(/Version\\/(\\d+)/);\n            return null === e || e.length < 2 ? 0 : parseInt(e[1]);\n          }, t.isMac = [\"Macintosh\", \"MacIntel\", \"MacPPC\", \"Mac68K\"].includes(s), t.isIpad = \"iPad\" === s, t.isIphone = \"iPhone\" === s, t.isWindows = [\"Windows\", \"Win16\", \"Win32\", \"WinCE\"].includes(s), t.isLinux = s.indexOf(\"Linux\") >= 0, t.isChromeOS = /\\bCrOS\\b/.test(i);\n        },\n        385: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.DebouncedIdleTask = t.IdleTaskQueue = t.PriorityTaskQueue = void 0;\n          const s = i(399);\n          class r {\n            constructor() {\n              this._tasks = [], this._i = 0;\n            }\n            enqueue(e) {\n              this._tasks.push(e), this._start();\n            }\n            flush() {\n              for (; this._i < this._tasks.length;) this._tasks[this._i]() || this._i++;\n              this.clear();\n            }\n            clear() {\n              this._idleCallback && (this._cancelCallback(this._idleCallback), this._idleCallback = void 0), this._i = 0, this._tasks.length = 0;\n            }\n            _start() {\n              this._idleCallback || (this._idleCallback = this._requestCallback(this._process.bind(this)));\n            }\n            _process(e) {\n              this._idleCallback = void 0;\n              let t = 0,\n                i = 0,\n                s = e.timeRemaining(),\n                r = 0;\n              for (; this._i < this._tasks.length;) {\n                if (t = Date.now(), this._tasks[this._i]() || this._i++, t = Math.max(1, Date.now() - t), i = Math.max(t, i), r = e.timeRemaining(), 1.5 * i > r) return s - t < -20 && console.warn(\"task queue exceeded allotted deadline by \".concat(Math.abs(Math.round(s - t)), \"ms\")), void this._start();\n                s = r;\n              }\n              this.clear();\n            }\n          }\n          class o extends r {\n            _requestCallback(e) {\n              return setTimeout(() => e(this._createDeadline(16)));\n            }\n            _cancelCallback(e) {\n              clearTimeout(e);\n            }\n            _createDeadline(e) {\n              const t = Date.now() + e;\n              return {\n                timeRemaining: () => Math.max(0, t - Date.now())\n              };\n            }\n          }\n          t.PriorityTaskQueue = o, t.IdleTaskQueue = !s.isNode && \"requestIdleCallback\" in window ? class extends r {\n            _requestCallback(e) {\n              return requestIdleCallback(e);\n            }\n            _cancelCallback(e) {\n              cancelIdleCallback(e);\n            }\n          } : o, t.DebouncedIdleTask = class {\n            constructor() {\n              this._queue = new t.IdleTaskQueue();\n            }\n            set(e) {\n              this._queue.clear(), this._queue.enqueue(e);\n            }\n            flush() {\n              this._queue.flush();\n            }\n          };\n        },\n        147: (e, t) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.ExtendedAttrs = t.AttributeData = void 0;\n          class i {\n            constructor() {\n              this.fg = 0, this.bg = 0, this.extended = new s();\n            }\n            static toColorRGB(e) {\n              return [e >>> 16 & 255, e >>> 8 & 255, 255 & e];\n            }\n            static fromColorRGB(e) {\n              return (255 & e[0]) << 16 | (255 & e[1]) << 8 | 255 & e[2];\n            }\n            clone() {\n              const e = new i();\n              return e.fg = this.fg, e.bg = this.bg, e.extended = this.extended.clone(), e;\n            }\n            isInverse() {\n              return 67108864 & this.fg;\n            }\n            isBold() {\n              return 134217728 & this.fg;\n            }\n            isUnderline() {\n              return this.hasExtendedAttrs() && 0 !== this.extended.underlineStyle ? 1 : 268435456 & this.fg;\n            }\n            isBlink() {\n              return 536870912 & this.fg;\n            }\n            isInvisible() {\n              return 1073741824 & this.fg;\n            }\n            isItalic() {\n              return 67108864 & this.bg;\n            }\n            isDim() {\n              return 134217728 & this.bg;\n            }\n            isStrikethrough() {\n              return 2147483648 & this.fg;\n            }\n            isProtected() {\n              return 536870912 & this.bg;\n            }\n            getFgColorMode() {\n              return 50331648 & this.fg;\n            }\n            getBgColorMode() {\n              return 50331648 & this.bg;\n            }\n            isFgRGB() {\n              return 50331648 == (50331648 & this.fg);\n            }\n            isBgRGB() {\n              return 50331648 == (50331648 & this.bg);\n            }\n            isFgPalette() {\n              return 16777216 == (50331648 & this.fg) || 33554432 == (50331648 & this.fg);\n            }\n            isBgPalette() {\n              return 16777216 == (50331648 & this.bg) || 33554432 == (50331648 & this.bg);\n            }\n            isFgDefault() {\n              return 0 == (50331648 & this.fg);\n            }\n            isBgDefault() {\n              return 0 == (50331648 & this.bg);\n            }\n            isAttributeDefault() {\n              return 0 === this.fg && 0 === this.bg;\n            }\n            getFgColor() {\n              switch (50331648 & this.fg) {\n                case 16777216:\n                case 33554432:\n                  return 255 & this.fg;\n                case 50331648:\n                  return 16777215 & this.fg;\n                default:\n                  return -1;\n              }\n            }\n            getBgColor() {\n              switch (50331648 & this.bg) {\n                case 16777216:\n                case 33554432:\n                  return 255 & this.bg;\n                case 50331648:\n                  return 16777215 & this.bg;\n                default:\n                  return -1;\n              }\n            }\n            hasExtendedAttrs() {\n              return 268435456 & this.bg;\n            }\n            updateExtended() {\n              this.extended.isEmpty() ? this.bg &= -268435457 : this.bg |= 268435456;\n            }\n            getUnderlineColor() {\n              if (268435456 & this.bg && ~this.extended.underlineColor) switch (50331648 & this.extended.underlineColor) {\n                case 16777216:\n                case 33554432:\n                  return 255 & this.extended.underlineColor;\n                case 50331648:\n                  return 16777215 & this.extended.underlineColor;\n                default:\n                  return this.getFgColor();\n              }\n              return this.getFgColor();\n            }\n            getUnderlineColorMode() {\n              return 268435456 & this.bg && ~this.extended.underlineColor ? 50331648 & this.extended.underlineColor : this.getFgColorMode();\n            }\n            isUnderlineColorRGB() {\n              return 268435456 & this.bg && ~this.extended.underlineColor ? 50331648 == (50331648 & this.extended.underlineColor) : this.isFgRGB();\n            }\n            isUnderlineColorPalette() {\n              return 268435456 & this.bg && ~this.extended.underlineColor ? 16777216 == (50331648 & this.extended.underlineColor) || 33554432 == (50331648 & this.extended.underlineColor) : this.isFgPalette();\n            }\n            isUnderlineColorDefault() {\n              return 268435456 & this.bg && ~this.extended.underlineColor ? 0 == (50331648 & this.extended.underlineColor) : this.isFgDefault();\n            }\n            getUnderlineStyle() {\n              return 268435456 & this.fg ? 268435456 & this.bg ? this.extended.underlineStyle : 1 : 0;\n            }\n          }\n          t.AttributeData = i;\n          class s {\n            constructor() {\n              let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              this._ext = 0, this._urlId = 0, this._ext = e, this._urlId = t;\n            }\n            get ext() {\n              return this._urlId ? -469762049 & this._ext | this.underlineStyle << 26 : this._ext;\n            }\n            set ext(e) {\n              this._ext = e;\n            }\n            get underlineStyle() {\n              return this._urlId ? 5 : (469762048 & this._ext) >> 26;\n            }\n            set underlineStyle(e) {\n              this._ext &= -469762049, this._ext |= e << 26 & 469762048;\n            }\n            get underlineColor() {\n              return 67108863 & this._ext;\n            }\n            set underlineColor(e) {\n              this._ext &= -67108864, this._ext |= 67108863 & e;\n            }\n            get urlId() {\n              return this._urlId;\n            }\n            set urlId(e) {\n              this._urlId = e;\n            }\n            clone() {\n              return new s(this._ext, this._urlId);\n            }\n            isEmpty() {\n              return 0 === this.underlineStyle && 0 === this._urlId;\n            }\n          }\n          t.ExtendedAttrs = s;\n        },\n        782: (e, t, i) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.CellData = void 0;\n          const s = i(133),\n            r = i(855),\n            o = i(147);\n          class n extends o.AttributeData {\n            constructor() {\n              super(...arguments), this.content = 0, this.fg = 0, this.bg = 0, this.extended = new o.ExtendedAttrs(), this.combinedData = \"\";\n            }\n            static fromCharData(e) {\n              const t = new n();\n              return t.setFromCharData(e), t;\n            }\n            isCombined() {\n              return 2097152 & this.content;\n            }\n            getWidth() {\n              return this.content >> 22;\n            }\n            getChars() {\n              return 2097152 & this.content ? this.combinedData : 2097151 & this.content ? (0, s.stringFromCodePoint)(2097151 & this.content) : \"\";\n            }\n            getCode() {\n              return this.isCombined() ? this.combinedData.charCodeAt(this.combinedData.length - 1) : 2097151 & this.content;\n            }\n            setFromCharData(e) {\n              this.fg = e[r.CHAR_DATA_ATTR_INDEX], this.bg = 0;\n              let t = !1;\n              if (e[r.CHAR_DATA_CHAR_INDEX].length > 2) t = !0;else if (2 === e[r.CHAR_DATA_CHAR_INDEX].length) {\n                const i = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0);\n                if (55296 <= i && i <= 56319) {\n                  const s = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(1);\n                  56320 <= s && s <= 57343 ? this.content = 1024 * (i - 55296) + s - 56320 + 65536 | e[r.CHAR_DATA_WIDTH_INDEX] << 22 : t = !0;\n                } else t = !0;\n              } else this.content = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | e[r.CHAR_DATA_WIDTH_INDEX] << 22;\n              t && (this.combinedData = e[r.CHAR_DATA_CHAR_INDEX], this.content = 2097152 | e[r.CHAR_DATA_WIDTH_INDEX] << 22);\n            }\n            getAsCharData() {\n              return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n            }\n          }\n          t.CellData = n;\n        },\n        855: (e, t) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.WHITESPACE_CELL_CODE = t.WHITESPACE_CELL_WIDTH = t.WHITESPACE_CELL_CHAR = t.NULL_CELL_CODE = t.NULL_CELL_WIDTH = t.NULL_CELL_CHAR = t.CHAR_DATA_CODE_INDEX = t.CHAR_DATA_WIDTH_INDEX = t.CHAR_DATA_CHAR_INDEX = t.CHAR_DATA_ATTR_INDEX = t.DEFAULT_EXT = t.DEFAULT_ATTR = t.DEFAULT_COLOR = void 0, t.DEFAULT_COLOR = 0, t.DEFAULT_ATTR = 256 | t.DEFAULT_COLOR << 9, t.DEFAULT_EXT = 0, t.CHAR_DATA_ATTR_INDEX = 0, t.CHAR_DATA_CHAR_INDEX = 1, t.CHAR_DATA_WIDTH_INDEX = 2, t.CHAR_DATA_CODE_INDEX = 3, t.NULL_CELL_CHAR = \"\", t.NULL_CELL_WIDTH = 1, t.NULL_CELL_CODE = 0, t.WHITESPACE_CELL_CHAR = \" \", t.WHITESPACE_CELL_WIDTH = 1, t.WHITESPACE_CELL_CODE = 32;\n        },\n        133: (e, t) => {\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.Utf8ToUtf32 = t.StringToUtf32 = t.utf32ToString = t.stringFromCodePoint = void 0, t.stringFromCodePoint = function (e) {\n            return e > 65535 ? (e -= 65536, String.fromCharCode(55296 + (e >> 10)) + String.fromCharCode(e % 1024 + 56320)) : String.fromCharCode(e);\n          }, t.utf32ToString = function (e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : e.length;\n            let s = \"\";\n            for (let r = t; r < i; ++r) {\n              let t = e[r];\n              t > 65535 ? (t -= 65536, s += String.fromCharCode(55296 + (t >> 10)) + String.fromCharCode(t % 1024 + 56320)) : s += String.fromCharCode(t);\n            }\n            return s;\n          }, t.StringToUtf32 = class {\n            constructor() {\n              this._interim = 0;\n            }\n            clear() {\n              this._interim = 0;\n            }\n            decode(e, t) {\n              const i = e.length;\n              if (!i) return 0;\n              let s = 0,\n                r = 0;\n              if (this._interim) {\n                const i = e.charCodeAt(r++);\n                56320 <= i && i <= 57343 ? t[s++] = 1024 * (this._interim - 55296) + i - 56320 + 65536 : (t[s++] = this._interim, t[s++] = i), this._interim = 0;\n              }\n              for (let o = r; o < i; ++o) {\n                const r = e.charCodeAt(o);\n                if (55296 <= r && r <= 56319) {\n                  if (++o >= i) return this._interim = r, s;\n                  const n = e.charCodeAt(o);\n                  56320 <= n && n <= 57343 ? t[s++] = 1024 * (r - 55296) + n - 56320 + 65536 : (t[s++] = r, t[s++] = n);\n                } else 65279 !== r && (t[s++] = r);\n              }\n              return s;\n            }\n          }, t.Utf8ToUtf32 = class {\n            constructor() {\n              this.interim = new Uint8Array(3);\n            }\n            clear() {\n              this.interim.fill(0);\n            }\n            decode(e, t) {\n              const i = e.length;\n              if (!i) return 0;\n              let s,\n                r,\n                o,\n                n,\n                a = 0,\n                h = 0,\n                l = 0;\n              if (this.interim[0]) {\n                let s = !1,\n                  r = this.interim[0];\n                r &= 192 == (224 & r) ? 31 : 224 == (240 & r) ? 15 : 7;\n                let o,\n                  n = 0;\n                for (; (o = 63 & this.interim[++n]) && n < 4;) r <<= 6, r |= o;\n                const h = 192 == (224 & this.interim[0]) ? 2 : 224 == (240 & this.interim[0]) ? 3 : 4,\n                  c = h - n;\n                for (; l < c;) {\n                  if (l >= i) return 0;\n                  if (o = e[l++], 128 != (192 & o)) {\n                    l--, s = !0;\n                    break;\n                  }\n                  this.interim[n++] = o, r <<= 6, r |= 63 & o;\n                }\n                s || (2 === h ? r < 128 ? l-- : t[a++] = r : 3 === h ? r < 2048 || r >= 55296 && r <= 57343 || 65279 === r || (t[a++] = r) : r < 65536 || r > 1114111 || (t[a++] = r)), this.interim.fill(0);\n              }\n              const c = i - 4;\n              let d = l;\n              for (; d < i;) {\n                for (; !(!(d < c) || 128 & (s = e[d]) || 128 & (r = e[d + 1]) || 128 & (o = e[d + 2]) || 128 & (n = e[d + 3]));) t[a++] = s, t[a++] = r, t[a++] = o, t[a++] = n, d += 4;\n                if (s = e[d++], s < 128) t[a++] = s;else if (192 == (224 & s)) {\n                  if (d >= i) return this.interim[0] = s, a;\n                  if (r = e[d++], 128 != (192 & r)) {\n                    d--;\n                    continue;\n                  }\n                  if (h = (31 & s) << 6 | 63 & r, h < 128) {\n                    d--;\n                    continue;\n                  }\n                  t[a++] = h;\n                } else if (224 == (240 & s)) {\n                  if (d >= i) return this.interim[0] = s, a;\n                  if (r = e[d++], 128 != (192 & r)) {\n                    d--;\n                    continue;\n                  }\n                  if (d >= i) return this.interim[0] = s, this.interim[1] = r, a;\n                  if (o = e[d++], 128 != (192 & o)) {\n                    d--;\n                    continue;\n                  }\n                  if (h = (15 & s) << 12 | (63 & r) << 6 | 63 & o, h < 2048 || h >= 55296 && h <= 57343 || 65279 === h) continue;\n                  t[a++] = h;\n                } else if (240 == (248 & s)) {\n                  if (d >= i) return this.interim[0] = s, a;\n                  if (r = e[d++], 128 != (192 & r)) {\n                    d--;\n                    continue;\n                  }\n                  if (d >= i) return this.interim[0] = s, this.interim[1] = r, a;\n                  if (o = e[d++], 128 != (192 & o)) {\n                    d--;\n                    continue;\n                  }\n                  if (d >= i) return this.interim[0] = s, this.interim[1] = r, this.interim[2] = o, a;\n                  if (n = e[d++], 128 != (192 & n)) {\n                    d--;\n                    continue;\n                  }\n                  if (h = (7 & s) << 18 | (63 & r) << 12 | (63 & o) << 6 | 63 & n, h < 65536 || h > 1114111) continue;\n                  t[a++] = h;\n                }\n              }\n              return a;\n            }\n          };\n        }\n      },\n      t = {};\n    function i(s) {\n      var r = t[s];\n      if (void 0 !== r) return r.exports;\n      var o = t[s] = {\n        exports: {}\n      };\n      return e[s](o, o.exports, i), o.exports;\n    }\n    var s = {};\n    return (() => {\n      var e = s;\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.WebglAddon = void 0;\n      const t = i(345),\n        r = i(859),\n        o = i(399),\n        n = i(666);\n      class a extends r.Disposable {\n        constructor(e) {\n          if (o.isSafari && (0, o.getSafariVersion)() < 16) throw new Error(\"Webgl2 is only supported on Safari 16 and above\");\n          super(), this._preserveDrawingBuffer = e, this._onChangeTextureAtlas = this.register(new t.EventEmitter()), this.onChangeTextureAtlas = this._onChangeTextureAtlas.event, this._onAddTextureAtlasCanvas = this.register(new t.EventEmitter()), this.onAddTextureAtlasCanvas = this._onAddTextureAtlasCanvas.event, this._onRemoveTextureAtlasCanvas = this.register(new t.EventEmitter()), this.onRemoveTextureAtlasCanvas = this._onRemoveTextureAtlasCanvas.event, this._onContextLoss = this.register(new t.EventEmitter()), this.onContextLoss = this._onContextLoss.event;\n        }\n        activate(e) {\n          const i = e._core;\n          if (!e.element) return void this.register(i.onWillOpen(() => this.activate(e)));\n          this._terminal = e;\n          const s = i.coreService,\n            o = i.optionsService,\n            a = i,\n            h = a._renderService,\n            l = a._characterJoinerService,\n            c = a._charSizeService,\n            d = a._coreBrowserService,\n            _ = a._decorationService,\n            u = a._themeService;\n          this._renderer = this.register(new n.WebglRenderer(e, l, c, d, s, _, o, u, this._preserveDrawingBuffer)), this.register((0, t.forwardEvent)(this._renderer.onContextLoss, this._onContextLoss)), this.register((0, t.forwardEvent)(this._renderer.onChangeTextureAtlas, this._onChangeTextureAtlas)), this.register((0, t.forwardEvent)(this._renderer.onAddTextureAtlasCanvas, this._onAddTextureAtlasCanvas)), this.register((0, t.forwardEvent)(this._renderer.onRemoveTextureAtlasCanvas, this._onRemoveTextureAtlasCanvas)), h.setRenderer(this._renderer), this.register((0, r.toDisposable)(() => {\n            const t = this._terminal._core._renderService;\n            t.setRenderer(this._terminal._core._createRenderer()), t.handleResize(e.cols, e.rows);\n          }));\n        }\n        get textureAtlas() {\n          var e;\n          return null === (e = this._renderer) || void 0 === e ? void 0 : e.textureAtlas;\n        }\n        clearTextureAtlas() {\n          var e;\n          null === (e = this._renderer) || void 0 === e || e.clearTextureAtlas();\n        }\n      }\n      e.WebglAddon = a;\n    })(), s;\n  })();\n});\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/xterm-addon-webgl@0.14.0_xterm@5.2.1/node_modules/xterm-addon-webgl/lib/xterm-addon-webgl.js?");

/***/ }),

/***/ "./node_modules/.pnpm/xterm@5.2.1/node_modules/xterm/lib/xterm.js":
/*!************************************************************************!*\
  !*** ./node_modules/.pnpm/xterm@5.2.1/node_modules/xterm/lib/xterm.js ***!
  \************************************************************************/
/***/ (function(module) {

eval("!function (e, t) {\n  if (true) module.exports = t();else { var s, i; }\n}(self, () => (() => {\n  \"use strict\";\n\n  var e = {\n      4567: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.AccessibilityManager = void 0;\n        const n = i(9042),\n          o = i(6114),\n          a = i(9924),\n          h = i(844),\n          c = i(5596),\n          l = i(4725),\n          d = i(3656);\n        let _ = class extends h.Disposable {\n          constructor(e, t) {\n            super(), this._terminal = e, this._renderService = t, this._liveRegionLineCount = 0, this._charsToConsume = [], this._charsToAnnounce = \"\", this._accessibilityContainer = document.createElement(\"div\"), this._accessibilityContainer.classList.add(\"xterm-accessibility\"), this._rowContainer = document.createElement(\"div\"), this._rowContainer.setAttribute(\"role\", \"list\"), this._rowContainer.classList.add(\"xterm-accessibility-tree\"), this._rowElements = [];\n            for (let e = 0; e < this._terminal.rows; e++) this._rowElements[e] = this._createAccessibilityTreeNode(), this._rowContainer.appendChild(this._rowElements[e]);\n            if (this._topBoundaryFocusListener = e => this._handleBoundaryFocus(e, 0), this._bottomBoundaryFocusListener = e => this._handleBoundaryFocus(e, 1), this._rowElements[0].addEventListener(\"focus\", this._topBoundaryFocusListener), this._rowElements[this._rowElements.length - 1].addEventListener(\"focus\", this._bottomBoundaryFocusListener), this._refreshRowsDimensions(), this._accessibilityContainer.appendChild(this._rowContainer), this._liveRegion = document.createElement(\"div\"), this._liveRegion.classList.add(\"live-region\"), this._liveRegion.setAttribute(\"aria-live\", \"assertive\"), this._accessibilityContainer.appendChild(this._liveRegion), this._liveRegionDebouncer = this.register(new a.TimeBasedDebouncer(this._announceCharacters.bind(this))), !this._terminal.element) throw new Error(\"Cannot enable accessibility before Terminal.open\");\n            this._terminal.element.insertAdjacentElement(\"afterbegin\", this._accessibilityContainer), this.register(this._liveRegionDebouncer), this.register(this._terminal.onResize(e => this._handleResize(e.rows))), this.register(this._terminal.onRender(e => this._refreshRows(e.start, e.end))), this.register(this._terminal.onScroll(() => this._refreshRows())), this.register(this._terminal.onA11yChar(e => this._handleChar(e))), this.register(this._terminal.onLineFeed(() => this._handleChar(\"\\n\"))), this.register(this._terminal.onA11yTab(e => this._handleTab(e))), this.register(this._terminal.onKey(e => this._handleKey(e.key))), this.register(this._terminal.onBlur(() => this._clearLiveRegion())), this.register(this._renderService.onDimensionsChange(() => this._refreshRowsDimensions())), this._screenDprMonitor = new c.ScreenDprMonitor(window), this.register(this._screenDprMonitor), this._screenDprMonitor.setListener(() => this._refreshRowsDimensions()), this.register((0, d.addDisposableDomListener)(window, \"resize\", () => this._refreshRowsDimensions())), this._refreshRows(), this.register((0, h.toDisposable)(() => {\n              this._accessibilityContainer.remove(), this._rowElements.length = 0;\n            }));\n          }\n          _handleTab(e) {\n            for (let t = 0; t < e; t++) this._handleChar(\" \");\n          }\n          _handleChar(e) {\n            this._liveRegionLineCount < 21 && (this._charsToConsume.length > 0 ? this._charsToConsume.shift() !== e && (this._charsToAnnounce += e) : this._charsToAnnounce += e, \"\\n\" === e && (this._liveRegionLineCount++, 21 === this._liveRegionLineCount && (this._liveRegion.textContent += n.tooMuchOutput)), o.isMac && this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode && setTimeout(() => {\n              this._accessibilityContainer.appendChild(this._liveRegion);\n            }, 0));\n          }\n          _clearLiveRegion() {\n            this._liveRegion.textContent = \"\", this._liveRegionLineCount = 0, o.isMac && this._liveRegion.remove();\n          }\n          _handleKey(e) {\n            this._clearLiveRegion(), /\\p{Control}/u.test(e) || this._charsToConsume.push(e);\n          }\n          _refreshRows(e, t) {\n            this._liveRegionDebouncer.refresh(e, t, this._terminal.rows);\n          }\n          _announceCharacters() {\n            0 !== this._charsToAnnounce.length && (this._liveRegion.textContent += this._charsToAnnounce, this._charsToAnnounce = \"\");\n          }\n          _handleBoundaryFocus(e, t) {\n            const i = e.target,\n              s = this._rowElements[0 === t ? 1 : this._rowElements.length - 2];\n            if (i.getAttribute(\"aria-posinset\") === (0 === t ? \"1\" : \"\".concat(this._terminal.buffer.lines.length))) return;\n            if (e.relatedTarget !== s) return;\n            let r, n;\n            if (0 === t ? (r = i, n = this._rowElements.pop(), this._rowContainer.removeChild(n)) : (r = this._rowElements.shift(), n = i, this._rowContainer.removeChild(r)), r.removeEventListener(\"focus\", this._topBoundaryFocusListener), n.removeEventListener(\"focus\", this._bottomBoundaryFocusListener), 0 === t) {\n              const e = this._createAccessibilityTreeNode();\n              this._rowElements.unshift(e), this._rowContainer.insertAdjacentElement(\"afterbegin\", e);\n            } else {\n              const e = this._createAccessibilityTreeNode();\n              this._rowElements.push(e), this._rowContainer.appendChild(e);\n            }\n            this._rowElements[0].addEventListener(\"focus\", this._topBoundaryFocusListener), this._rowElements[this._rowElements.length - 1].addEventListener(\"focus\", this._bottomBoundaryFocusListener), this._terminal.scrollLines(0 === t ? -1 : 1), this._rowElements[0 === t ? 1 : this._rowElements.length - 2].focus(), e.preventDefault(), e.stopImmediatePropagation();\n          }\n          _handleResize(e) {\n            this._rowElements[this._rowElements.length - 1].removeEventListener(\"focus\", this._bottomBoundaryFocusListener);\n            for (let e = this._rowContainer.children.length; e < this._terminal.rows; e++) this._rowElements[e] = this._createAccessibilityTreeNode(), this._rowContainer.appendChild(this._rowElements[e]);\n            for (; this._rowElements.length > e;) this._rowContainer.removeChild(this._rowElements.pop());\n            this._rowElements[this._rowElements.length - 1].addEventListener(\"focus\", this._bottomBoundaryFocusListener), this._refreshRowsDimensions();\n          }\n          _createAccessibilityTreeNode() {\n            const e = document.createElement(\"div\");\n            return e.setAttribute(\"role\", \"listitem\"), e.tabIndex = -1, this._refreshRowDimensions(e), e;\n          }\n          _refreshRowsDimensions() {\n            if (this._renderService.dimensions.css.cell.height) {\n              this._accessibilityContainer.style.width = \"\".concat(this._renderService.dimensions.css.canvas.width, \"px\"), this._rowElements.length !== this._terminal.rows && this._handleResize(this._terminal.rows);\n              for (let e = 0; e < this._terminal.rows; e++) this._refreshRowDimensions(this._rowElements[e]);\n            }\n          }\n          _refreshRowDimensions(e) {\n            e.style.height = \"\".concat(this._renderService.dimensions.css.cell.height, \"px\");\n          }\n        };\n        _ = s([r(1, l.IRenderService)], _), t.AccessibilityManager = _;\n      },\n      3614: (e, t) => {\n        function i(e) {\n          return e.replace(/\\r?\\n/g, \"\\r\");\n        }\n        function s(e, t) {\n          return t ? \"\u001b[200~\" + e + \"\u001b[201~\" : e;\n        }\n        function r(e, t, r) {\n          e = s(e = i(e), r.decPrivateModes.bracketedPasteMode), r.triggerDataEvent(e, !0), t.value = \"\";\n        }\n        function n(e, t, i) {\n          const s = i.getBoundingClientRect(),\n            r = e.clientX - s.left - 10,\n            n = e.clientY - s.top - 10;\n          t.style.width = \"20px\", t.style.height = \"20px\", t.style.left = \"\".concat(r, \"px\"), t.style.top = \"\".concat(n, \"px\"), t.style.zIndex = \"1000\", t.focus();\n        }\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.rightClickHandler = t.moveTextAreaUnderMouseCursor = t.paste = t.handlePasteEvent = t.copyHandler = t.bracketTextForPaste = t.prepareTextForTerminal = void 0, t.prepareTextForTerminal = i, t.bracketTextForPaste = s, t.copyHandler = function (e, t) {\n          e.clipboardData && e.clipboardData.setData(\"text/plain\", t.selectionText), e.preventDefault();\n        }, t.handlePasteEvent = function (e, t, i) {\n          e.stopPropagation(), e.clipboardData && r(e.clipboardData.getData(\"text/plain\"), t, i);\n        }, t.paste = r, t.moveTextAreaUnderMouseCursor = n, t.rightClickHandler = function (e, t, i, s, r) {\n          n(e, t, i), r && s.rightClickSelect(e), t.value = s.selectionText, t.select();\n        };\n      },\n      7239: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ColorContrastCache = void 0;\n        const s = i(1505);\n        t.ColorContrastCache = class {\n          constructor() {\n            this._color = new s.TwoKeyMap(), this._css = new s.TwoKeyMap();\n          }\n          setCss(e, t, i) {\n            this._css.set(e, t, i);\n          }\n          getCss(e, t) {\n            return this._css.get(e, t);\n          }\n          setColor(e, t, i) {\n            this._color.set(e, t, i);\n          }\n          getColor(e, t) {\n            return this._color.get(e, t);\n          }\n          clear() {\n            this._color.clear(), this._css.clear();\n          }\n        };\n      },\n      3656: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.addDisposableDomListener = void 0, t.addDisposableDomListener = function (e, t, i, s) {\n          e.addEventListener(t, i, s);\n          let r = !1;\n          return {\n            dispose: () => {\n              r || (r = !0, e.removeEventListener(t, i, s));\n            }\n          };\n        };\n      },\n      6465: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Linkifier2 = void 0;\n        const n = i(2585),\n          o = i(8460),\n          a = i(844),\n          h = i(3656);\n        let c = class extends a.Disposable {\n          constructor(e) {\n            super(), this._bufferService = e, this._linkProviders = [], this._linkCacheDisposables = [], this._isMouseOut = !0, this._wasResized = !1, this._activeLine = -1, this._onShowLinkUnderline = this.register(new o.EventEmitter()), this.onShowLinkUnderline = this._onShowLinkUnderline.event, this._onHideLinkUnderline = this.register(new o.EventEmitter()), this.onHideLinkUnderline = this._onHideLinkUnderline.event, this.register((0, a.getDisposeArrayDisposable)(this._linkCacheDisposables)), this.register((0, a.toDisposable)(() => {\n              this._lastMouseEvent = void 0;\n            })), this.register(this._bufferService.onResize(() => {\n              this._clearCurrentLink(), this._wasResized = !0;\n            }));\n          }\n          get currentLink() {\n            return this._currentLink;\n          }\n          registerLinkProvider(e) {\n            return this._linkProviders.push(e), {\n              dispose: () => {\n                const t = this._linkProviders.indexOf(e);\n                -1 !== t && this._linkProviders.splice(t, 1);\n              }\n            };\n          }\n          attachToDom(e, t, i) {\n            this._element = e, this._mouseService = t, this._renderService = i, this.register((0, h.addDisposableDomListener)(this._element, \"mouseleave\", () => {\n              this._isMouseOut = !0, this._clearCurrentLink();\n            })), this.register((0, h.addDisposableDomListener)(this._element, \"mousemove\", this._handleMouseMove.bind(this))), this.register((0, h.addDisposableDomListener)(this._element, \"mousedown\", this._handleMouseDown.bind(this))), this.register((0, h.addDisposableDomListener)(this._element, \"mouseup\", this._handleMouseUp.bind(this)));\n          }\n          _handleMouseMove(e) {\n            if (this._lastMouseEvent = e, !this._element || !this._mouseService) return;\n            const t = this._positionFromMouseEvent(e, this._element, this._mouseService);\n            if (!t) return;\n            this._isMouseOut = !1;\n            const i = e.composedPath();\n            for (let e = 0; e < i.length; e++) {\n              const t = i[e];\n              if (t.classList.contains(\"xterm\")) break;\n              if (t.classList.contains(\"xterm-hover\")) return;\n            }\n            this._lastBufferCell && t.x === this._lastBufferCell.x && t.y === this._lastBufferCell.y || (this._handleHover(t), this._lastBufferCell = t);\n          }\n          _handleHover(e) {\n            if (this._activeLine !== e.y || this._wasResized) return this._clearCurrentLink(), this._askForLink(e, !1), void (this._wasResized = !1);\n            this._currentLink && this._linkAtPosition(this._currentLink.link, e) || (this._clearCurrentLink(), this._askForLink(e, !0));\n          }\n          _askForLink(e, t) {\n            var i, s;\n            this._activeProviderReplies && t || (null === (i = this._activeProviderReplies) || void 0 === i || i.forEach(e => {\n              null == e || e.forEach(e => {\n                e.link.dispose && e.link.dispose();\n              });\n            }), this._activeProviderReplies = new Map(), this._activeLine = e.y);\n            let r = !1;\n            for (const [i, n] of this._linkProviders.entries()) t ? (null === (s = this._activeProviderReplies) || void 0 === s ? void 0 : s.get(i)) && (r = this._checkLinkProviderResult(i, e, r)) : n.provideLinks(e.y, t => {\n              var s, n;\n              if (this._isMouseOut) return;\n              const o = null == t ? void 0 : t.map(e => ({\n                link: e\n              }));\n              null === (s = this._activeProviderReplies) || void 0 === s || s.set(i, o), r = this._checkLinkProviderResult(i, e, r), (null === (n = this._activeProviderReplies) || void 0 === n ? void 0 : n.size) === this._linkProviders.length && this._removeIntersectingLinks(e.y, this._activeProviderReplies);\n            });\n          }\n          _removeIntersectingLinks(e, t) {\n            const i = new Set();\n            for (let s = 0; s < t.size; s++) {\n              const r = t.get(s);\n              if (r) for (let t = 0; t < r.length; t++) {\n                const s = r[t],\n                  n = s.link.range.start.y < e ? 0 : s.link.range.start.x,\n                  o = s.link.range.end.y > e ? this._bufferService.cols : s.link.range.end.x;\n                for (let e = n; e <= o; e++) {\n                  if (i.has(e)) {\n                    r.splice(t--, 1);\n                    break;\n                  }\n                  i.add(e);\n                }\n              }\n            }\n          }\n          _checkLinkProviderResult(e, t, i) {\n            var s;\n            if (!this._activeProviderReplies) return i;\n            const r = this._activeProviderReplies.get(e);\n            let n = !1;\n            for (let t = 0; t < e; t++) this._activeProviderReplies.has(t) && !this._activeProviderReplies.get(t) || (n = !0);\n            if (!n && r) {\n              const e = r.find(e => this._linkAtPosition(e.link, t));\n              e && (i = !0, this._handleNewLink(e));\n            }\n            if (this._activeProviderReplies.size === this._linkProviders.length && !i) for (let e = 0; e < this._activeProviderReplies.size; e++) {\n              const r = null === (s = this._activeProviderReplies.get(e)) || void 0 === s ? void 0 : s.find(e => this._linkAtPosition(e.link, t));\n              if (r) {\n                i = !0, this._handleNewLink(r);\n                break;\n              }\n            }\n            return i;\n          }\n          _handleMouseDown() {\n            this._mouseDownLink = this._currentLink;\n          }\n          _handleMouseUp(e) {\n            if (!this._element || !this._mouseService || !this._currentLink) return;\n            const t = this._positionFromMouseEvent(e, this._element, this._mouseService);\n            t && this._mouseDownLink === this._currentLink && this._linkAtPosition(this._currentLink.link, t) && this._currentLink.link.activate(e, this._currentLink.link.text);\n          }\n          _clearCurrentLink(e, t) {\n            this._element && this._currentLink && this._lastMouseEvent && (!e || !t || this._currentLink.link.range.start.y >= e && this._currentLink.link.range.end.y <= t) && (this._linkLeave(this._element, this._currentLink.link, this._lastMouseEvent), this._currentLink = void 0, (0, a.disposeArray)(this._linkCacheDisposables));\n          }\n          _handleNewLink(e) {\n            if (!this._element || !this._lastMouseEvent || !this._mouseService) return;\n            const t = this._positionFromMouseEvent(this._lastMouseEvent, this._element, this._mouseService);\n            t && this._linkAtPosition(e.link, t) && (this._currentLink = e, this._currentLink.state = {\n              decorations: {\n                underline: void 0 === e.link.decorations || e.link.decorations.underline,\n                pointerCursor: void 0 === e.link.decorations || e.link.decorations.pointerCursor\n              },\n              isHovered: !0\n            }, this._linkHover(this._element, e.link, this._lastMouseEvent), e.link.decorations = {}, Object.defineProperties(e.link.decorations, {\n              pointerCursor: {\n                get: () => {\n                  var e, t;\n                  return null === (t = null === (e = this._currentLink) || void 0 === e ? void 0 : e.state) || void 0 === t ? void 0 : t.decorations.pointerCursor;\n                },\n                set: e => {\n                  var t, i;\n                  (null === (t = this._currentLink) || void 0 === t ? void 0 : t.state) && this._currentLink.state.decorations.pointerCursor !== e && (this._currentLink.state.decorations.pointerCursor = e, this._currentLink.state.isHovered && (null === (i = this._element) || void 0 === i || i.classList.toggle(\"xterm-cursor-pointer\", e)));\n                }\n              },\n              underline: {\n                get: () => {\n                  var e, t;\n                  return null === (t = null === (e = this._currentLink) || void 0 === e ? void 0 : e.state) || void 0 === t ? void 0 : t.decorations.underline;\n                },\n                set: t => {\n                  var i, s, r;\n                  (null === (i = this._currentLink) || void 0 === i ? void 0 : i.state) && (null === (r = null === (s = this._currentLink) || void 0 === s ? void 0 : s.state) || void 0 === r ? void 0 : r.decorations.underline) !== t && (this._currentLink.state.decorations.underline = t, this._currentLink.state.isHovered && this._fireUnderlineEvent(e.link, t));\n                }\n              }\n            }), this._renderService && this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(e => {\n              if (!this._currentLink) return;\n              const t = 0 === e.start ? 0 : e.start + 1 + this._bufferService.buffer.ydisp,\n                i = this._bufferService.buffer.ydisp + 1 + e.end;\n              if (this._currentLink.link.range.start.y >= t && this._currentLink.link.range.end.y <= i && (this._clearCurrentLink(t, i), this._lastMouseEvent && this._element)) {\n                const e = this._positionFromMouseEvent(this._lastMouseEvent, this._element, this._mouseService);\n                e && this._askForLink(e, !1);\n              }\n            })));\n          }\n          _linkHover(e, t, i) {\n            var s;\n            (null === (s = this._currentLink) || void 0 === s ? void 0 : s.state) && (this._currentLink.state.isHovered = !0, this._currentLink.state.decorations.underline && this._fireUnderlineEvent(t, !0), this._currentLink.state.decorations.pointerCursor && e.classList.add(\"xterm-cursor-pointer\")), t.hover && t.hover(i, t.text);\n          }\n          _fireUnderlineEvent(e, t) {\n            const i = e.range,\n              s = this._bufferService.buffer.ydisp,\n              r = this._createLinkUnderlineEvent(i.start.x - 1, i.start.y - s - 1, i.end.x, i.end.y - s - 1, void 0);\n            (t ? this._onShowLinkUnderline : this._onHideLinkUnderline).fire(r);\n          }\n          _linkLeave(e, t, i) {\n            var s;\n            (null === (s = this._currentLink) || void 0 === s ? void 0 : s.state) && (this._currentLink.state.isHovered = !1, this._currentLink.state.decorations.underline && this._fireUnderlineEvent(t, !1), this._currentLink.state.decorations.pointerCursor && e.classList.remove(\"xterm-cursor-pointer\")), t.leave && t.leave(i, t.text);\n          }\n          _linkAtPosition(e, t) {\n            const i = e.range.start.y * this._bufferService.cols + e.range.start.x,\n              s = e.range.end.y * this._bufferService.cols + e.range.end.x,\n              r = t.y * this._bufferService.cols + t.x;\n            return i <= r && r <= s;\n          }\n          _positionFromMouseEvent(e, t, i) {\n            const s = i.getCoords(e, t, this._bufferService.cols, this._bufferService.rows);\n            if (s) return {\n              x: s[0],\n              y: s[1] + this._bufferService.buffer.ydisp\n            };\n          }\n          _createLinkUnderlineEvent(e, t, i, s, r) {\n            return {\n              x1: e,\n              y1: t,\n              x2: i,\n              y2: s,\n              cols: this._bufferService.cols,\n              fg: r\n            };\n          }\n        };\n        c = s([r(0, n.IBufferService)], c), t.Linkifier2 = c;\n      },\n      9042: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.tooMuchOutput = t.promptLabel = void 0, t.promptLabel = \"Terminal input\", t.tooMuchOutput = \"Too much output to announce, navigate to rows manually to read\";\n      },\n      3730: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.OscLinkProvider = void 0;\n        const n = i(511),\n          o = i(2585);\n        let a = class {\n          constructor(e, t, i) {\n            this._bufferService = e, this._optionsService = t, this._oscLinkService = i;\n          }\n          provideLinks(e, t) {\n            var i;\n            const s = this._bufferService.buffer.lines.get(e - 1);\n            if (!s) return void t(void 0);\n            const r = [],\n              o = this._optionsService.rawOptions.linkHandler,\n              a = new n.CellData(),\n              c = s.getTrimmedLength();\n            let l = -1,\n              d = -1,\n              _ = !1;\n            for (let t = 0; t < c; t++) if (-1 !== d || s.hasContent(t)) {\n              if (s.loadCell(t, a), a.hasExtendedAttrs() && a.extended.urlId) {\n                if (-1 === d) {\n                  d = t, l = a.extended.urlId;\n                  continue;\n                }\n                _ = a.extended.urlId !== l;\n              } else -1 !== d && (_ = !0);\n              if (_ || -1 !== d && t === c - 1) {\n                const s = null === (i = this._oscLinkService.getLinkData(l)) || void 0 === i ? void 0 : i.uri;\n                if (s) {\n                  const i = {\n                    start: {\n                      x: d + 1,\n                      y: e\n                    },\n                    end: {\n                      x: t + (_ || t !== c - 1 ? 0 : 1),\n                      y: e\n                    }\n                  };\n                  let n = !1;\n                  if (!(null == o ? void 0 : o.allowNonHttpProtocols)) try {\n                    const e = new URL(s);\n                    [\"http:\", \"https:\"].includes(e.protocol) || (n = !0);\n                  } catch (e) {\n                    n = !0;\n                  }\n                  n || r.push({\n                    text: s,\n                    range: i,\n                    activate: (e, t) => o ? o.activate(e, t, i) : h(0, t),\n                    hover: (e, t) => {\n                      var s;\n                      return null === (s = null == o ? void 0 : o.hover) || void 0 === s ? void 0 : s.call(o, e, t, i);\n                    },\n                    leave: (e, t) => {\n                      var s;\n                      return null === (s = null == o ? void 0 : o.leave) || void 0 === s ? void 0 : s.call(o, e, t, i);\n                    }\n                  });\n                }\n                _ = !1, a.hasExtendedAttrs() && a.extended.urlId ? (d = t, l = a.extended.urlId) : (d = -1, l = -1);\n              }\n            }\n            t(r);\n          }\n        };\n        function h(e, t) {\n          if (confirm(\"Do you want to navigate to \".concat(t, \"?\\n\\nWARNING: This link could potentially be dangerous\"))) {\n            const e = window.open();\n            if (e) {\n              try {\n                e.opener = null;\n              } catch (e) {}\n              e.location.href = t;\n            } else console.warn(\"Opening link blocked as opener could not be cleared\");\n          }\n        }\n        a = s([r(0, o.IBufferService), r(1, o.IOptionsService), r(2, o.IOscLinkService)], a), t.OscLinkProvider = a;\n      },\n      6193: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.RenderDebouncer = void 0, t.RenderDebouncer = class {\n          constructor(e, t) {\n            this._parentWindow = e, this._renderCallback = t, this._refreshCallbacks = [];\n          }\n          dispose() {\n            this._animationFrame && (this._parentWindow.cancelAnimationFrame(this._animationFrame), this._animationFrame = void 0);\n          }\n          addRefreshCallback(e) {\n            return this._refreshCallbacks.push(e), this._animationFrame || (this._animationFrame = this._parentWindow.requestAnimationFrame(() => this._innerRefresh())), this._animationFrame;\n          }\n          refresh(e, t, i) {\n            this._rowCount = i, e = void 0 !== e ? e : 0, t = void 0 !== t ? t : this._rowCount - 1, this._rowStart = void 0 !== this._rowStart ? Math.min(this._rowStart, e) : e, this._rowEnd = void 0 !== this._rowEnd ? Math.max(this._rowEnd, t) : t, this._animationFrame || (this._animationFrame = this._parentWindow.requestAnimationFrame(() => this._innerRefresh()));\n          }\n          _innerRefresh() {\n            if (this._animationFrame = void 0, void 0 === this._rowStart || void 0 === this._rowEnd || void 0 === this._rowCount) return void this._runRefreshCallbacks();\n            const e = Math.max(this._rowStart, 0),\n              t = Math.min(this._rowEnd, this._rowCount - 1);\n            this._rowStart = void 0, this._rowEnd = void 0, this._renderCallback(e, t), this._runRefreshCallbacks();\n          }\n          _runRefreshCallbacks() {\n            for (const e of this._refreshCallbacks) e(0);\n            this._refreshCallbacks = [];\n          }\n        };\n      },\n      5596: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ScreenDprMonitor = void 0;\n        const s = i(844);\n        class r extends s.Disposable {\n          constructor(e) {\n            super(), this._parentWindow = e, this._currentDevicePixelRatio = this._parentWindow.devicePixelRatio, this.register((0, s.toDisposable)(() => {\n              this.clearListener();\n            }));\n          }\n          setListener(e) {\n            this._listener && this.clearListener(), this._listener = e, this._outerListener = () => {\n              this._listener && (this._listener(this._parentWindow.devicePixelRatio, this._currentDevicePixelRatio), this._updateDpr());\n            }, this._updateDpr();\n          }\n          _updateDpr() {\n            var e;\n            this._outerListener && (null === (e = this._resolutionMediaMatchList) || void 0 === e || e.removeListener(this._outerListener), this._currentDevicePixelRatio = this._parentWindow.devicePixelRatio, this._resolutionMediaMatchList = this._parentWindow.matchMedia(\"screen and (resolution: \".concat(this._parentWindow.devicePixelRatio, \"dppx)\")), this._resolutionMediaMatchList.addListener(this._outerListener));\n          }\n          clearListener() {\n            this._resolutionMediaMatchList && this._listener && this._outerListener && (this._resolutionMediaMatchList.removeListener(this._outerListener), this._resolutionMediaMatchList = void 0, this._listener = void 0, this._outerListener = void 0);\n          }\n        }\n        t.ScreenDprMonitor = r;\n      },\n      3236: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Terminal = void 0;\n        const s = i(2950),\n          r = i(1680),\n          n = i(3614),\n          o = i(2584),\n          a = i(5435),\n          h = i(9312),\n          c = i(6114),\n          l = i(3656),\n          d = i(9042),\n          _ = i(4567),\n          u = i(1296),\n          f = i(7399),\n          v = i(8460),\n          g = i(8437),\n          p = i(3230),\n          S = i(4725),\n          m = i(428),\n          C = i(8934),\n          b = i(6465),\n          y = i(5114),\n          w = i(8969),\n          E = i(8055),\n          L = i(4269),\n          k = i(5941),\n          R = i(3107),\n          D = i(5744),\n          A = i(9074),\n          x = i(2585),\n          B = i(3730),\n          T = i(844),\n          M = i(6731),\n          O = \"undefined\" != typeof window ? window.document : null;\n        class I extends w.CoreTerminal {\n          constructor() {\n            let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            super(e), this.browser = c, this._keyDownHandled = !1, this._keyDownSeen = !1, this._keyPressHandled = !1, this._unprocessedDeadKey = !1, this._onCursorMove = this.register(new v.EventEmitter()), this.onCursorMove = this._onCursorMove.event, this._onKey = this.register(new v.EventEmitter()), this.onKey = this._onKey.event, this._onRender = this.register(new v.EventEmitter()), this.onRender = this._onRender.event, this._onSelectionChange = this.register(new v.EventEmitter()), this.onSelectionChange = this._onSelectionChange.event, this._onTitleChange = this.register(new v.EventEmitter()), this.onTitleChange = this._onTitleChange.event, this._onBell = this.register(new v.EventEmitter()), this.onBell = this._onBell.event, this._onFocus = this.register(new v.EventEmitter()), this._onBlur = this.register(new v.EventEmitter()), this._onA11yCharEmitter = this.register(new v.EventEmitter()), this._onA11yTabEmitter = this.register(new v.EventEmitter()), this._onWillOpen = this.register(new v.EventEmitter()), this._setup(), this.linkifier2 = this.register(this._instantiationService.createInstance(b.Linkifier2)), this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(B.OscLinkProvider)), this._decorationService = this._instantiationService.createInstance(A.DecorationService), this._instantiationService.setService(x.IDecorationService, this._decorationService), this.register(this._inputHandler.onRequestBell(() => this._onBell.fire())), this.register(this._inputHandler.onRequestRefreshRows((e, t) => this.refresh(e, t))), this.register(this._inputHandler.onRequestSendFocus(() => this._reportFocus())), this.register(this._inputHandler.onRequestReset(() => this.reset())), this.register(this._inputHandler.onRequestWindowsOptionsReport(e => this._reportWindowsOptions(e))), this.register(this._inputHandler.onColor(e => this._handleColorEvent(e))), this.register((0, v.forwardEvent)(this._inputHandler.onCursorMove, this._onCursorMove)), this.register((0, v.forwardEvent)(this._inputHandler.onTitleChange, this._onTitleChange)), this.register((0, v.forwardEvent)(this._inputHandler.onA11yChar, this._onA11yCharEmitter)), this.register((0, v.forwardEvent)(this._inputHandler.onA11yTab, this._onA11yTabEmitter)), this.register(this._bufferService.onResize(e => this._afterResize(e.cols, e.rows))), this.register((0, T.toDisposable)(() => {\n              var e, t;\n              this._customKeyEventHandler = void 0, null === (t = null === (e = this.element) || void 0 === e ? void 0 : e.parentNode) || void 0 === t || t.removeChild(this.element);\n            }));\n          }\n          get onFocus() {\n            return this._onFocus.event;\n          }\n          get onBlur() {\n            return this._onBlur.event;\n          }\n          get onA11yChar() {\n            return this._onA11yCharEmitter.event;\n          }\n          get onA11yTab() {\n            return this._onA11yTabEmitter.event;\n          }\n          get onWillOpen() {\n            return this._onWillOpen.event;\n          }\n          _handleColorEvent(e) {\n            if (this._themeService) for (const t of e) {\n              let e,\n                i = \"\";\n              switch (t.index) {\n                case 256:\n                  e = \"foreground\", i = \"10\";\n                  break;\n                case 257:\n                  e = \"background\", i = \"11\";\n                  break;\n                case 258:\n                  e = \"cursor\", i = \"12\";\n                  break;\n                default:\n                  e = \"ansi\", i = \"4;\" + t.index;\n              }\n              switch (t.type) {\n                case 0:\n                  const s = E.color.toColorRGB(\"ansi\" === e ? this._themeService.colors.ansi[t.index] : this._themeService.colors[e]);\n                  this.coreService.triggerDataEvent(\"\".concat(o.C0.ESC, \"]\").concat(i, \";\").concat((0, k.toRgbString)(s)).concat(o.C1_ESCAPED.ST));\n                  break;\n                case 1:\n                  if (\"ansi\" === e) this._themeService.modifyColors(e => e.ansi[t.index] = E.rgba.toColor(...t.color));else {\n                    const i = e;\n                    this._themeService.modifyColors(e => e[i] = E.rgba.toColor(...t.color));\n                  }\n                  break;\n                case 2:\n                  this._themeService.restoreColor(t.index);\n              }\n            }\n          }\n          _setup() {\n            super._setup(), this._customKeyEventHandler = void 0;\n          }\n          get buffer() {\n            return this.buffers.active;\n          }\n          focus() {\n            this.textarea && this.textarea.focus({\n              preventScroll: !0\n            });\n          }\n          _handleScreenReaderModeOptionChange(e) {\n            var t;\n            e ? !this._accessibilityManager && this._renderService && (this._accessibilityManager = this._instantiationService.createInstance(_.AccessibilityManager, this)) : (null === (t = this._accessibilityManager) || void 0 === t || t.dispose(), this._accessibilityManager = void 0);\n          }\n          _handleTextAreaFocus(e) {\n            this.coreService.decPrivateModes.sendFocus && this.coreService.triggerDataEvent(o.C0.ESC + \"[I\"), this.updateCursorStyle(e), this.element.classList.add(\"focus\"), this._showCursor(), this._onFocus.fire();\n          }\n          blur() {\n            var e;\n            return null === (e = this.textarea) || void 0 === e ? void 0 : e.blur();\n          }\n          _handleTextAreaBlur() {\n            this.textarea.value = \"\", this.refresh(this.buffer.y, this.buffer.y), this.coreService.decPrivateModes.sendFocus && this.coreService.triggerDataEvent(o.C0.ESC + \"[O\"), this.element.classList.remove(\"focus\"), this._onBlur.fire();\n          }\n          _syncTextArea() {\n            if (!this.textarea || !this.buffer.isCursorInViewport || this._compositionHelper.isComposing || !this._renderService) return;\n            const e = this.buffer.ybase + this.buffer.y,\n              t = this.buffer.lines.get(e);\n            if (!t) return;\n            const i = Math.min(this.buffer.x, this.cols - 1),\n              s = this._renderService.dimensions.css.cell.height,\n              r = t.getWidth(i),\n              n = this._renderService.dimensions.css.cell.width * r,\n              o = this.buffer.y * this._renderService.dimensions.css.cell.height,\n              a = i * this._renderService.dimensions.css.cell.width;\n            this.textarea.style.left = a + \"px\", this.textarea.style.top = o + \"px\", this.textarea.style.width = n + \"px\", this.textarea.style.height = s + \"px\", this.textarea.style.lineHeight = s + \"px\", this.textarea.style.zIndex = \"-5\";\n          }\n          _initGlobal() {\n            this._bindKeys(), this.register((0, l.addDisposableDomListener)(this.element, \"copy\", e => {\n              this.hasSelection() && (0, n.copyHandler)(e, this._selectionService);\n            }));\n            const e = e => (0, n.handlePasteEvent)(e, this.textarea, this.coreService);\n            this.register((0, l.addDisposableDomListener)(this.textarea, \"paste\", e)), this.register((0, l.addDisposableDomListener)(this.element, \"paste\", e)), c.isFirefox ? this.register((0, l.addDisposableDomListener)(this.element, \"mousedown\", e => {\n              2 === e.button && (0, n.rightClickHandler)(e, this.textarea, this.screenElement, this._selectionService, this.options.rightClickSelectsWord);\n            })) : this.register((0, l.addDisposableDomListener)(this.element, \"contextmenu\", e => {\n              (0, n.rightClickHandler)(e, this.textarea, this.screenElement, this._selectionService, this.options.rightClickSelectsWord);\n            })), c.isLinux && this.register((0, l.addDisposableDomListener)(this.element, \"auxclick\", e => {\n              1 === e.button && (0, n.moveTextAreaUnderMouseCursor)(e, this.textarea, this.screenElement);\n            }));\n          }\n          _bindKeys() {\n            this.register((0, l.addDisposableDomListener)(this.textarea, \"keyup\", e => this._keyUp(e), !0)), this.register((0, l.addDisposableDomListener)(this.textarea, \"keydown\", e => this._keyDown(e), !0)), this.register((0, l.addDisposableDomListener)(this.textarea, \"keypress\", e => this._keyPress(e), !0)), this.register((0, l.addDisposableDomListener)(this.textarea, \"compositionstart\", () => this._compositionHelper.compositionstart())), this.register((0, l.addDisposableDomListener)(this.textarea, \"compositionupdate\", e => this._compositionHelper.compositionupdate(e))), this.register((0, l.addDisposableDomListener)(this.textarea, \"compositionend\", () => this._compositionHelper.compositionend())), this.register((0, l.addDisposableDomListener)(this.textarea, \"input\", e => this._inputEvent(e), !0)), this.register(this.onRender(() => this._compositionHelper.updateCompositionElements()));\n          }\n          open(e) {\n            var t;\n            if (!e) throw new Error(\"Terminal requires a parent element.\");\n            e.isConnected || this._logService.debug(\"Terminal.open was called on an element that was not attached to the DOM\"), this._document = e.ownerDocument, this.element = this._document.createElement(\"div\"), this.element.dir = \"ltr\", this.element.classList.add(\"terminal\"), this.element.classList.add(\"xterm\"), e.appendChild(this.element);\n            const i = O.createDocumentFragment();\n            this._viewportElement = O.createElement(\"div\"), this._viewportElement.classList.add(\"xterm-viewport\"), i.appendChild(this._viewportElement), this._viewportScrollArea = O.createElement(\"div\"), this._viewportScrollArea.classList.add(\"xterm-scroll-area\"), this._viewportElement.appendChild(this._viewportScrollArea), this.screenElement = O.createElement(\"div\"), this.screenElement.classList.add(\"xterm-screen\"), this._helperContainer = O.createElement(\"div\"), this._helperContainer.classList.add(\"xterm-helpers\"), this.screenElement.appendChild(this._helperContainer), i.appendChild(this.screenElement), this.textarea = O.createElement(\"textarea\"), this.textarea.classList.add(\"xterm-helper-textarea\"), this.textarea.setAttribute(\"aria-label\", d.promptLabel), c.isChromeOS || this.textarea.setAttribute(\"aria-multiline\", \"false\"), this.textarea.setAttribute(\"autocorrect\", \"off\"), this.textarea.setAttribute(\"autocapitalize\", \"off\"), this.textarea.setAttribute(\"spellcheck\", \"false\"), this.textarea.tabIndex = 0, this._coreBrowserService = this._instantiationService.createInstance(y.CoreBrowserService, this.textarea, null !== (t = this._document.defaultView) && void 0 !== t ? t : window), this._instantiationService.setService(S.ICoreBrowserService, this._coreBrowserService), this.register((0, l.addDisposableDomListener)(this.textarea, \"focus\", e => this._handleTextAreaFocus(e))), this.register((0, l.addDisposableDomListener)(this.textarea, \"blur\", () => this._handleTextAreaBlur())), this._helperContainer.appendChild(this.textarea), this._charSizeService = this._instantiationService.createInstance(m.CharSizeService, this._document, this._helperContainer), this._instantiationService.setService(S.ICharSizeService, this._charSizeService), this._themeService = this._instantiationService.createInstance(M.ThemeService), this._instantiationService.setService(S.IThemeService, this._themeService), this._characterJoinerService = this._instantiationService.createInstance(L.CharacterJoinerService), this._instantiationService.setService(S.ICharacterJoinerService, this._characterJoinerService), this._renderService = this.register(this._instantiationService.createInstance(p.RenderService, this.rows, this.screenElement)), this._instantiationService.setService(S.IRenderService, this._renderService), this.register(this._renderService.onRenderedViewportChange(e => this._onRender.fire(e))), this.onResize(e => this._renderService.resize(e.cols, e.rows)), this._compositionView = O.createElement(\"div\"), this._compositionView.classList.add(\"composition-view\"), this._compositionHelper = this._instantiationService.createInstance(s.CompositionHelper, this.textarea, this._compositionView), this._helperContainer.appendChild(this._compositionView), this.element.appendChild(i);\n            try {\n              this._onWillOpen.fire(this.element);\n            } catch (e) {}\n            this._renderService.hasRenderer() || this._renderService.setRenderer(this._createRenderer()), this._mouseService = this._instantiationService.createInstance(C.MouseService), this._instantiationService.setService(S.IMouseService, this._mouseService), this.viewport = this._instantiationService.createInstance(r.Viewport, e => this.scrollLines(e, !0, 1), this._viewportElement, this._viewportScrollArea), this.register(this._inputHandler.onRequestSyncScrollBar(() => this.viewport.syncScrollArea())), this.register(this.viewport), this.register(this.onCursorMove(() => {\n              this._renderService.handleCursorMove(), this._syncTextArea();\n            })), this.register(this.onResize(() => this._renderService.handleResize(this.cols, this.rows))), this.register(this.onBlur(() => this._renderService.handleBlur())), this.register(this.onFocus(() => this._renderService.handleFocus())), this.register(this._renderService.onDimensionsChange(() => this.viewport.syncScrollArea())), this._selectionService = this.register(this._instantiationService.createInstance(h.SelectionService, this.element, this.screenElement, this.linkifier2)), this._instantiationService.setService(S.ISelectionService, this._selectionService), this.register(this._selectionService.onRequestScrollLines(e => this.scrollLines(e.amount, e.suppressScrollEvent))), this.register(this._selectionService.onSelectionChange(() => this._onSelectionChange.fire())), this.register(this._selectionService.onRequestRedraw(e => this._renderService.handleSelectionChanged(e.start, e.end, e.columnSelectMode))), this.register(this._selectionService.onLinuxMouseSelection(e => {\n              this.textarea.value = e, this.textarea.focus(), this.textarea.select();\n            })), this.register(this._onScroll.event(e => {\n              this.viewport.syncScrollArea(), this._selectionService.refresh();\n            })), this.register((0, l.addDisposableDomListener)(this._viewportElement, \"scroll\", () => this._selectionService.refresh())), this.linkifier2.attachToDom(this.screenElement, this._mouseService, this._renderService), this.register(this._instantiationService.createInstance(R.BufferDecorationRenderer, this.screenElement)), this.register((0, l.addDisposableDomListener)(this.element, \"mousedown\", e => this._selectionService.handleMouseDown(e))), this.coreMouseService.areMouseEventsActive ? (this._selectionService.disable(), this.element.classList.add(\"enable-mouse-events\")) : this._selectionService.enable(), this.options.screenReaderMode && (this._accessibilityManager = this._instantiationService.createInstance(_.AccessibilityManager, this)), this.register(this.optionsService.onSpecificOptionChange(\"screenReaderMode\", e => this._handleScreenReaderModeOptionChange(e))), this.options.overviewRulerWidth && (this._overviewRulerRenderer = this.register(this._instantiationService.createInstance(D.OverviewRulerRenderer, this._viewportElement, this.screenElement))), this.optionsService.onSpecificOptionChange(\"overviewRulerWidth\", e => {\n              !this._overviewRulerRenderer && e && this._viewportElement && this.screenElement && (this._overviewRulerRenderer = this.register(this._instantiationService.createInstance(D.OverviewRulerRenderer, this._viewportElement, this.screenElement)));\n            }), this._charSizeService.measure(), this.refresh(0, this.rows - 1), this._initGlobal(), this.bindMouse();\n          }\n          _createRenderer() {\n            return this._instantiationService.createInstance(u.DomRenderer, this.element, this.screenElement, this._viewportElement, this.linkifier2);\n          }\n          bindMouse() {\n            const e = this,\n              t = this.element;\n            function i(t) {\n              const i = e._mouseService.getMouseReportCoords(t, e.screenElement);\n              if (!i) return !1;\n              let s, r;\n              switch (t.overrideType || t.type) {\n                case \"mousemove\":\n                  r = 32, void 0 === t.buttons ? (s = 3, void 0 !== t.button && (s = t.button < 3 ? t.button : 3)) : s = 1 & t.buttons ? 0 : 4 & t.buttons ? 1 : 2 & t.buttons ? 2 : 3;\n                  break;\n                case \"mouseup\":\n                  r = 0, s = t.button < 3 ? t.button : 3;\n                  break;\n                case \"mousedown\":\n                  r = 1, s = t.button < 3 ? t.button : 3;\n                  break;\n                case \"wheel\":\n                  if (0 === e.viewport.getLinesScrolled(t)) return !1;\n                  r = t.deltaY < 0 ? 0 : 1, s = 4;\n                  break;\n                default:\n                  return !1;\n              }\n              return !(void 0 === r || void 0 === s || s > 4) && e.coreMouseService.triggerMouseEvent({\n                col: i.col,\n                row: i.row,\n                x: i.x,\n                y: i.y,\n                button: s,\n                action: r,\n                ctrl: t.ctrlKey,\n                alt: t.altKey,\n                shift: t.shiftKey\n              });\n            }\n            const s = {\n                mouseup: null,\n                wheel: null,\n                mousedrag: null,\n                mousemove: null\n              },\n              r = {\n                mouseup: e => (i(e), e.buttons || (this._document.removeEventListener(\"mouseup\", s.mouseup), s.mousedrag && this._document.removeEventListener(\"mousemove\", s.mousedrag)), this.cancel(e)),\n                wheel: e => (i(e), this.cancel(e, !0)),\n                mousedrag: e => {\n                  e.buttons && i(e);\n                },\n                mousemove: e => {\n                  e.buttons || i(e);\n                }\n              };\n            this.register(this.coreMouseService.onProtocolChange(e => {\n              e ? (\"debug\" === this.optionsService.rawOptions.logLevel && this._logService.debug(\"Binding to mouse events:\", this.coreMouseService.explainEvents(e)), this.element.classList.add(\"enable-mouse-events\"), this._selectionService.disable()) : (this._logService.debug(\"Unbinding from mouse events.\"), this.element.classList.remove(\"enable-mouse-events\"), this._selectionService.enable()), 8 & e ? s.mousemove || (t.addEventListener(\"mousemove\", r.mousemove), s.mousemove = r.mousemove) : (t.removeEventListener(\"mousemove\", s.mousemove), s.mousemove = null), 16 & e ? s.wheel || (t.addEventListener(\"wheel\", r.wheel, {\n                passive: !1\n              }), s.wheel = r.wheel) : (t.removeEventListener(\"wheel\", s.wheel), s.wheel = null), 2 & e ? s.mouseup || (s.mouseup = r.mouseup) : (this._document.removeEventListener(\"mouseup\", s.mouseup), s.mouseup = null), 4 & e ? s.mousedrag || (s.mousedrag = r.mousedrag) : (this._document.removeEventListener(\"mousemove\", s.mousedrag), s.mousedrag = null);\n            })), this.coreMouseService.activeProtocol = this.coreMouseService.activeProtocol, this.register((0, l.addDisposableDomListener)(t, \"mousedown\", e => {\n              if (e.preventDefault(), this.focus(), this.coreMouseService.areMouseEventsActive && !this._selectionService.shouldForceSelection(e)) return i(e), s.mouseup && this._document.addEventListener(\"mouseup\", s.mouseup), s.mousedrag && this._document.addEventListener(\"mousemove\", s.mousedrag), this.cancel(e);\n            })), this.register((0, l.addDisposableDomListener)(t, \"wheel\", e => {\n              if (!s.wheel) {\n                if (!this.buffer.hasScrollback) {\n                  const t = this.viewport.getLinesScrolled(e);\n                  if (0 === t) return;\n                  const i = o.C0.ESC + (this.coreService.decPrivateModes.applicationCursorKeys ? \"O\" : \"[\") + (e.deltaY < 0 ? \"A\" : \"B\");\n                  let s = \"\";\n                  for (let e = 0; e < Math.abs(t); e++) s += i;\n                  return this.coreService.triggerDataEvent(s, !0), this.cancel(e, !0);\n                }\n                return this.viewport.handleWheel(e) ? this.cancel(e) : void 0;\n              }\n            }, {\n              passive: !1\n            })), this.register((0, l.addDisposableDomListener)(t, \"touchstart\", e => {\n              if (!this.coreMouseService.areMouseEventsActive) return this.viewport.handleTouchStart(e), this.cancel(e);\n            }, {\n              passive: !0\n            })), this.register((0, l.addDisposableDomListener)(t, \"touchmove\", e => {\n              if (!this.coreMouseService.areMouseEventsActive) return this.viewport.handleTouchMove(e) ? void 0 : this.cancel(e);\n            }, {\n              passive: !1\n            }));\n          }\n          refresh(e, t) {\n            var i;\n            null === (i = this._renderService) || void 0 === i || i.refreshRows(e, t);\n          }\n          updateCursorStyle(e) {\n            var t;\n            (null === (t = this._selectionService) || void 0 === t ? void 0 : t.shouldColumnSelect(e)) ? this.element.classList.add(\"column-select\") : this.element.classList.remove(\"column-select\");\n          }\n          _showCursor() {\n            this.coreService.isCursorInitialized || (this.coreService.isCursorInitialized = !0, this.refresh(this.buffer.y, this.buffer.y));\n          }\n          scrollLines(e, t) {\n            let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n            super.scrollLines(e, t, i), this.refresh(0, this.rows - 1);\n          }\n          paste(e) {\n            (0, n.paste)(e, this.textarea, this.coreService);\n          }\n          attachCustomKeyEventHandler(e) {\n            this._customKeyEventHandler = e;\n          }\n          registerLinkProvider(e) {\n            return this.linkifier2.registerLinkProvider(e);\n          }\n          registerCharacterJoiner(e) {\n            if (!this._characterJoinerService) throw new Error(\"Terminal must be opened first\");\n            const t = this._characterJoinerService.register(e);\n            return this.refresh(0, this.rows - 1), t;\n          }\n          deregisterCharacterJoiner(e) {\n            if (!this._characterJoinerService) throw new Error(\"Terminal must be opened first\");\n            this._characterJoinerService.deregister(e) && this.refresh(0, this.rows - 1);\n          }\n          get markers() {\n            return this.buffer.markers;\n          }\n          addMarker(e) {\n            return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + e);\n          }\n          registerDecoration(e) {\n            return this._decorationService.registerDecoration(e);\n          }\n          hasSelection() {\n            return !!this._selectionService && this._selectionService.hasSelection;\n          }\n          select(e, t, i) {\n            this._selectionService.setSelection(e, t, i);\n          }\n          getSelection() {\n            return this._selectionService ? this._selectionService.selectionText : \"\";\n          }\n          getSelectionPosition() {\n            if (this._selectionService && this._selectionService.hasSelection) return {\n              start: {\n                x: this._selectionService.selectionStart[0],\n                y: this._selectionService.selectionStart[1]\n              },\n              end: {\n                x: this._selectionService.selectionEnd[0],\n                y: this._selectionService.selectionEnd[1]\n              }\n            };\n          }\n          clearSelection() {\n            var e;\n            null === (e = this._selectionService) || void 0 === e || e.clearSelection();\n          }\n          selectAll() {\n            var e;\n            null === (e = this._selectionService) || void 0 === e || e.selectAll();\n          }\n          selectLines(e, t) {\n            var i;\n            null === (i = this._selectionService) || void 0 === i || i.selectLines(e, t);\n          }\n          _keyDown(e) {\n            if (this._keyDownHandled = !1, this._keyDownSeen = !0, this._customKeyEventHandler && !1 === this._customKeyEventHandler(e)) return !1;\n            const t = this.browser.isMac && this.options.macOptionIsMeta && e.altKey;\n            if (!t && !this._compositionHelper.keydown(e)) return this.options.scrollOnUserInput && this.buffer.ybase !== this.buffer.ydisp && this._bufferService.scrollToBottom(), !1;\n            t || \"Dead\" !== e.key && \"AltGraph\" !== e.key || (this._unprocessedDeadKey = !0);\n            const i = (0, f.evaluateKeyboardEvent)(e, this.coreService.decPrivateModes.applicationCursorKeys, this.browser.isMac, this.options.macOptionIsMeta);\n            if (this.updateCursorStyle(e), 3 === i.type || 2 === i.type) {\n              const t = this.rows - 1;\n              return this.scrollLines(2 === i.type ? -t : t), this.cancel(e, !0);\n            }\n            return 1 === i.type && this.selectAll(), !!this._isThirdLevelShift(this.browser, e) || (i.cancel && this.cancel(e, !0), !i.key || !!(e.key && !e.ctrlKey && !e.altKey && !e.metaKey && 1 === e.key.length && e.key.charCodeAt(0) >= 65 && e.key.charCodeAt(0) <= 90) || (this._unprocessedDeadKey ? (this._unprocessedDeadKey = !1, !0) : (i.key !== o.C0.ETX && i.key !== o.C0.CR || (this.textarea.value = \"\"), this._onKey.fire({\n              key: i.key,\n              domEvent: e\n            }), this._showCursor(), this.coreService.triggerDataEvent(i.key, !0), !this.optionsService.rawOptions.screenReaderMode || e.altKey || e.ctrlKey ? this.cancel(e, !0) : void (this._keyDownHandled = !0))));\n          }\n          _isThirdLevelShift(e, t) {\n            const i = e.isMac && !this.options.macOptionIsMeta && t.altKey && !t.ctrlKey && !t.metaKey || e.isWindows && t.altKey && t.ctrlKey && !t.metaKey || e.isWindows && t.getModifierState(\"AltGraph\");\n            return \"keypress\" === t.type ? i : i && (!t.keyCode || t.keyCode > 47);\n          }\n          _keyUp(e) {\n            this._keyDownSeen = !1, this._customKeyEventHandler && !1 === this._customKeyEventHandler(e) || (function (e) {\n              return 16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode;\n            }(e) || this.focus(), this.updateCursorStyle(e), this._keyPressHandled = !1);\n          }\n          _keyPress(e) {\n            let t;\n            if (this._keyPressHandled = !1, this._keyDownHandled) return !1;\n            if (this._customKeyEventHandler && !1 === this._customKeyEventHandler(e)) return !1;\n            if (this.cancel(e), e.charCode) t = e.charCode;else if (null === e.which || void 0 === e.which) t = e.keyCode;else {\n              if (0 === e.which || 0 === e.charCode) return !1;\n              t = e.which;\n            }\n            return !(!t || (e.altKey || e.ctrlKey || e.metaKey) && !this._isThirdLevelShift(this.browser, e) || (t = String.fromCharCode(t), this._onKey.fire({\n              key: t,\n              domEvent: e\n            }), this._showCursor(), this.coreService.triggerDataEvent(t, !0), this._keyPressHandled = !0, this._unprocessedDeadKey = !1, 0));\n          }\n          _inputEvent(e) {\n            if (e.data && \"insertText\" === e.inputType && (!e.composed || !this._keyDownSeen) && !this.optionsService.rawOptions.screenReaderMode) {\n              if (this._keyPressHandled) return !1;\n              this._unprocessedDeadKey = !1;\n              const t = e.data;\n              return this.coreService.triggerDataEvent(t, !0), this.cancel(e), !0;\n            }\n            return !1;\n          }\n          resize(e, t) {\n            e !== this.cols || t !== this.rows ? super.resize(e, t) : this._charSizeService && !this._charSizeService.hasValidSize && this._charSizeService.measure();\n          }\n          _afterResize(e, t) {\n            var i, s;\n            null === (i = this._charSizeService) || void 0 === i || i.measure(), null === (s = this.viewport) || void 0 === s || s.syncScrollArea(!0);\n          }\n          clear() {\n            if (0 !== this.buffer.ybase || 0 !== this.buffer.y) {\n              this.buffer.clearAllMarkers(), this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y)), this.buffer.lines.length = 1, this.buffer.ydisp = 0, this.buffer.ybase = 0, this.buffer.y = 0;\n              for (let e = 1; e < this.rows; e++) this.buffer.lines.push(this.buffer.getBlankLine(g.DEFAULT_ATTR_DATA));\n              this.refresh(0, this.rows - 1), this._onScroll.fire({\n                position: this.buffer.ydisp,\n                source: 0\n              });\n            }\n          }\n          reset() {\n            var e, t;\n            this.options.rows = this.rows, this.options.cols = this.cols;\n            const i = this._customKeyEventHandler;\n            this._setup(), super.reset(), null === (e = this._selectionService) || void 0 === e || e.reset(), this._decorationService.reset(), this._customKeyEventHandler = i, this.refresh(0, this.rows - 1), null === (t = this.viewport) || void 0 === t || t.syncScrollArea();\n          }\n          clearTextureAtlas() {\n            var e;\n            null === (e = this._renderService) || void 0 === e || e.clearTextureAtlas();\n          }\n          _reportFocus() {\n            var e;\n            (null === (e = this.element) || void 0 === e ? void 0 : e.classList.contains(\"focus\")) ? this.coreService.triggerDataEvent(o.C0.ESC + \"[I\") : this.coreService.triggerDataEvent(o.C0.ESC + \"[O\");\n          }\n          _reportWindowsOptions(e) {\n            if (this._renderService) switch (e) {\n              case a.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:\n                const e = this._renderService.dimensions.css.canvas.width.toFixed(0),\n                  t = this._renderService.dimensions.css.canvas.height.toFixed(0);\n                this.coreService.triggerDataEvent(\"\".concat(o.C0.ESC, \"[4;\").concat(t, \";\").concat(e, \"t\"));\n                break;\n              case a.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:\n                const i = this._renderService.dimensions.css.cell.width.toFixed(0),\n                  s = this._renderService.dimensions.css.cell.height.toFixed(0);\n                this.coreService.triggerDataEvent(\"\".concat(o.C0.ESC, \"[6;\").concat(s, \";\").concat(i, \"t\"));\n            }\n          }\n          cancel(e, t) {\n            if (this.options.cancelEvents || t) return e.preventDefault(), e.stopPropagation(), !1;\n          }\n        }\n        t.Terminal = I;\n      },\n      9924: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.TimeBasedDebouncer = void 0, t.TimeBasedDebouncer = class {\n          constructor(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1e3;\n            this._renderCallback = e, this._debounceThresholdMS = t, this._lastRefreshMs = 0, this._additionalRefreshRequested = !1;\n          }\n          dispose() {\n            this._refreshTimeoutID && clearTimeout(this._refreshTimeoutID);\n          }\n          refresh(e, t, i) {\n            this._rowCount = i, e = void 0 !== e ? e : 0, t = void 0 !== t ? t : this._rowCount - 1, this._rowStart = void 0 !== this._rowStart ? Math.min(this._rowStart, e) : e, this._rowEnd = void 0 !== this._rowEnd ? Math.max(this._rowEnd, t) : t;\n            const s = Date.now();\n            if (s - this._lastRefreshMs >= this._debounceThresholdMS) this._lastRefreshMs = s, this._innerRefresh();else if (!this._additionalRefreshRequested) {\n              const e = s - this._lastRefreshMs,\n                t = this._debounceThresholdMS - e;\n              this._additionalRefreshRequested = !0, this._refreshTimeoutID = window.setTimeout(() => {\n                this._lastRefreshMs = Date.now(), this._innerRefresh(), this._additionalRefreshRequested = !1, this._refreshTimeoutID = void 0;\n              }, t);\n            }\n          }\n          _innerRefresh() {\n            if (void 0 === this._rowStart || void 0 === this._rowEnd || void 0 === this._rowCount) return;\n            const e = Math.max(this._rowStart, 0),\n              t = Math.min(this._rowEnd, this._rowCount - 1);\n            this._rowStart = void 0, this._rowEnd = void 0, this._renderCallback(e, t);\n          }\n        };\n      },\n      1680: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Viewport = void 0;\n        const n = i(844),\n          o = i(3656),\n          a = i(4725),\n          h = i(2585);\n        let c = class extends n.Disposable {\n          constructor(e, t, i, s, r, n, a, h, c) {\n            super(), this._scrollLines = e, this._viewportElement = t, this._scrollArea = i, this._bufferService = s, this._optionsService = r, this._charSizeService = n, this._renderService = a, this._coreBrowserService = h, this.scrollBarWidth = 0, this._currentRowHeight = 0, this._currentDeviceCellHeight = 0, this._lastRecordedBufferLength = 0, this._lastRecordedViewportHeight = 0, this._lastRecordedBufferHeight = 0, this._lastTouchY = 0, this._lastScrollTop = 0, this._wheelPartialScroll = 0, this._refreshAnimationFrame = null, this._ignoreNextScrollEvent = !1, this._smoothScrollState = {\n              startTime: 0,\n              origin: -1,\n              target: -1\n            }, this.scrollBarWidth = this._viewportElement.offsetWidth - this._scrollArea.offsetWidth || 15, this.register((0, o.addDisposableDomListener)(this._viewportElement, \"scroll\", this._handleScroll.bind(this))), this._activeBuffer = this._bufferService.buffer, this.register(this._bufferService.buffers.onBufferActivate(e => this._activeBuffer = e.activeBuffer)), this._renderDimensions = this._renderService.dimensions, this.register(this._renderService.onDimensionsChange(e => this._renderDimensions = e)), this._handleThemeChange(c.colors), this.register(c.onChangeColors(e => this._handleThemeChange(e))), this.register(this._optionsService.onSpecificOptionChange(\"scrollback\", () => this.syncScrollArea())), setTimeout(() => this.syncScrollArea(), 0);\n          }\n          _handleThemeChange(e) {\n            this._viewportElement.style.backgroundColor = e.background.css;\n          }\n          _refresh(e) {\n            if (e) return this._innerRefresh(), void (null !== this._refreshAnimationFrame && this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));\n            null === this._refreshAnimationFrame && (this._refreshAnimationFrame = this._coreBrowserService.window.requestAnimationFrame(() => this._innerRefresh()));\n          }\n          _innerRefresh() {\n            if (this._charSizeService.height > 0) {\n              this._currentRowHeight = this._renderService.dimensions.device.cell.height / this._coreBrowserService.dpr, this._currentDeviceCellHeight = this._renderService.dimensions.device.cell.height, this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n              const e = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._renderService.dimensions.css.canvas.height);\n              this._lastRecordedBufferHeight !== e && (this._lastRecordedBufferHeight = e, this._scrollArea.style.height = this._lastRecordedBufferHeight + \"px\");\n            }\n            const e = this._bufferService.buffer.ydisp * this._currentRowHeight;\n            this._viewportElement.scrollTop !== e && (this._ignoreNextScrollEvent = !0, this._viewportElement.scrollTop = e), this._refreshAnimationFrame = null;\n          }\n          syncScrollArea() {\n            let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n            if (this._lastRecordedBufferLength !== this._bufferService.buffer.lines.length) return this._lastRecordedBufferLength = this._bufferService.buffer.lines.length, void this._refresh(e);\n            this._lastRecordedViewportHeight === this._renderService.dimensions.css.canvas.height && this._lastScrollTop === this._activeBuffer.ydisp * this._currentRowHeight && this._renderDimensions.device.cell.height === this._currentDeviceCellHeight || this._refresh(e);\n          }\n          _handleScroll(e) {\n            if (this._lastScrollTop = this._viewportElement.scrollTop, !this._viewportElement.offsetParent) return;\n            if (this._ignoreNextScrollEvent) return this._ignoreNextScrollEvent = !1, void this._scrollLines(0);\n            const t = Math.round(this._lastScrollTop / this._currentRowHeight) - this._bufferService.buffer.ydisp;\n            this._scrollLines(t);\n          }\n          _smoothScroll() {\n            if (this._isDisposed || -1 === this._smoothScrollState.origin || -1 === this._smoothScrollState.target) return;\n            const e = this._smoothScrollPercent();\n            this._viewportElement.scrollTop = this._smoothScrollState.origin + Math.round(e * (this._smoothScrollState.target - this._smoothScrollState.origin)), e < 1 ? this._coreBrowserService.window.requestAnimationFrame(() => this._smoothScroll()) : this._clearSmoothScrollState();\n          }\n          _smoothScrollPercent() {\n            return this._optionsService.rawOptions.smoothScrollDuration && this._smoothScrollState.startTime ? Math.max(Math.min((Date.now() - this._smoothScrollState.startTime) / this._optionsService.rawOptions.smoothScrollDuration, 1), 0) : 1;\n          }\n          _clearSmoothScrollState() {\n            this._smoothScrollState.startTime = 0, this._smoothScrollState.origin = -1, this._smoothScrollState.target = -1;\n          }\n          _bubbleScroll(e, t) {\n            const i = this._viewportElement.scrollTop + this._lastRecordedViewportHeight;\n            return !(t < 0 && 0 !== this._viewportElement.scrollTop || t > 0 && i < this._lastRecordedBufferHeight) || (e.cancelable && e.preventDefault(), !1);\n          }\n          handleWheel(e) {\n            const t = this._getPixelsScrolled(e);\n            return 0 !== t && (this._optionsService.rawOptions.smoothScrollDuration ? (this._smoothScrollState.startTime = Date.now(), this._smoothScrollPercent() < 1 ? (this._smoothScrollState.origin = this._viewportElement.scrollTop, -1 === this._smoothScrollState.target ? this._smoothScrollState.target = this._viewportElement.scrollTop + t : this._smoothScrollState.target += t, this._smoothScrollState.target = Math.max(Math.min(this._smoothScrollState.target, this._viewportElement.scrollHeight), 0), this._smoothScroll()) : this._clearSmoothScrollState()) : this._viewportElement.scrollTop += t, this._bubbleScroll(e, t));\n          }\n          _getPixelsScrolled(e) {\n            if (0 === e.deltaY || e.shiftKey) return 0;\n            let t = this._applyScrollModifier(e.deltaY, e);\n            return e.deltaMode === WheelEvent.DOM_DELTA_LINE ? t *= this._currentRowHeight : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t *= this._currentRowHeight * this._bufferService.rows), t;\n          }\n          getBufferElements(e, t) {\n            var i;\n            let s,\n              r = \"\";\n            const n = [],\n              o = null != t ? t : this._bufferService.buffer.lines.length,\n              a = this._bufferService.buffer.lines;\n            for (let t = e; t < o; t++) {\n              const e = a.get(t);\n              if (!e) continue;\n              const o = null === (i = a.get(t + 1)) || void 0 === i ? void 0 : i.isWrapped;\n              if (r += e.translateToString(!o), !o || t === a.length - 1) {\n                const e = document.createElement(\"div\");\n                e.textContent = r, n.push(e), r.length > 0 && (s = e), r = \"\";\n              }\n            }\n            return {\n              bufferElements: n,\n              cursorElement: s\n            };\n          }\n          getLinesScrolled(e) {\n            if (0 === e.deltaY || e.shiftKey) return 0;\n            let t = this._applyScrollModifier(e.deltaY, e);\n            return e.deltaMode === WheelEvent.DOM_DELTA_PIXEL ? (t /= this._currentRowHeight + 0, this._wheelPartialScroll += t, t = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1), this._wheelPartialScroll %= 1) : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t *= this._bufferService.rows), t;\n          }\n          _applyScrollModifier(e, t) {\n            const i = this._optionsService.rawOptions.fastScrollModifier;\n            return \"alt\" === i && t.altKey || \"ctrl\" === i && t.ctrlKey || \"shift\" === i && t.shiftKey ? e * this._optionsService.rawOptions.fastScrollSensitivity * this._optionsService.rawOptions.scrollSensitivity : e * this._optionsService.rawOptions.scrollSensitivity;\n          }\n          handleTouchStart(e) {\n            this._lastTouchY = e.touches[0].pageY;\n          }\n          handleTouchMove(e) {\n            const t = this._lastTouchY - e.touches[0].pageY;\n            return this._lastTouchY = e.touches[0].pageY, 0 !== t && (this._viewportElement.scrollTop += t, this._bubbleScroll(e, t));\n          }\n        };\n        c = s([r(3, h.IBufferService), r(4, h.IOptionsService), r(5, a.ICharSizeService), r(6, a.IRenderService), r(7, a.ICoreBrowserService), r(8, a.IThemeService)], c), t.Viewport = c;\n      },\n      3107: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferDecorationRenderer = void 0;\n        const n = i(3656),\n          o = i(4725),\n          a = i(844),\n          h = i(2585);\n        let c = class extends a.Disposable {\n          constructor(e, t, i, s) {\n            super(), this._screenElement = e, this._bufferService = t, this._decorationService = i, this._renderService = s, this._decorationElements = new Map(), this._altBufferIsActive = !1, this._dimensionsChanged = !1, this._container = document.createElement(\"div\"), this._container.classList.add(\"xterm-decoration-container\"), this._screenElement.appendChild(this._container), this.register(this._renderService.onRenderedViewportChange(() => this._doRefreshDecorations())), this.register(this._renderService.onDimensionsChange(() => {\n              this._dimensionsChanged = !0, this._queueRefresh();\n            })), this.register((0, n.addDisposableDomListener)(window, \"resize\", () => this._queueRefresh())), this.register(this._bufferService.buffers.onBufferActivate(() => {\n              this._altBufferIsActive = this._bufferService.buffer === this._bufferService.buffers.alt;\n            })), this.register(this._decorationService.onDecorationRegistered(() => this._queueRefresh())), this.register(this._decorationService.onDecorationRemoved(e => this._removeDecoration(e))), this.register((0, a.toDisposable)(() => {\n              this._container.remove(), this._decorationElements.clear();\n            }));\n          }\n          _queueRefresh() {\n            void 0 === this._animationFrame && (this._animationFrame = this._renderService.addRefreshCallback(() => {\n              this._doRefreshDecorations(), this._animationFrame = void 0;\n            }));\n          }\n          _doRefreshDecorations() {\n            for (const e of this._decorationService.decorations) this._renderDecoration(e);\n            this._dimensionsChanged = !1;\n          }\n          _renderDecoration(e) {\n            this._refreshStyle(e), this._dimensionsChanged && this._refreshXPosition(e);\n          }\n          _createElement(e) {\n            var t, i;\n            const s = document.createElement(\"div\");\n            s.classList.add(\"xterm-decoration\"), s.classList.toggle(\"xterm-decoration-top-layer\", \"top\" === (null === (t = null == e ? void 0 : e.options) || void 0 === t ? void 0 : t.layer)), s.style.width = \"\".concat(Math.round((e.options.width || 1) * this._renderService.dimensions.css.cell.width), \"px\"), s.style.height = (e.options.height || 1) * this._renderService.dimensions.css.cell.height + \"px\", s.style.top = (e.marker.line - this._bufferService.buffers.active.ydisp) * this._renderService.dimensions.css.cell.height + \"px\", s.style.lineHeight = \"\".concat(this._renderService.dimensions.css.cell.height, \"px\");\n            const r = null !== (i = e.options.x) && void 0 !== i ? i : 0;\n            return r && r > this._bufferService.cols && (s.style.display = \"none\"), this._refreshXPosition(e, s), s;\n          }\n          _refreshStyle(e) {\n            const t = e.marker.line - this._bufferService.buffers.active.ydisp;\n            if (t < 0 || t >= this._bufferService.rows) e.element && (e.element.style.display = \"none\", e.onRenderEmitter.fire(e.element));else {\n              let i = this._decorationElements.get(e);\n              i || (i = this._createElement(e), e.element = i, this._decorationElements.set(e, i), this._container.appendChild(i)), i.style.top = t * this._renderService.dimensions.css.cell.height + \"px\", i.style.display = this._altBufferIsActive ? \"none\" : \"block\", e.onRenderEmitter.fire(i);\n            }\n          }\n          _refreshXPosition(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : e.element;\n            var i;\n            if (!t) return;\n            const s = null !== (i = e.options.x) && void 0 !== i ? i : 0;\n            \"right\" === (e.options.anchor || \"left\") ? t.style.right = s ? s * this._renderService.dimensions.css.cell.width + \"px\" : \"\" : t.style.left = s ? s * this._renderService.dimensions.css.cell.width + \"px\" : \"\";\n          }\n          _removeDecoration(e) {\n            var t;\n            null === (t = this._decorationElements.get(e)) || void 0 === t || t.remove(), this._decorationElements.delete(e), e.dispose();\n          }\n        };\n        c = s([r(1, h.IBufferService), r(2, h.IDecorationService), r(3, o.IRenderService)], c), t.BufferDecorationRenderer = c;\n      },\n      5871: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ColorZoneStore = void 0, t.ColorZoneStore = class {\n          constructor() {\n            this._zones = [], this._zonePool = [], this._zonePoolIndex = 0, this._linePadding = {\n              full: 0,\n              left: 0,\n              center: 0,\n              right: 0\n            };\n          }\n          get zones() {\n            return this._zonePool.length = Math.min(this._zonePool.length, this._zones.length), this._zones;\n          }\n          clear() {\n            this._zones.length = 0, this._zonePoolIndex = 0;\n          }\n          addDecoration(e) {\n            if (e.options.overviewRulerOptions) {\n              for (const t of this._zones) if (t.color === e.options.overviewRulerOptions.color && t.position === e.options.overviewRulerOptions.position) {\n                if (this._lineIntersectsZone(t, e.marker.line)) return;\n                if (this._lineAdjacentToZone(t, e.marker.line, e.options.overviewRulerOptions.position)) return void this._addLineToZone(t, e.marker.line);\n              }\n              if (this._zonePoolIndex < this._zonePool.length) return this._zonePool[this._zonePoolIndex].color = e.options.overviewRulerOptions.color, this._zonePool[this._zonePoolIndex].position = e.options.overviewRulerOptions.position, this._zonePool[this._zonePoolIndex].startBufferLine = e.marker.line, this._zonePool[this._zonePoolIndex].endBufferLine = e.marker.line, void this._zones.push(this._zonePool[this._zonePoolIndex++]);\n              this._zones.push({\n                color: e.options.overviewRulerOptions.color,\n                position: e.options.overviewRulerOptions.position,\n                startBufferLine: e.marker.line,\n                endBufferLine: e.marker.line\n              }), this._zonePool.push(this._zones[this._zones.length - 1]), this._zonePoolIndex++;\n            }\n          }\n          setPadding(e) {\n            this._linePadding = e;\n          }\n          _lineIntersectsZone(e, t) {\n            return t >= e.startBufferLine && t <= e.endBufferLine;\n          }\n          _lineAdjacentToZone(e, t, i) {\n            return t >= e.startBufferLine - this._linePadding[i || \"full\"] && t <= e.endBufferLine + this._linePadding[i || \"full\"];\n          }\n          _addLineToZone(e, t) {\n            e.startBufferLine = Math.min(e.startBufferLine, t), e.endBufferLine = Math.max(e.endBufferLine, t);\n          }\n        };\n      },\n      5744: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.OverviewRulerRenderer = void 0;\n        const n = i(5871),\n          o = i(3656),\n          a = i(4725),\n          h = i(844),\n          c = i(2585),\n          l = {\n            full: 0,\n            left: 0,\n            center: 0,\n            right: 0\n          },\n          d = {\n            full: 0,\n            left: 0,\n            center: 0,\n            right: 0\n          },\n          _ = {\n            full: 0,\n            left: 0,\n            center: 0,\n            right: 0\n          };\n        let u = class extends h.Disposable {\n          constructor(e, t, i, s, r, o, a) {\n            var c;\n            super(), this._viewportElement = e, this._screenElement = t, this._bufferService = i, this._decorationService = s, this._renderService = r, this._optionsService = o, this._coreBrowseService = a, this._colorZoneStore = new n.ColorZoneStore(), this._shouldUpdateDimensions = !0, this._shouldUpdateAnchor = !0, this._lastKnownBufferLength = 0, this._canvas = document.createElement(\"canvas\"), this._canvas.classList.add(\"xterm-decoration-overview-ruler\"), this._refreshCanvasDimensions(), null === (c = this._viewportElement.parentElement) || void 0 === c || c.insertBefore(this._canvas, this._viewportElement);\n            const l = this._canvas.getContext(\"2d\");\n            if (!l) throw new Error(\"Ctx cannot be null\");\n            this._ctx = l, this._registerDecorationListeners(), this._registerBufferChangeListeners(), this._registerDimensionChangeListeners(), this.register((0, h.toDisposable)(() => {\n              var e;\n              null === (e = this._canvas) || void 0 === e || e.remove();\n            }));\n          }\n          get _width() {\n            return this._optionsService.options.overviewRulerWidth || 0;\n          }\n          _registerDecorationListeners() {\n            this.register(this._decorationService.onDecorationRegistered(() => this._queueRefresh(void 0, !0))), this.register(this._decorationService.onDecorationRemoved(() => this._queueRefresh(void 0, !0)));\n          }\n          _registerBufferChangeListeners() {\n            this.register(this._renderService.onRenderedViewportChange(() => this._queueRefresh())), this.register(this._bufferService.buffers.onBufferActivate(() => {\n              this._canvas.style.display = this._bufferService.buffer === this._bufferService.buffers.alt ? \"none\" : \"block\";\n            })), this.register(this._bufferService.onScroll(() => {\n              this._lastKnownBufferLength !== this._bufferService.buffers.normal.lines.length && (this._refreshDrawHeightConstants(), this._refreshColorZonePadding());\n            }));\n          }\n          _registerDimensionChangeListeners() {\n            this.register(this._renderService.onRender(() => {\n              this._containerHeight && this._containerHeight === this._screenElement.clientHeight || (this._queueRefresh(!0), this._containerHeight = this._screenElement.clientHeight);\n            })), this.register(this._optionsService.onSpecificOptionChange(\"overviewRulerWidth\", () => this._queueRefresh(!0))), this.register((0, o.addDisposableDomListener)(this._coreBrowseService.window, \"resize\", () => this._queueRefresh(!0))), this._queueRefresh(!0);\n          }\n          _refreshDrawConstants() {\n            const e = Math.floor(this._canvas.width / 3),\n              t = Math.ceil(this._canvas.width / 3);\n            d.full = this._canvas.width, d.left = e, d.center = t, d.right = e, this._refreshDrawHeightConstants(), _.full = 0, _.left = 0, _.center = d.left, _.right = d.left + d.center;\n          }\n          _refreshDrawHeightConstants() {\n            l.full = Math.round(2 * this._coreBrowseService.dpr);\n            const e = this._canvas.height / this._bufferService.buffer.lines.length,\n              t = Math.round(Math.max(Math.min(e, 12), 6) * this._coreBrowseService.dpr);\n            l.left = t, l.center = t, l.right = t;\n          }\n          _refreshColorZonePadding() {\n            this._colorZoneStore.setPadding({\n              full: Math.floor(this._bufferService.buffers.active.lines.length / (this._canvas.height - 1) * l.full),\n              left: Math.floor(this._bufferService.buffers.active.lines.length / (this._canvas.height - 1) * l.left),\n              center: Math.floor(this._bufferService.buffers.active.lines.length / (this._canvas.height - 1) * l.center),\n              right: Math.floor(this._bufferService.buffers.active.lines.length / (this._canvas.height - 1) * l.right)\n            }), this._lastKnownBufferLength = this._bufferService.buffers.normal.lines.length;\n          }\n          _refreshCanvasDimensions() {\n            this._canvas.style.width = \"\".concat(this._width, \"px\"), this._canvas.width = Math.round(this._width * this._coreBrowseService.dpr), this._canvas.style.height = \"\".concat(this._screenElement.clientHeight, \"px\"), this._canvas.height = Math.round(this._screenElement.clientHeight * this._coreBrowseService.dpr), this._refreshDrawConstants(), this._refreshColorZonePadding();\n          }\n          _refreshDecorations() {\n            this._shouldUpdateDimensions && this._refreshCanvasDimensions(), this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height), this._colorZoneStore.clear();\n            for (const e of this._decorationService.decorations) this._colorZoneStore.addDecoration(e);\n            this._ctx.lineWidth = 1;\n            const e = this._colorZoneStore.zones;\n            for (const t of e) \"full\" !== t.position && this._renderColorZone(t);\n            for (const t of e) \"full\" === t.position && this._renderColorZone(t);\n            this._shouldUpdateDimensions = !1, this._shouldUpdateAnchor = !1;\n          }\n          _renderColorZone(e) {\n            this._ctx.fillStyle = e.color, this._ctx.fillRect(_[e.position || \"full\"], Math.round((this._canvas.height - 1) * (e.startBufferLine / this._bufferService.buffers.active.lines.length) - l[e.position || \"full\"] / 2), d[e.position || \"full\"], Math.round((this._canvas.height - 1) * ((e.endBufferLine - e.startBufferLine) / this._bufferService.buffers.active.lines.length) + l[e.position || \"full\"]));\n          }\n          _queueRefresh(e, t) {\n            this._shouldUpdateDimensions = e || this._shouldUpdateDimensions, this._shouldUpdateAnchor = t || this._shouldUpdateAnchor, void 0 === this._animationFrame && (this._animationFrame = this._coreBrowseService.window.requestAnimationFrame(() => {\n              this._refreshDecorations(), this._animationFrame = void 0;\n            }));\n          }\n        };\n        u = s([r(2, c.IBufferService), r(3, c.IDecorationService), r(4, a.IRenderService), r(5, c.IOptionsService), r(6, a.ICoreBrowserService)], u), t.OverviewRulerRenderer = u;\n      },\n      2950: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CompositionHelper = void 0;\n        const n = i(4725),\n          o = i(2585),\n          a = i(2584);\n        let h = class {\n          constructor(e, t, i, s, r, n) {\n            this._textarea = e, this._compositionView = t, this._bufferService = i, this._optionsService = s, this._coreService = r, this._renderService = n, this._isComposing = !1, this._isSendingComposition = !1, this._compositionPosition = {\n              start: 0,\n              end: 0\n            }, this._dataAlreadySent = \"\";\n          }\n          get isComposing() {\n            return this._isComposing;\n          }\n          compositionstart() {\n            this._isComposing = !0, this._compositionPosition.start = this._textarea.value.length, this._compositionView.textContent = \"\", this._dataAlreadySent = \"\", this._compositionView.classList.add(\"active\");\n          }\n          compositionupdate(e) {\n            this._compositionView.textContent = e.data, this.updateCompositionElements(), setTimeout(() => {\n              this._compositionPosition.end = this._textarea.value.length;\n            }, 0);\n          }\n          compositionend() {\n            this._finalizeComposition(!0);\n          }\n          keydown(e) {\n            if (this._isComposing || this._isSendingComposition) {\n              if (229 === e.keyCode) return !1;\n              if (16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode) return !1;\n              this._finalizeComposition(!1);\n            }\n            return 229 !== e.keyCode || (this._handleAnyTextareaChanges(), !1);\n          }\n          _finalizeComposition(e) {\n            if (this._compositionView.classList.remove(\"active\"), this._isComposing = !1, e) {\n              const e = {\n                start: this._compositionPosition.start,\n                end: this._compositionPosition.end\n              };\n              this._isSendingComposition = !0, setTimeout(() => {\n                if (this._isSendingComposition) {\n                  let t;\n                  this._isSendingComposition = !1, e.start += this._dataAlreadySent.length, t = this._isComposing ? this._textarea.value.substring(e.start, e.end) : this._textarea.value.substring(e.start), t.length > 0 && this._coreService.triggerDataEvent(t, !0);\n                }\n              }, 0);\n            } else {\n              this._isSendingComposition = !1;\n              const e = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n              this._coreService.triggerDataEvent(e, !0);\n            }\n          }\n          _handleAnyTextareaChanges() {\n            const e = this._textarea.value;\n            setTimeout(() => {\n              if (!this._isComposing) {\n                const t = this._textarea.value,\n                  i = t.replace(e, \"\");\n                this._dataAlreadySent = i, t.length > e.length ? this._coreService.triggerDataEvent(i, !0) : t.length < e.length ? this._coreService.triggerDataEvent(\"\".concat(a.C0.DEL), !0) : t.length === e.length && t !== e && this._coreService.triggerDataEvent(t, !0);\n              }\n            }, 0);\n          }\n          updateCompositionElements(e) {\n            if (this._isComposing) {\n              if (this._bufferService.buffer.isCursorInViewport) {\n                const e = Math.min(this._bufferService.buffer.x, this._bufferService.cols - 1),\n                  t = this._renderService.dimensions.css.cell.height,\n                  i = this._bufferService.buffer.y * this._renderService.dimensions.css.cell.height,\n                  s = e * this._renderService.dimensions.css.cell.width;\n                this._compositionView.style.left = s + \"px\", this._compositionView.style.top = i + \"px\", this._compositionView.style.height = t + \"px\", this._compositionView.style.lineHeight = t + \"px\", this._compositionView.style.fontFamily = this._optionsService.rawOptions.fontFamily, this._compositionView.style.fontSize = this._optionsService.rawOptions.fontSize + \"px\";\n                const r = this._compositionView.getBoundingClientRect();\n                this._textarea.style.left = s + \"px\", this._textarea.style.top = i + \"px\", this._textarea.style.width = Math.max(r.width, 1) + \"px\", this._textarea.style.height = Math.max(r.height, 1) + \"px\", this._textarea.style.lineHeight = r.height + \"px\";\n              }\n              e || setTimeout(() => this.updateCompositionElements(!0), 0);\n            }\n          }\n        };\n        h = s([r(2, o.IBufferService), r(3, o.IOptionsService), r(4, o.ICoreService), r(5, n.IRenderService)], h), t.CompositionHelper = h;\n      },\n      9806: (e, t) => {\n        function i(e, t, i) {\n          const s = i.getBoundingClientRect(),\n            r = e.getComputedStyle(i),\n            n = parseInt(r.getPropertyValue(\"padding-left\")),\n            o = parseInt(r.getPropertyValue(\"padding-top\"));\n          return [t.clientX - s.left - n, t.clientY - s.top - o];\n        }\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.getCoords = t.getCoordsRelativeToElement = void 0, t.getCoordsRelativeToElement = i, t.getCoords = function (e, t, s, r, n, o, a, h, c) {\n          if (!o) return;\n          const l = i(e, t, s);\n          return l ? (l[0] = Math.ceil((l[0] + (c ? a / 2 : 0)) / a), l[1] = Math.ceil(l[1] / h), l[0] = Math.min(Math.max(l[0], 1), r + (c ? 1 : 0)), l[1] = Math.min(Math.max(l[1], 1), n), l) : void 0;\n        };\n      },\n      9504: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.moveToCellSequence = void 0;\n        const s = i(2584);\n        function r(e, t, i, s) {\n          const r = e - n(e, i),\n            a = t - n(t, i),\n            l = Math.abs(r - a) - function (e, t, i) {\n              let s = 0;\n              const r = e - n(e, i),\n                a = t - n(t, i);\n              for (let n = 0; n < Math.abs(r - a); n++) {\n                const a = \"A\" === o(e, t) ? -1 : 1,\n                  h = i.buffer.lines.get(r + a * n);\n                (null == h ? void 0 : h.isWrapped) && s++;\n              }\n              return s;\n            }(e, t, i);\n          return c(l, h(o(e, t), s));\n        }\n        function n(e, t) {\n          let i = 0,\n            s = t.buffer.lines.get(e),\n            r = null == s ? void 0 : s.isWrapped;\n          for (; r && e >= 0 && e < t.rows;) i++, s = t.buffer.lines.get(--e), r = null == s ? void 0 : s.isWrapped;\n          return i;\n        }\n        function o(e, t) {\n          return e > t ? \"A\" : \"B\";\n        }\n        function a(e, t, i, s, r, n) {\n          let o = e,\n            a = t,\n            h = \"\";\n          for (; o !== i || a !== s;) o += r ? 1 : -1, r && o > n.cols - 1 ? (h += n.buffer.translateBufferLineToString(a, !1, e, o), o = 0, e = 0, a++) : !r && o < 0 && (h += n.buffer.translateBufferLineToString(a, !1, 0, e + 1), o = n.cols - 1, e = o, a--);\n          return h + n.buffer.translateBufferLineToString(a, !1, e, o);\n        }\n        function h(e, t) {\n          const i = t ? \"O\" : \"[\";\n          return s.C0.ESC + i + e;\n        }\n        function c(e, t) {\n          e = Math.floor(e);\n          let i = \"\";\n          for (let s = 0; s < e; s++) i += t;\n          return i;\n        }\n        t.moveToCellSequence = function (e, t, i, s) {\n          const o = i.buffer.x,\n            l = i.buffer.y;\n          if (!i.buffer.hasScrollback) return function (e, t, i, s, o, l) {\n            return 0 === r(t, s, o, l).length ? \"\" : c(a(e, t, e, t - n(t, o), !1, o).length, h(\"D\", l));\n          }(o, l, 0, t, i, s) + r(l, t, i, s) + function (e, t, i, s, o, l) {\n            let d;\n            d = r(t, s, o, l).length > 0 ? s - n(s, o) : t;\n            const _ = s,\n              u = function (e, t, i, s, o, a) {\n                let h;\n                return h = r(i, s, o, a).length > 0 ? s - n(s, o) : t, e < i && h <= s || e >= i && h < s ? \"C\" : \"D\";\n              }(e, t, i, s, o, l);\n            return c(a(e, d, i, _, \"C\" === u, o).length, h(u, l));\n          }(o, l, e, t, i, s);\n          let d;\n          if (l === t) return d = o > e ? \"D\" : \"C\", c(Math.abs(o - e), h(d, s));\n          d = l > t ? \"D\" : \"C\";\n          const _ = Math.abs(l - t);\n          return c(function (e, t) {\n            return t.cols - e;\n          }(l > t ? e : o, i) + (_ - 1) * i.cols + 1 + ((l > t ? o : e) - 1), h(d, s));\n        };\n      },\n      1296: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.DomRenderer = void 0;\n        const n = i(3787),\n          o = i(2223),\n          a = i(6171),\n          h = i(4725),\n          c = i(8055),\n          l = i(8460),\n          d = i(844),\n          _ = i(2585),\n          u = \"xterm-dom-renderer-owner-\",\n          f = \"xterm-focus\";\n        let v = 1,\n          g = class extends d.Disposable {\n            constructor(e, t, i, s, r, o, h, c, _, f) {\n              super(), this._element = e, this._screenElement = t, this._viewportElement = i, this._linkifier2 = s, this._charSizeService = o, this._optionsService = h, this._bufferService = c, this._coreBrowserService = _, this._themeService = f, this._terminalClass = v++, this._rowElements = [], this._cellToRowElements = [], this.onRequestRedraw = this.register(new l.EventEmitter()).event, this._rowContainer = document.createElement(\"div\"), this._rowContainer.classList.add(\"xterm-rows\"), this._rowContainer.style.lineHeight = \"normal\", this._rowContainer.setAttribute(\"aria-hidden\", \"true\"), this._refreshRowElements(this._bufferService.cols, this._bufferService.rows), this._selectionContainer = document.createElement(\"div\"), this._selectionContainer.classList.add(\"xterm-selection\"), this._selectionContainer.setAttribute(\"aria-hidden\", \"true\"), this.dimensions = (0, a.createRenderDimensions)(), this._updateDimensions(), this.register(this._optionsService.onOptionChange(() => this._handleOptionsChanged())), this.register(this._themeService.onChangeColors(e => this._injectCss(e))), this._injectCss(this._themeService.colors), this._rowFactory = r.createInstance(n.DomRendererRowFactory, document), this._element.classList.add(u + this._terminalClass), this._screenElement.appendChild(this._rowContainer), this._screenElement.appendChild(this._selectionContainer), this.register(this._linkifier2.onShowLinkUnderline(e => this._handleLinkHover(e))), this.register(this._linkifier2.onHideLinkUnderline(e => this._handleLinkLeave(e))), this.register((0, d.toDisposable)(() => {\n                this._element.classList.remove(u + this._terminalClass), this._rowContainer.remove(), this._selectionContainer.remove(), this._themeStyleElement.remove(), this._dimensionsStyleElement.remove();\n              }));\n            }\n            _updateDimensions() {\n              const e = this._coreBrowserService.dpr;\n              this.dimensions.device.char.width = this._charSizeService.width * e, this.dimensions.device.char.height = Math.ceil(this._charSizeService.height * e), this.dimensions.device.cell.width = this.dimensions.device.char.width + Math.round(this._optionsService.rawOptions.letterSpacing), this.dimensions.device.cell.height = Math.floor(this.dimensions.device.char.height * this._optionsService.rawOptions.lineHeight), this.dimensions.device.char.left = 0, this.dimensions.device.char.top = 0, this.dimensions.device.canvas.width = this.dimensions.device.cell.width * this._bufferService.cols, this.dimensions.device.canvas.height = this.dimensions.device.cell.height * this._bufferService.rows, this.dimensions.css.canvas.width = Math.round(this.dimensions.device.canvas.width / e), this.dimensions.css.canvas.height = Math.round(this.dimensions.device.canvas.height / e), this.dimensions.css.cell.width = this.dimensions.css.canvas.width / this._bufferService.cols, this.dimensions.css.cell.height = this.dimensions.css.canvas.height / this._bufferService.rows;\n              for (const e of this._rowElements) e.style.width = \"\".concat(this.dimensions.css.canvas.width, \"px\"), e.style.height = \"\".concat(this.dimensions.css.cell.height, \"px\"), e.style.lineHeight = \"\".concat(this.dimensions.css.cell.height, \"px\"), e.style.overflow = \"hidden\";\n              this._dimensionsStyleElement || (this._dimensionsStyleElement = document.createElement(\"style\"), this._screenElement.appendChild(this._dimensionsStyleElement));\n              const t = \"\".concat(this._terminalSelector, \" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: \").concat(this.dimensions.css.cell.width, \"px}\");\n              this._dimensionsStyleElement.textContent = t, this._selectionContainer.style.height = this._viewportElement.style.height, this._screenElement.style.width = \"\".concat(this.dimensions.css.canvas.width, \"px\"), this._screenElement.style.height = \"\".concat(this.dimensions.css.canvas.height, \"px\");\n            }\n            _injectCss(e) {\n              this._themeStyleElement || (this._themeStyleElement = document.createElement(\"style\"), this._screenElement.appendChild(this._themeStyleElement));\n              let t = \"\".concat(this._terminalSelector, \" .xterm-rows { color: \").concat(e.foreground.css, \"; font-family: \").concat(this._optionsService.rawOptions.fontFamily, \"; font-size: \").concat(this._optionsService.rawOptions.fontSize, \"px;}\");\n              t += \"\".concat(this._terminalSelector, \" .xterm-rows .xterm-dim { color: \").concat(c.color.multiplyOpacity(e.foreground, .5).css, \";}\"), t += \"\".concat(this._terminalSelector, \" span:not(.\").concat(n.BOLD_CLASS, \") { font-weight: \").concat(this._optionsService.rawOptions.fontWeight, \";}\").concat(this._terminalSelector, \" span.\").concat(n.BOLD_CLASS, \" { font-weight: \").concat(this._optionsService.rawOptions.fontWeightBold, \";}\").concat(this._terminalSelector, \" span.\").concat(n.ITALIC_CLASS, \" { font-style: italic;}\"), t += \"@keyframes blink_box_shadow_\" + this._terminalClass + \" { 50% {  box-shadow: none; }}\", t += \"@keyframes blink_block_\" + this._terminalClass + \" { 0% {\" + \"  background-color: \".concat(e.cursor.css, \";\") + \"  color: \".concat(e.cursorAccent.css, \"; } 50% {\") + \"  background-color: \".concat(e.cursorAccent.css, \";\") + \"  color: \".concat(e.cursor.css, \"; }}\"), t += \"\".concat(this._terminalSelector, \" .xterm-rows:not(.xterm-focus) .\").concat(n.CURSOR_CLASS, \".\").concat(n.CURSOR_STYLE_BLOCK_CLASS, \" ,\").concat(this._terminalSelector, \" .xterm-rows:not(.xterm-focus) .\").concat(n.CURSOR_CLASS, \".\").concat(n.CURSOR_STYLE_BAR_CLASS, \" ,\").concat(this._terminalSelector, \" .xterm-rows:not(.xterm-focus) .\").concat(n.CURSOR_CLASS, \".\").concat(n.CURSOR_STYLE_UNDERLINE_CLASS, \" { outline: 1px solid \").concat(e.cursor.css, \"; outline-offset: -1px;}\").concat(this._terminalSelector, \" .xterm-rows.xterm-focus .\").concat(n.CURSOR_CLASS, \".\").concat(n.CURSOR_BLINK_CLASS, \":not(.\").concat(n.CURSOR_STYLE_BLOCK_CLASS, \") { animation: blink_box_shadow_\") + this._terminalClass + \" 1s step-end infinite;}\" + \"\".concat(this._terminalSelector, \" .xterm-rows.xterm-focus .\").concat(n.CURSOR_CLASS, \".\").concat(n.CURSOR_BLINK_CLASS, \".\").concat(n.CURSOR_STYLE_BLOCK_CLASS, \" { animation: blink_block_\") + this._terminalClass + \" 1s step-end infinite;}\" + \"\".concat(this._terminalSelector, \" .xterm-rows.xterm-focus .\").concat(n.CURSOR_CLASS, \".\").concat(n.CURSOR_STYLE_BLOCK_CLASS, \" {\") + \" background-color: \".concat(e.cursor.css, \";\") + \" color: \".concat(e.cursorAccent.css, \";}\") + \"\".concat(this._terminalSelector, \" .xterm-rows .\").concat(n.CURSOR_CLASS, \".\").concat(n.CURSOR_STYLE_BAR_CLASS, \" {\") + \" box-shadow: \".concat(this._optionsService.rawOptions.cursorWidth, \"px 0 0 \").concat(e.cursor.css, \" inset;}\") + \"\".concat(this._terminalSelector, \" .xterm-rows .\").concat(n.CURSOR_CLASS, \".\").concat(n.CURSOR_STYLE_UNDERLINE_CLASS, \" {\") + \" box-shadow: 0 -1px 0 \".concat(e.cursor.css, \" inset;}\"), t += \"\".concat(this._terminalSelector, \" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}\").concat(this._terminalSelector, \".focus .xterm-selection div { position: absolute; background-color: \").concat(e.selectionBackgroundOpaque.css, \";}\").concat(this._terminalSelector, \" .xterm-selection div { position: absolute; background-color: \").concat(e.selectionInactiveBackgroundOpaque.css, \";}\");\n              for (const [i, s] of e.ansi.entries()) t += \"\".concat(this._terminalSelector, \" .xterm-fg-\").concat(i, \" { color: \").concat(s.css, \"; }\").concat(this._terminalSelector, \" .xterm-fg-\").concat(i, \".\").concat(n.DIM_CLASS, \" { color: \").concat(c.color.multiplyOpacity(s, .5).css, \"; }\").concat(this._terminalSelector, \" .xterm-bg-\").concat(i, \" { background-color: \").concat(s.css, \"; }\");\n              t += \"\".concat(this._terminalSelector, \" .xterm-fg-\").concat(o.INVERTED_DEFAULT_COLOR, \" { color: \").concat(c.color.opaque(e.background).css, \"; }\").concat(this._terminalSelector, \" .xterm-fg-\").concat(o.INVERTED_DEFAULT_COLOR, \".\").concat(n.DIM_CLASS, \" { color: \").concat(c.color.multiplyOpacity(c.color.opaque(e.background), .5).css, \"; }\").concat(this._terminalSelector, \" .xterm-bg-\").concat(o.INVERTED_DEFAULT_COLOR, \" { background-color: \").concat(e.foreground.css, \"; }\"), this._themeStyleElement.textContent = t;\n            }\n            handleDevicePixelRatioChange() {\n              this._updateDimensions();\n            }\n            _refreshRowElements(e, t) {\n              for (let e = this._rowElements.length; e <= t; e++) {\n                const e = document.createElement(\"div\");\n                this._rowContainer.appendChild(e), this._rowElements.push(e);\n              }\n              for (; this._rowElements.length > t;) this._rowContainer.removeChild(this._rowElements.pop());\n            }\n            handleResize(e, t) {\n              this._refreshRowElements(e, t), this._updateDimensions();\n            }\n            handleCharSizeChanged() {\n              this._updateDimensions();\n            }\n            handleBlur() {\n              this._rowContainer.classList.remove(f);\n            }\n            handleFocus() {\n              this._rowContainer.classList.add(f);\n            }\n            handleSelectionChanged(e, t, i) {\n              for (; this._selectionContainer.children.length;) this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n              if (this._rowFactory.handleSelectionChanged(e, t, i), this.renderRows(0, this._bufferService.rows - 1), !e || !t) return;\n              const s = e[1] - this._bufferService.buffer.ydisp,\n                r = t[1] - this._bufferService.buffer.ydisp,\n                n = Math.max(s, 0),\n                o = Math.min(r, this._bufferService.rows - 1);\n              if (n >= this._bufferService.rows || o < 0) return;\n              const a = document.createDocumentFragment();\n              if (i) {\n                const i = e[0] > t[0];\n                a.appendChild(this._createSelectionElement(n, i ? t[0] : e[0], i ? e[0] : t[0], o - n + 1));\n              } else {\n                const i = s === n ? e[0] : 0,\n                  h = n === r ? t[0] : this._bufferService.cols;\n                a.appendChild(this._createSelectionElement(n, i, h));\n                const c = o - n - 1;\n                if (a.appendChild(this._createSelectionElement(n + 1, 0, this._bufferService.cols, c)), n !== o) {\n                  const e = r === o ? t[0] : this._bufferService.cols;\n                  a.appendChild(this._createSelectionElement(o, 0, e));\n                }\n              }\n              this._selectionContainer.appendChild(a);\n            }\n            _createSelectionElement(e, t, i) {\n              let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n              const r = document.createElement(\"div\");\n              return r.style.height = s * this.dimensions.css.cell.height + \"px\", r.style.top = e * this.dimensions.css.cell.height + \"px\", r.style.left = t * this.dimensions.css.cell.width + \"px\", r.style.width = this.dimensions.css.cell.width * (i - t) + \"px\", r;\n            }\n            handleCursorMove() {}\n            _handleOptionsChanged() {\n              this._updateDimensions(), this._injectCss(this._themeService.colors);\n            }\n            clear() {\n              for (const e of this._rowElements) e.replaceChildren();\n            }\n            renderRows(e, t) {\n              const i = this._bufferService.buffer.ybase + this._bufferService.buffer.y,\n                s = Math.min(this._bufferService.buffer.x, this._bufferService.cols - 1),\n                r = this._optionsService.rawOptions.cursorBlink;\n              for (let n = e; n <= t; n++) {\n                const e = this._rowElements[n],\n                  t = n + this._bufferService.buffer.ydisp,\n                  o = this._bufferService.buffer.lines.get(t),\n                  a = this._optionsService.rawOptions.cursorStyle;\n                this._cellToRowElements[n] && this._cellToRowElements[n].length === this._bufferService.cols || (this._cellToRowElements[n] = new Int16Array(this._bufferService.cols)), e.replaceChildren(this._rowFactory.createRow(o, t, t === i, a, s, r, this.dimensions.css.cell.width, this._bufferService.cols, this._cellToRowElements[n]));\n              }\n            }\n            get _terminalSelector() {\n              return \".\".concat(u).concat(this._terminalClass);\n            }\n            _handleLinkHover(e) {\n              this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, !0);\n            }\n            _handleLinkLeave(e) {\n              this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, !1);\n            }\n            _setCellUnderline(e, t, i, s, r, n) {\n              i < 0 && (e = 0), s < 0 && (t = 0);\n              const o = this._cellToRowElements.length - 1;\n              i = Math.max(Math.min(i, o), 0), s = Math.max(Math.min(s, o), 0);\n              const a = this._cellToRowElements[i],\n                h = this._cellToRowElements[s];\n              if (!(e >= a.length || t >= h.length) && (e = a[e], t = h[t], -1 !== e && -1 !== t)) for (; e !== t || i !== s;) {\n                const t = this._rowElements[i];\n                if (!t) return;\n                const s = t.children[e];\n                s && (s.style.textDecoration = n ? \"underline\" : \"none\"), ++e >= r && (e = 0, i++);\n              }\n            }\n          };\n        g = s([r(4, _.IInstantiationService), r(5, h.ICharSizeService), r(6, _.IOptionsService), r(7, _.IBufferService), r(8, h.ICoreBrowserService), r(9, h.IThemeService)], g), t.DomRenderer = g;\n      },\n      3787: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.DomRendererRowFactory = t.CURSOR_STYLE_UNDERLINE_CLASS = t.CURSOR_STYLE_BAR_CLASS = t.CURSOR_STYLE_BLOCK_CLASS = t.CURSOR_BLINK_CLASS = t.CURSOR_CLASS = t.STRIKETHROUGH_CLASS = t.OVERLINE_CLASS = t.UNDERLINE_CLASS = t.ITALIC_CLASS = t.DIM_CLASS = t.BOLD_CLASS = void 0;\n        const n = i(2223),\n          o = i(643),\n          a = i(511),\n          h = i(2585),\n          c = i(8055),\n          l = i(4725),\n          d = i(4269),\n          _ = i(6171),\n          u = i(3734);\n        t.BOLD_CLASS = \"xterm-bold\", t.DIM_CLASS = \"xterm-dim\", t.ITALIC_CLASS = \"xterm-italic\", t.UNDERLINE_CLASS = \"xterm-underline\", t.OVERLINE_CLASS = \"xterm-overline\", t.STRIKETHROUGH_CLASS = \"xterm-strikethrough\", t.CURSOR_CLASS = \"xterm-cursor\", t.CURSOR_BLINK_CLASS = \"xterm-cursor-blink\", t.CURSOR_STYLE_BLOCK_CLASS = \"xterm-cursor-block\", t.CURSOR_STYLE_BAR_CLASS = \"xterm-cursor-bar\", t.CURSOR_STYLE_UNDERLINE_CLASS = \"xterm-cursor-underline\";\n        let f = class {\n          constructor(e, t, i, s, r, n, o) {\n            this._document = e, this._characterJoinerService = t, this._optionsService = i, this._coreBrowserService = s, this._coreService = r, this._decorationService = n, this._themeService = o, this._workCell = new a.CellData(), this._columnSelectMode = !1;\n          }\n          handleSelectionChanged(e, t, i) {\n            this._selectionStart = e, this._selectionEnd = t, this._columnSelectMode = i;\n          }\n          createRow(e, i, s, r, a, h, l, _, f) {\n            const g = this._document.createDocumentFragment(),\n              p = this._characterJoinerService.getJoinedCharacters(i);\n            let S = 0;\n            for (let t = Math.min(e.length, _) - 1; t >= 0; t--) if (e.loadCell(t, this._workCell).getCode() !== o.NULL_CELL_CODE || s && t === a) {\n              S = t + 1;\n              break;\n            }\n            const m = this._themeService.colors;\n            let C = -1,\n              b = 0;\n            for (; b < S; b++) {\n              e.loadCell(b, this._workCell);\n              let _ = this._workCell.getWidth();\n              if (0 === _) {\n                f[b] = C;\n                continue;\n              }\n              let S = !1,\n                y = b,\n                w = this._workCell;\n              if (p.length > 0 && b === p[0][0]) {\n                S = !0;\n                const t = p.shift();\n                w = new d.JoinedCellData(this._workCell, e.translateToString(!0, t[0], t[1]), t[1] - t[0]), y = t[1] - 1, _ = w.getWidth();\n              }\n              const E = this._document.createElement(\"span\");\n              if (_ > 1 && (E.style.width = l * _ + \"px\"), S && (E.style.display = \"inline\", a >= b && a <= y && (a = b)), !this._coreService.isCursorHidden && s && b === a) switch (E.classList.add(t.CURSOR_CLASS), h && E.classList.add(t.CURSOR_BLINK_CLASS), r) {\n                case \"bar\":\n                  E.classList.add(t.CURSOR_STYLE_BAR_CLASS);\n                  break;\n                case \"underline\":\n                  E.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);\n                  break;\n                default:\n                  E.classList.add(t.CURSOR_STYLE_BLOCK_CLASS);\n              }\n              if (w.isBold() && E.classList.add(t.BOLD_CLASS), w.isItalic() && E.classList.add(t.ITALIC_CLASS), w.isDim() && E.classList.add(t.DIM_CLASS), w.isInvisible() ? E.textContent = o.WHITESPACE_CELL_CHAR : E.textContent = w.getChars() || o.WHITESPACE_CELL_CHAR, w.isUnderline() && (E.classList.add(\"\".concat(t.UNDERLINE_CLASS, \"-\").concat(w.extended.underlineStyle)), \" \" === E.textContent && (E.textContent = \" \"), !w.isUnderlineColorDefault())) if (w.isUnderlineColorRGB()) E.style.textDecorationColor = \"rgb(\".concat(u.AttributeData.toColorRGB(w.getUnderlineColor()).join(\",\"), \")\");else {\n                let e = w.getUnderlineColor();\n                this._optionsService.rawOptions.drawBoldTextInBrightColors && w.isBold() && e < 8 && (e += 8), E.style.textDecorationColor = m.ansi[e].css;\n              }\n              w.isOverline() && (E.classList.add(t.OVERLINE_CLASS), \" \" === E.textContent && (E.textContent = \" \")), w.isStrikethrough() && E.classList.add(t.STRIKETHROUGH_CLASS);\n              let L = w.getFgColor(),\n                k = w.getFgColorMode(),\n                R = w.getBgColor(),\n                D = w.getBgColorMode();\n              const A = !!w.isInverse();\n              if (A) {\n                const e = L;\n                L = R, R = e;\n                const t = k;\n                k = D, D = t;\n              }\n              let x,\n                B,\n                T = !1;\n              this._decorationService.forEachDecorationAtCell(b, i, void 0, e => {\n                \"top\" !== e.options.layer && T || (e.backgroundColorRGB && (D = 50331648, R = e.backgroundColorRGB.rgba >> 8 & 16777215, x = e.backgroundColorRGB), e.foregroundColorRGB && (k = 50331648, L = e.foregroundColorRGB.rgba >> 8 & 16777215, B = e.foregroundColorRGB), T = \"top\" === e.options.layer);\n              });\n              const M = this._isCellInSelection(b, i);\n              let O;\n              switch (T || m.selectionForeground && M && (k = 50331648, L = m.selectionForeground.rgba >> 8 & 16777215, B = m.selectionForeground), M && (x = this._coreBrowserService.isFocused ? m.selectionBackgroundOpaque : m.selectionInactiveBackgroundOpaque, T = !0), T && E.classList.add(\"xterm-decoration-top\"), D) {\n                case 16777216:\n                case 33554432:\n                  O = m.ansi[R], E.classList.add(\"xterm-bg-\".concat(R));\n                  break;\n                case 50331648:\n                  O = c.rgba.toColor(R >> 16, R >> 8 & 255, 255 & R), this._addStyle(E, \"background-color:#\".concat(v((R >>> 0).toString(16), \"0\", 6)));\n                  break;\n                default:\n                  A ? (O = m.foreground, E.classList.add(\"xterm-bg-\".concat(n.INVERTED_DEFAULT_COLOR))) : O = m.background;\n              }\n              switch (x || w.isDim() && (x = c.color.multiplyOpacity(O, .5)), k) {\n                case 16777216:\n                case 33554432:\n                  w.isBold() && L < 8 && this._optionsService.rawOptions.drawBoldTextInBrightColors && (L += 8), this._applyMinimumContrast(E, O, m.ansi[L], w, x, void 0) || E.classList.add(\"xterm-fg-\".concat(L));\n                  break;\n                case 50331648:\n                  const e = c.rgba.toColor(L >> 16 & 255, L >> 8 & 255, 255 & L);\n                  this._applyMinimumContrast(E, O, e, w, x, B) || this._addStyle(E, \"color:#\".concat(v(L.toString(16), \"0\", 6)));\n                  break;\n                default:\n                  this._applyMinimumContrast(E, O, m.foreground, w, x, void 0) || A && E.classList.add(\"xterm-fg-\".concat(n.INVERTED_DEFAULT_COLOR));\n              }\n              g.appendChild(E), f[b] = ++C, b = y;\n            }\n            return b < _ - 1 && f.subarray(b).fill(++C), g;\n          }\n          _applyMinimumContrast(e, t, i, s, r, n) {\n            if (1 === this._optionsService.rawOptions.minimumContrastRatio || (0, _.excludeFromContrastRatioDemands)(s.getCode())) return !1;\n            let o;\n            return r || n || (o = this._themeService.colors.contrastCache.getColor(t.rgba, i.rgba)), void 0 === o && (o = c.color.ensureContrastRatio(r || t, n || i, this._optionsService.rawOptions.minimumContrastRatio), this._themeService.colors.contrastCache.setColor((r || t).rgba, (n || i).rgba, null != o ? o : null)), !!o && (this._addStyle(e, \"color:\".concat(o.css)), !0);\n          }\n          _addStyle(e, t) {\n            e.setAttribute(\"style\", \"\".concat(e.getAttribute(\"style\") || \"\").concat(t, \";\"));\n          }\n          _isCellInSelection(e, t) {\n            const i = this._selectionStart,\n              s = this._selectionEnd;\n            return !(!i || !s) && (this._columnSelectMode ? i[0] <= s[0] ? e >= i[0] && t >= i[1] && e < s[0] && t <= s[1] : e < i[0] && t >= i[1] && e >= s[0] && t <= s[1] : t > i[1] && t < s[1] || i[1] === s[1] && t === i[1] && e >= i[0] && e < s[0] || i[1] < s[1] && t === s[1] && e < s[0] || i[1] < s[1] && t === i[1] && e >= i[0]);\n          }\n        };\n        function v(e, t, i) {\n          for (; e.length < i;) e = t + e;\n          return e;\n        }\n        f = s([r(1, l.ICharacterJoinerService), r(2, h.IOptionsService), r(3, l.ICoreBrowserService), r(4, h.ICoreService), r(5, h.IDecorationService), r(6, l.IThemeService)], f), t.DomRendererRowFactory = f;\n      },\n      2223: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.TEXT_BASELINE = t.DIM_OPACITY = t.INVERTED_DEFAULT_COLOR = void 0;\n        const s = i(6114);\n        t.INVERTED_DEFAULT_COLOR = 257, t.DIM_OPACITY = .5, t.TEXT_BASELINE = s.isFirefox || s.isLegacyEdge ? \"bottom\" : \"ideographic\";\n      },\n      6171: (e, t) => {\n        function i(e) {\n          return 57508 <= e && e <= 57558;\n        }\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.createRenderDimensions = t.excludeFromContrastRatioDemands = t.isRestrictedPowerlineGlyph = t.isPowerlineGlyph = t.throwIfFalsy = void 0, t.throwIfFalsy = function (e) {\n          if (!e) throw new Error(\"value must not be falsy\");\n          return e;\n        }, t.isPowerlineGlyph = i, t.isRestrictedPowerlineGlyph = function (e) {\n          return 57520 <= e && e <= 57527;\n        }, t.excludeFromContrastRatioDemands = function (e) {\n          return i(e) || function (e) {\n            return 9472 <= e && e <= 9631;\n          }(e);\n        }, t.createRenderDimensions = function () {\n          return {\n            css: {\n              canvas: {\n                width: 0,\n                height: 0\n              },\n              cell: {\n                width: 0,\n                height: 0\n              }\n            },\n            device: {\n              canvas: {\n                width: 0,\n                height: 0\n              },\n              cell: {\n                width: 0,\n                height: 0\n              },\n              char: {\n                width: 0,\n                height: 0,\n                left: 0,\n                top: 0\n              }\n            }\n          };\n        };\n      },\n      456: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.SelectionModel = void 0, t.SelectionModel = class {\n          constructor(e) {\n            this._bufferService = e, this.isSelectAllActive = !1, this.selectionStartLength = 0;\n          }\n          clearSelection() {\n            this.selectionStart = void 0, this.selectionEnd = void 0, this.isSelectAllActive = !1, this.selectionStartLength = 0;\n          }\n          get finalSelectionStart() {\n            return this.isSelectAllActive ? [0, 0] : this.selectionEnd && this.selectionStart && this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n          }\n          get finalSelectionEnd() {\n            if (this.isSelectAllActive) return [this._bufferService.cols, this._bufferService.buffer.ybase + this._bufferService.rows - 1];\n            if (this.selectionStart) {\n              if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n                const e = this.selectionStart[0] + this.selectionStartLength;\n                return e > this._bufferService.cols ? e % this._bufferService.cols == 0 ? [this._bufferService.cols, this.selectionStart[1] + Math.floor(e / this._bufferService.cols) - 1] : [e % this._bufferService.cols, this.selectionStart[1] + Math.floor(e / this._bufferService.cols)] : [e, this.selectionStart[1]];\n              }\n              if (this.selectionStartLength && this.selectionEnd[1] === this.selectionStart[1]) {\n                const e = this.selectionStart[0] + this.selectionStartLength;\n                return e > this._bufferService.cols ? [e % this._bufferService.cols, this.selectionStart[1] + Math.floor(e / this._bufferService.cols)] : [Math.max(e, this.selectionEnd[0]), this.selectionEnd[1]];\n              }\n              return this.selectionEnd;\n            }\n          }\n          areSelectionValuesReversed() {\n            const e = this.selectionStart,\n              t = this.selectionEnd;\n            return !(!e || !t) && (e[1] > t[1] || e[1] === t[1] && e[0] > t[0]);\n          }\n          handleTrim(e) {\n            return this.selectionStart && (this.selectionStart[1] -= e), this.selectionEnd && (this.selectionEnd[1] -= e), this.selectionEnd && this.selectionEnd[1] < 0 ? (this.clearSelection(), !0) : (this.selectionStart && this.selectionStart[1] < 0 && (this.selectionStart[1] = 0), !1);\n          }\n        };\n      },\n      428: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CharSizeService = void 0;\n        const n = i(2585),\n          o = i(8460),\n          a = i(844);\n        let h = class extends a.Disposable {\n          constructor(e, t, i) {\n            super(), this._optionsService = i, this.width = 0, this.height = 0, this._onCharSizeChange = this.register(new o.EventEmitter()), this.onCharSizeChange = this._onCharSizeChange.event, this._measureStrategy = new c(e, t, this._optionsService), this.register(this._optionsService.onMultipleOptionChange([\"fontFamily\", \"fontSize\"], () => this.measure()));\n          }\n          get hasValidSize() {\n            return this.width > 0 && this.height > 0;\n          }\n          measure() {\n            const e = this._measureStrategy.measure();\n            e.width === this.width && e.height === this.height || (this.width = e.width, this.height = e.height, this._onCharSizeChange.fire());\n          }\n        };\n        h = s([r(2, n.IOptionsService)], h), t.CharSizeService = h;\n        class c {\n          constructor(e, t, i) {\n            this._document = e, this._parentElement = t, this._optionsService = i, this._result = {\n              width: 0,\n              height: 0\n            }, this._measureElement = this._document.createElement(\"span\"), this._measureElement.classList.add(\"xterm-char-measure-element\"), this._measureElement.textContent = \"W\", this._measureElement.setAttribute(\"aria-hidden\", \"true\"), this._parentElement.appendChild(this._measureElement);\n          }\n          measure() {\n            this._measureElement.style.fontFamily = this._optionsService.rawOptions.fontFamily, this._measureElement.style.fontSize = \"\".concat(this._optionsService.rawOptions.fontSize, \"px\");\n            const e = this._measureElement.getBoundingClientRect();\n            return 0 !== e.width && 0 !== e.height && (this._result.width = e.width, this._result.height = Math.ceil(e.height)), this._result;\n          }\n        }\n      },\n      4269: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CharacterJoinerService = t.JoinedCellData = void 0;\n        const n = i(3734),\n          o = i(643),\n          a = i(511),\n          h = i(2585);\n        class c extends n.AttributeData {\n          constructor(e, t, i) {\n            super(), this.content = 0, this.combinedData = \"\", this.fg = e.fg, this.bg = e.bg, this.combinedData = t, this._width = i;\n          }\n          isCombined() {\n            return 2097152;\n          }\n          getWidth() {\n            return this._width;\n          }\n          getChars() {\n            return this.combinedData;\n          }\n          getCode() {\n            return 2097151;\n          }\n          setFromCharData(e) {\n            throw new Error(\"not implemented\");\n          }\n          getAsCharData() {\n            return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n          }\n        }\n        t.JoinedCellData = c;\n        let l = class e {\n          constructor(e) {\n            this._bufferService = e, this._characterJoiners = [], this._nextCharacterJoinerId = 0, this._workCell = new a.CellData();\n          }\n          register(e) {\n            const t = {\n              id: this._nextCharacterJoinerId++,\n              handler: e\n            };\n            return this._characterJoiners.push(t), t.id;\n          }\n          deregister(e) {\n            for (let t = 0; t < this._characterJoiners.length; t++) if (this._characterJoiners[t].id === e) return this._characterJoiners.splice(t, 1), !0;\n            return !1;\n          }\n          getJoinedCharacters(e) {\n            if (0 === this._characterJoiners.length) return [];\n            const t = this._bufferService.buffer.lines.get(e);\n            if (!t || 0 === t.length) return [];\n            const i = [],\n              s = t.translateToString(!0);\n            let r = 0,\n              n = 0,\n              a = 0,\n              h = t.getFg(0),\n              c = t.getBg(0);\n            for (let e = 0; e < t.getTrimmedLength(); e++) if (t.loadCell(e, this._workCell), 0 !== this._workCell.getWidth()) {\n              if (this._workCell.fg !== h || this._workCell.bg !== c) {\n                if (e - r > 1) {\n                  const e = this._getJoinedRanges(s, a, n, t, r);\n                  for (let t = 0; t < e.length; t++) i.push(e[t]);\n                }\n                r = e, a = n, h = this._workCell.fg, c = this._workCell.bg;\n              }\n              n += this._workCell.getChars().length || o.WHITESPACE_CELL_CHAR.length;\n            }\n            if (this._bufferService.cols - r > 1) {\n              const e = this._getJoinedRanges(s, a, n, t, r);\n              for (let t = 0; t < e.length; t++) i.push(e[t]);\n            }\n            return i;\n          }\n          _getJoinedRanges(t, i, s, r, n) {\n            const o = t.substring(i, s);\n            let a = [];\n            try {\n              a = this._characterJoiners[0].handler(o);\n            } catch (e) {\n              console.error(e);\n            }\n            for (let t = 1; t < this._characterJoiners.length; t++) try {\n              const i = this._characterJoiners[t].handler(o);\n              for (let t = 0; t < i.length; t++) e._mergeRanges(a, i[t]);\n            } catch (e) {\n              console.error(e);\n            }\n            return this._stringRangesToCellRanges(a, r, n), a;\n          }\n          _stringRangesToCellRanges(e, t, i) {\n            let s = 0,\n              r = !1,\n              n = 0,\n              a = e[s];\n            if (a) {\n              for (let h = i; h < this._bufferService.cols; h++) {\n                const i = t.getWidth(h),\n                  c = t.getString(h).length || o.WHITESPACE_CELL_CHAR.length;\n                if (0 !== i) {\n                  if (!r && a[0] <= n && (a[0] = h, r = !0), a[1] <= n) {\n                    if (a[1] = h, a = e[++s], !a) break;\n                    a[0] <= n ? (a[0] = h, r = !0) : r = !1;\n                  }\n                  n += c;\n                }\n              }\n              a && (a[1] = this._bufferService.cols);\n            }\n          }\n          static _mergeRanges(e, t) {\n            let i = !1;\n            for (let s = 0; s < e.length; s++) {\n              const r = e[s];\n              if (i) {\n                if (t[1] <= r[0]) return e[s - 1][1] = t[1], e;\n                if (t[1] <= r[1]) return e[s - 1][1] = Math.max(t[1], r[1]), e.splice(s, 1), e;\n                e.splice(s, 1), s--;\n              } else {\n                if (t[1] <= r[0]) return e.splice(s, 0, t), e;\n                if (t[1] <= r[1]) return r[0] = Math.min(t[0], r[0]), e;\n                t[0] < r[1] && (r[0] = Math.min(t[0], r[0]), i = !0);\n              }\n            }\n            return i ? e[e.length - 1][1] = t[1] : e.push(t), e;\n          }\n        };\n        l = s([r(0, h.IBufferService)], l), t.CharacterJoinerService = l;\n      },\n      5114: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CoreBrowserService = void 0, t.CoreBrowserService = class {\n          constructor(e, t) {\n            this._textarea = e, this.window = t, this._isFocused = !1, this._cachedIsFocused = void 0, this._textarea.addEventListener(\"focus\", () => this._isFocused = !0), this._textarea.addEventListener(\"blur\", () => this._isFocused = !1);\n          }\n          get dpr() {\n            return this.window.devicePixelRatio;\n          }\n          get isFocused() {\n            return void 0 === this._cachedIsFocused && (this._cachedIsFocused = this._isFocused && this._textarea.ownerDocument.hasFocus(), queueMicrotask(() => this._cachedIsFocused = void 0)), this._cachedIsFocused;\n          }\n        };\n      },\n      8934: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.MouseService = void 0;\n        const n = i(4725),\n          o = i(9806);\n        let a = class {\n          constructor(e, t) {\n            this._renderService = e, this._charSizeService = t;\n          }\n          getCoords(e, t, i, s, r) {\n            return (0, o.getCoords)(window, e, t, i, s, this._charSizeService.hasValidSize, this._renderService.dimensions.css.cell.width, this._renderService.dimensions.css.cell.height, r);\n          }\n          getMouseReportCoords(e, t) {\n            const i = (0, o.getCoordsRelativeToElement)(window, e, t);\n            if (!(!this._charSizeService.hasValidSize || i[0] < 0 || i[1] < 0 || i[0] >= this._renderService.dimensions.css.canvas.width || i[1] >= this._renderService.dimensions.css.canvas.height)) return {\n              col: Math.floor(i[0] / this._renderService.dimensions.css.cell.width),\n              row: Math.floor(i[1] / this._renderService.dimensions.css.cell.height),\n              x: Math.floor(i[0]),\n              y: Math.floor(i[1])\n            };\n          }\n        };\n        a = s([r(0, n.IRenderService), r(1, n.ICharSizeService)], a), t.MouseService = a;\n      },\n      3230: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.RenderService = void 0;\n        const n = i(6193),\n          o = i(8460),\n          a = i(844),\n          h = i(5596),\n          c = i(3656),\n          l = i(2585),\n          d = i(4725),\n          _ = i(7226);\n        let u = class extends a.Disposable {\n          constructor(e, t, i, s, r, a, l, d) {\n            if (super(), this._rowCount = e, this._charSizeService = s, this._pausedResizeTask = new _.DebouncedIdleTask(), this._isPaused = !1, this._needsFullRefresh = !1, this._isNextRenderRedrawOnly = !0, this._needsSelectionRefresh = !1, this._canvasWidth = 0, this._canvasHeight = 0, this._selectionState = {\n              start: void 0,\n              end: void 0,\n              columnSelectMode: !1\n            }, this._onDimensionsChange = this.register(new o.EventEmitter()), this.onDimensionsChange = this._onDimensionsChange.event, this._onRenderedViewportChange = this.register(new o.EventEmitter()), this.onRenderedViewportChange = this._onRenderedViewportChange.event, this._onRender = this.register(new o.EventEmitter()), this.onRender = this._onRender.event, this._onRefreshRequest = this.register(new o.EventEmitter()), this.onRefreshRequest = this._onRefreshRequest.event, this.register({\n              dispose: () => {\n                var e;\n                return null === (e = this._renderer) || void 0 === e ? void 0 : e.dispose();\n              }\n            }), this._renderDebouncer = new n.RenderDebouncer(l.window, (e, t) => this._renderRows(e, t)), this.register(this._renderDebouncer), this._screenDprMonitor = new h.ScreenDprMonitor(l.window), this._screenDprMonitor.setListener(() => this.handleDevicePixelRatioChange()), this.register(this._screenDprMonitor), this.register(a.onResize(() => this._fullRefresh())), this.register(a.buffers.onBufferActivate(() => {\n              var e;\n              return null === (e = this._renderer) || void 0 === e ? void 0 : e.clear();\n            })), this.register(i.onOptionChange(() => this._handleOptionsChanged())), this.register(this._charSizeService.onCharSizeChange(() => this.handleCharSizeChanged())), this.register(r.onDecorationRegistered(() => this._fullRefresh())), this.register(r.onDecorationRemoved(() => this._fullRefresh())), this.register(i.onMultipleOptionChange([\"customGlyphs\", \"drawBoldTextInBrightColors\", \"letterSpacing\", \"lineHeight\", \"fontFamily\", \"fontSize\", \"fontWeight\", \"fontWeightBold\", \"minimumContrastRatio\"], () => {\n              this.clear(), this.handleResize(a.cols, a.rows), this._fullRefresh();\n            })), this.register(i.onMultipleOptionChange([\"cursorBlink\", \"cursorStyle\"], () => this.refreshRows(a.buffer.y, a.buffer.y, !0))), this.register((0, c.addDisposableDomListener)(l.window, \"resize\", () => this.handleDevicePixelRatioChange())), this.register(d.onChangeColors(() => this._fullRefresh())), \"IntersectionObserver\" in l.window) {\n              const e = new l.window.IntersectionObserver(e => this._handleIntersectionChange(e[e.length - 1]), {\n                threshold: 0\n              });\n              e.observe(t), this.register({\n                dispose: () => e.disconnect()\n              });\n            }\n          }\n          get dimensions() {\n            return this._renderer.dimensions;\n          }\n          _handleIntersectionChange(e) {\n            this._isPaused = void 0 === e.isIntersecting ? 0 === e.intersectionRatio : !e.isIntersecting, this._isPaused || this._charSizeService.hasValidSize || this._charSizeService.measure(), !this._isPaused && this._needsFullRefresh && (this._pausedResizeTask.flush(), this.refreshRows(0, this._rowCount - 1), this._needsFullRefresh = !1);\n          }\n          refreshRows(e, t) {\n            let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n            this._isPaused ? this._needsFullRefresh = !0 : (i || (this._isNextRenderRedrawOnly = !1), this._renderDebouncer.refresh(e, t, this._rowCount));\n          }\n          _renderRows(e, t) {\n            this._renderer && (e = Math.min(e, this._rowCount - 1), t = Math.min(t, this._rowCount - 1), this._renderer.renderRows(e, t), this._needsSelectionRefresh && (this._renderer.handleSelectionChanged(this._selectionState.start, this._selectionState.end, this._selectionState.columnSelectMode), this._needsSelectionRefresh = !1), this._isNextRenderRedrawOnly || this._onRenderedViewportChange.fire({\n              start: e,\n              end: t\n            }), this._onRender.fire({\n              start: e,\n              end: t\n            }), this._isNextRenderRedrawOnly = !0);\n          }\n          resize(e, t) {\n            this._rowCount = t, this._fireOnCanvasResize();\n          }\n          _handleOptionsChanged() {\n            this._renderer && (this.refreshRows(0, this._rowCount - 1), this._fireOnCanvasResize());\n          }\n          _fireOnCanvasResize() {\n            this._renderer && (this._renderer.dimensions.css.canvas.width === this._canvasWidth && this._renderer.dimensions.css.canvas.height === this._canvasHeight || this._onDimensionsChange.fire(this._renderer.dimensions));\n          }\n          hasRenderer() {\n            return !!this._renderer;\n          }\n          setRenderer(e) {\n            var t;\n            null === (t = this._renderer) || void 0 === t || t.dispose(), this._renderer = e, this._renderer.onRequestRedraw(e => this.refreshRows(e.start, e.end, !0)), this._needsSelectionRefresh = !0, this._fullRefresh();\n          }\n          addRefreshCallback(e) {\n            return this._renderDebouncer.addRefreshCallback(e);\n          }\n          _fullRefresh() {\n            this._isPaused ? this._needsFullRefresh = !0 : this.refreshRows(0, this._rowCount - 1);\n          }\n          clearTextureAtlas() {\n            var e, t;\n            this._renderer && (null === (t = (e = this._renderer).clearTextureAtlas) || void 0 === t || t.call(e), this._fullRefresh());\n          }\n          handleDevicePixelRatioChange() {\n            this._charSizeService.measure(), this._renderer && (this._renderer.handleDevicePixelRatioChange(), this.refreshRows(0, this._rowCount - 1));\n          }\n          handleResize(e, t) {\n            this._renderer && (this._isPaused ? this._pausedResizeTask.set(() => this._renderer.handleResize(e, t)) : this._renderer.handleResize(e, t), this._fullRefresh());\n          }\n          handleCharSizeChanged() {\n            var e;\n            null === (e = this._renderer) || void 0 === e || e.handleCharSizeChanged();\n          }\n          handleBlur() {\n            var e;\n            null === (e = this._renderer) || void 0 === e || e.handleBlur();\n          }\n          handleFocus() {\n            var e;\n            null === (e = this._renderer) || void 0 === e || e.handleFocus();\n          }\n          handleSelectionChanged(e, t, i) {\n            var s;\n            this._selectionState.start = e, this._selectionState.end = t, this._selectionState.columnSelectMode = i, null === (s = this._renderer) || void 0 === s || s.handleSelectionChanged(e, t, i);\n          }\n          handleCursorMove() {\n            var e;\n            null === (e = this._renderer) || void 0 === e || e.handleCursorMove();\n          }\n          clear() {\n            var e;\n            null === (e = this._renderer) || void 0 === e || e.clear();\n          }\n        };\n        u = s([r(2, l.IOptionsService), r(3, d.ICharSizeService), r(4, l.IDecorationService), r(5, l.IBufferService), r(6, d.ICoreBrowserService), r(7, d.IThemeService)], u), t.RenderService = u;\n      },\n      9312: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.SelectionService = void 0;\n        const n = i(6114),\n          o = i(456),\n          a = i(511),\n          h = i(8460),\n          c = i(4725),\n          l = i(2585),\n          d = i(9806),\n          _ = i(9504),\n          u = i(844),\n          f = i(4841),\n          v = String.fromCharCode(160),\n          g = new RegExp(v, \"g\");\n        let p = class extends u.Disposable {\n          constructor(e, t, i, s, r, n, c, l, d) {\n            super(), this._element = e, this._screenElement = t, this._linkifier = i, this._bufferService = s, this._coreService = r, this._mouseService = n, this._optionsService = c, this._renderService = l, this._coreBrowserService = d, this._dragScrollAmount = 0, this._enabled = !0, this._workCell = new a.CellData(), this._mouseDownTimeStamp = 0, this._oldHasSelection = !1, this._oldSelectionStart = void 0, this._oldSelectionEnd = void 0, this._onLinuxMouseSelection = this.register(new h.EventEmitter()), this.onLinuxMouseSelection = this._onLinuxMouseSelection.event, this._onRedrawRequest = this.register(new h.EventEmitter()), this.onRequestRedraw = this._onRedrawRequest.event, this._onSelectionChange = this.register(new h.EventEmitter()), this.onSelectionChange = this._onSelectionChange.event, this._onRequestScrollLines = this.register(new h.EventEmitter()), this.onRequestScrollLines = this._onRequestScrollLines.event, this._mouseMoveListener = e => this._handleMouseMove(e), this._mouseUpListener = e => this._handleMouseUp(e), this._coreService.onUserInput(() => {\n              this.hasSelection && this.clearSelection();\n            }), this._trimListener = this._bufferService.buffer.lines.onTrim(e => this._handleTrim(e)), this.register(this._bufferService.buffers.onBufferActivate(e => this._handleBufferActivate(e))), this.enable(), this._model = new o.SelectionModel(this._bufferService), this._activeSelectionMode = 0, this.register((0, u.toDisposable)(() => {\n              this._removeMouseDownListeners();\n            }));\n          }\n          reset() {\n            this.clearSelection();\n          }\n          disable() {\n            this.clearSelection(), this._enabled = !1;\n          }\n          enable() {\n            this._enabled = !0;\n          }\n          get selectionStart() {\n            return this._model.finalSelectionStart;\n          }\n          get selectionEnd() {\n            return this._model.finalSelectionEnd;\n          }\n          get hasSelection() {\n            const e = this._model.finalSelectionStart,\n              t = this._model.finalSelectionEnd;\n            return !(!e || !t || e[0] === t[0] && e[1] === t[1]);\n          }\n          get selectionText() {\n            const e = this._model.finalSelectionStart,\n              t = this._model.finalSelectionEnd;\n            if (!e || !t) return \"\";\n            const i = this._bufferService.buffer,\n              s = [];\n            if (3 === this._activeSelectionMode) {\n              if (e[0] === t[0]) return \"\";\n              const r = e[0] < t[0] ? e[0] : t[0],\n                n = e[0] < t[0] ? t[0] : e[0];\n              for (let o = e[1]; o <= t[1]; o++) {\n                const e = i.translateBufferLineToString(o, !0, r, n);\n                s.push(e);\n              }\n            } else {\n              const r = e[1] === t[1] ? t[0] : void 0;\n              s.push(i.translateBufferLineToString(e[1], !0, e[0], r));\n              for (let r = e[1] + 1; r <= t[1] - 1; r++) {\n                const e = i.lines.get(r),\n                  t = i.translateBufferLineToString(r, !0);\n                (null == e ? void 0 : e.isWrapped) ? s[s.length - 1] += t : s.push(t);\n              }\n              if (e[1] !== t[1]) {\n                const e = i.lines.get(t[1]),\n                  r = i.translateBufferLineToString(t[1], !0, 0, t[0]);\n                e && e.isWrapped ? s[s.length - 1] += r : s.push(r);\n              }\n            }\n            return s.map(e => e.replace(g, \" \")).join(n.isWindows ? \"\\r\\n\" : \"\\n\");\n          }\n          clearSelection() {\n            this._model.clearSelection(), this._removeMouseDownListeners(), this.refresh(), this._onSelectionChange.fire();\n          }\n          refresh(e) {\n            this._refreshAnimationFrame || (this._refreshAnimationFrame = this._coreBrowserService.window.requestAnimationFrame(() => this._refresh())), n.isLinux && e && this.selectionText.length && this._onLinuxMouseSelection.fire(this.selectionText);\n          }\n          _refresh() {\n            this._refreshAnimationFrame = void 0, this._onRedrawRequest.fire({\n              start: this._model.finalSelectionStart,\n              end: this._model.finalSelectionEnd,\n              columnSelectMode: 3 === this._activeSelectionMode\n            });\n          }\n          _isClickInSelection(e) {\n            const t = this._getMouseBufferCoords(e),\n              i = this._model.finalSelectionStart,\n              s = this._model.finalSelectionEnd;\n            return !!(i && s && t) && this._areCoordsInSelection(t, i, s);\n          }\n          isCellInSelection(e, t) {\n            const i = this._model.finalSelectionStart,\n              s = this._model.finalSelectionEnd;\n            return !(!i || !s) && this._areCoordsInSelection([e, t], i, s);\n          }\n          _areCoordsInSelection(e, t, i) {\n            return e[1] > t[1] && e[1] < i[1] || t[1] === i[1] && e[1] === t[1] && e[0] >= t[0] && e[0] < i[0] || t[1] < i[1] && e[1] === i[1] && e[0] < i[0] || t[1] < i[1] && e[1] === t[1] && e[0] >= t[0];\n          }\n          _selectWordAtCursor(e, t) {\n            var i, s;\n            const r = null === (s = null === (i = this._linkifier.currentLink) || void 0 === i ? void 0 : i.link) || void 0 === s ? void 0 : s.range;\n            if (r) return this._model.selectionStart = [r.start.x - 1, r.start.y - 1], this._model.selectionStartLength = (0, f.getRangeLength)(r, this._bufferService.cols), this._model.selectionEnd = void 0, !0;\n            const n = this._getMouseBufferCoords(e);\n            return !!n && (this._selectWordAt(n, t), this._model.selectionEnd = void 0, !0);\n          }\n          selectAll() {\n            this._model.isSelectAllActive = !0, this.refresh(), this._onSelectionChange.fire();\n          }\n          selectLines(e, t) {\n            this._model.clearSelection(), e = Math.max(e, 0), t = Math.min(t, this._bufferService.buffer.lines.length - 1), this._model.selectionStart = [0, e], this._model.selectionEnd = [this._bufferService.cols, t], this.refresh(), this._onSelectionChange.fire();\n          }\n          _handleTrim(e) {\n            this._model.handleTrim(e) && this.refresh();\n          }\n          _getMouseBufferCoords(e) {\n            const t = this._mouseService.getCoords(e, this._screenElement, this._bufferService.cols, this._bufferService.rows, !0);\n            if (t) return t[0]--, t[1]--, t[1] += this._bufferService.buffer.ydisp, t;\n          }\n          _getMouseEventScrollAmount(e) {\n            let t = (0, d.getCoordsRelativeToElement)(this._coreBrowserService.window, e, this._screenElement)[1];\n            const i = this._renderService.dimensions.css.canvas.height;\n            return t >= 0 && t <= i ? 0 : (t > i && (t -= i), t = Math.min(Math.max(t, -50), 50), t /= 50, t / Math.abs(t) + Math.round(14 * t));\n          }\n          shouldForceSelection(e) {\n            return n.isMac ? e.altKey && this._optionsService.rawOptions.macOptionClickForcesSelection : e.shiftKey;\n          }\n          handleMouseDown(e) {\n            if (this._mouseDownTimeStamp = e.timeStamp, (2 !== e.button || !this.hasSelection) && 0 === e.button) {\n              if (!this._enabled) {\n                if (!this.shouldForceSelection(e)) return;\n                e.stopPropagation();\n              }\n              e.preventDefault(), this._dragScrollAmount = 0, this._enabled && e.shiftKey ? this._handleIncrementalClick(e) : 1 === e.detail ? this._handleSingleClick(e) : 2 === e.detail ? this._handleDoubleClick(e) : 3 === e.detail && this._handleTripleClick(e), this._addMouseDownListeners(), this.refresh(!0);\n            }\n          }\n          _addMouseDownListeners() {\n            this._screenElement.ownerDocument && (this._screenElement.ownerDocument.addEventListener(\"mousemove\", this._mouseMoveListener), this._screenElement.ownerDocument.addEventListener(\"mouseup\", this._mouseUpListener)), this._dragScrollIntervalTimer = this._coreBrowserService.window.setInterval(() => this._dragScroll(), 50);\n          }\n          _removeMouseDownListeners() {\n            this._screenElement.ownerDocument && (this._screenElement.ownerDocument.removeEventListener(\"mousemove\", this._mouseMoveListener), this._screenElement.ownerDocument.removeEventListener(\"mouseup\", this._mouseUpListener)), this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer), this._dragScrollIntervalTimer = void 0;\n          }\n          _handleIncrementalClick(e) {\n            this._model.selectionStart && (this._model.selectionEnd = this._getMouseBufferCoords(e));\n          }\n          _handleSingleClick(e) {\n            if (this._model.selectionStartLength = 0, this._model.isSelectAllActive = !1, this._activeSelectionMode = this.shouldColumnSelect(e) ? 3 : 0, this._model.selectionStart = this._getMouseBufferCoords(e), !this._model.selectionStart) return;\n            this._model.selectionEnd = void 0;\n            const t = this._bufferService.buffer.lines.get(this._model.selectionStart[1]);\n            t && t.length !== this._model.selectionStart[0] && 0 === t.hasWidth(this._model.selectionStart[0]) && this._model.selectionStart[0]++;\n          }\n          _handleDoubleClick(e) {\n            this._selectWordAtCursor(e, !0) && (this._activeSelectionMode = 1);\n          }\n          _handleTripleClick(e) {\n            const t = this._getMouseBufferCoords(e);\n            t && (this._activeSelectionMode = 2, this._selectLineAt(t[1]));\n          }\n          shouldColumnSelect(e) {\n            return e.altKey && !(n.isMac && this._optionsService.rawOptions.macOptionClickForcesSelection);\n          }\n          _handleMouseMove(e) {\n            if (e.stopImmediatePropagation(), !this._model.selectionStart) return;\n            const t = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n            if (this._model.selectionEnd = this._getMouseBufferCoords(e), !this._model.selectionEnd) return void this.refresh(!0);\n            2 === this._activeSelectionMode ? this._model.selectionEnd[1] < this._model.selectionStart[1] ? this._model.selectionEnd[0] = 0 : this._model.selectionEnd[0] = this._bufferService.cols : 1 === this._activeSelectionMode && this._selectToWordAt(this._model.selectionEnd), this._dragScrollAmount = this._getMouseEventScrollAmount(e), 3 !== this._activeSelectionMode && (this._dragScrollAmount > 0 ? this._model.selectionEnd[0] = this._bufferService.cols : this._dragScrollAmount < 0 && (this._model.selectionEnd[0] = 0));\n            const i = this._bufferService.buffer;\n            if (this._model.selectionEnd[1] < i.lines.length) {\n              const e = i.lines.get(this._model.selectionEnd[1]);\n              e && 0 === e.hasWidth(this._model.selectionEnd[0]) && this._model.selectionEnd[0]++;\n            }\n            t && t[0] === this._model.selectionEnd[0] && t[1] === this._model.selectionEnd[1] || this.refresh(!0);\n          }\n          _dragScroll() {\n            if (this._model.selectionEnd && this._model.selectionStart && this._dragScrollAmount) {\n              this._onRequestScrollLines.fire({\n                amount: this._dragScrollAmount,\n                suppressScrollEvent: !1\n              });\n              const e = this._bufferService.buffer;\n              this._dragScrollAmount > 0 ? (3 !== this._activeSelectionMode && (this._model.selectionEnd[0] = this._bufferService.cols), this._model.selectionEnd[1] = Math.min(e.ydisp + this._bufferService.rows, e.lines.length - 1)) : (3 !== this._activeSelectionMode && (this._model.selectionEnd[0] = 0), this._model.selectionEnd[1] = e.ydisp), this.refresh();\n            }\n          }\n          _handleMouseUp(e) {\n            const t = e.timeStamp - this._mouseDownTimeStamp;\n            if (this._removeMouseDownListeners(), this.selectionText.length <= 1 && t < 500 && e.altKey && this._optionsService.rawOptions.altClickMovesCursor) {\n              if (this._bufferService.buffer.ybase === this._bufferService.buffer.ydisp) {\n                const t = this._mouseService.getCoords(e, this._element, this._bufferService.cols, this._bufferService.rows, !1);\n                if (t && void 0 !== t[0] && void 0 !== t[1]) {\n                  const e = (0, _.moveToCellSequence)(t[0] - 1, t[1] - 1, this._bufferService, this._coreService.decPrivateModes.applicationCursorKeys);\n                  this._coreService.triggerDataEvent(e, !0);\n                }\n              }\n            } else this._fireEventIfSelectionChanged();\n          }\n          _fireEventIfSelectionChanged() {\n            const e = this._model.finalSelectionStart,\n              t = this._model.finalSelectionEnd,\n              i = !(!e || !t || e[0] === t[0] && e[1] === t[1]);\n            i ? e && t && (this._oldSelectionStart && this._oldSelectionEnd && e[0] === this._oldSelectionStart[0] && e[1] === this._oldSelectionStart[1] && t[0] === this._oldSelectionEnd[0] && t[1] === this._oldSelectionEnd[1] || this._fireOnSelectionChange(e, t, i)) : this._oldHasSelection && this._fireOnSelectionChange(e, t, i);\n          }\n          _fireOnSelectionChange(e, t, i) {\n            this._oldSelectionStart = e, this._oldSelectionEnd = t, this._oldHasSelection = i, this._onSelectionChange.fire();\n          }\n          _handleBufferActivate(e) {\n            this.clearSelection(), this._trimListener.dispose(), this._trimListener = e.activeBuffer.lines.onTrim(e => this._handleTrim(e));\n          }\n          _convertViewportColToCharacterIndex(e, t) {\n            let i = t;\n            for (let s = 0; t >= s; s++) {\n              const r = e.loadCell(s, this._workCell).getChars().length;\n              0 === this._workCell.getWidth() ? i-- : r > 1 && t !== s && (i += r - 1);\n            }\n            return i;\n          }\n          setSelection(e, t, i) {\n            this._model.clearSelection(), this._removeMouseDownListeners(), this._model.selectionStart = [e, t], this._model.selectionStartLength = i, this.refresh(), this._fireEventIfSelectionChanged();\n          }\n          rightClickSelect(e) {\n            this._isClickInSelection(e) || (this._selectWordAtCursor(e, !1) && this.refresh(!0), this._fireEventIfSelectionChanged());\n          }\n          _getWordAt(e, t) {\n            let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n            let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !0;\n            if (e[0] >= this._bufferService.cols) return;\n            const r = this._bufferService.buffer,\n              n = r.lines.get(e[1]);\n            if (!n) return;\n            const o = r.translateBufferLineToString(e[1], !1);\n            let a = this._convertViewportColToCharacterIndex(n, e[0]),\n              h = a;\n            const c = e[0] - a;\n            let l = 0,\n              d = 0,\n              _ = 0,\n              u = 0;\n            if (\" \" === o.charAt(a)) {\n              for (; a > 0 && \" \" === o.charAt(a - 1);) a--;\n              for (; h < o.length && \" \" === o.charAt(h + 1);) h++;\n            } else {\n              let t = e[0],\n                i = e[0];\n              0 === n.getWidth(t) && (l++, t--), 2 === n.getWidth(i) && (d++, i++);\n              const s = n.getString(i).length;\n              for (s > 1 && (u += s - 1, h += s - 1); t > 0 && a > 0 && !this._isCharWordSeparator(n.loadCell(t - 1, this._workCell));) {\n                n.loadCell(t - 1, this._workCell);\n                const e = this._workCell.getChars().length;\n                0 === this._workCell.getWidth() ? (l++, t--) : e > 1 && (_ += e - 1, a -= e - 1), a--, t--;\n              }\n              for (; i < n.length && h + 1 < o.length && !this._isCharWordSeparator(n.loadCell(i + 1, this._workCell));) {\n                n.loadCell(i + 1, this._workCell);\n                const e = this._workCell.getChars().length;\n                2 === this._workCell.getWidth() ? (d++, i++) : e > 1 && (u += e - 1, h += e - 1), h++, i++;\n              }\n            }\n            h++;\n            let f = a + c - l + _,\n              v = Math.min(this._bufferService.cols, h - a + l + d - _ - u);\n            if (t || \"\" !== o.slice(a, h).trim()) {\n              if (i && 0 === f && 32 !== n.getCodePoint(0)) {\n                const t = r.lines.get(e[1] - 1);\n                if (t && n.isWrapped && 32 !== t.getCodePoint(this._bufferService.cols - 1)) {\n                  const t = this._getWordAt([this._bufferService.cols - 1, e[1] - 1], !1, !0, !1);\n                  if (t) {\n                    const e = this._bufferService.cols - t.start;\n                    f -= e, v += e;\n                  }\n                }\n              }\n              if (s && f + v === this._bufferService.cols && 32 !== n.getCodePoint(this._bufferService.cols - 1)) {\n                const t = r.lines.get(e[1] + 1);\n                if ((null == t ? void 0 : t.isWrapped) && 32 !== t.getCodePoint(0)) {\n                  const t = this._getWordAt([0, e[1] + 1], !1, !1, !0);\n                  t && (v += t.length);\n                }\n              }\n              return {\n                start: f,\n                length: v\n              };\n            }\n          }\n          _selectWordAt(e, t) {\n            const i = this._getWordAt(e, t);\n            if (i) {\n              for (; i.start < 0;) i.start += this._bufferService.cols, e[1]--;\n              this._model.selectionStart = [i.start, e[1]], this._model.selectionStartLength = i.length;\n            }\n          }\n          _selectToWordAt(e) {\n            const t = this._getWordAt(e, !0);\n            if (t) {\n              let i = e[1];\n              for (; t.start < 0;) t.start += this._bufferService.cols, i--;\n              if (!this._model.areSelectionValuesReversed()) for (; t.start + t.length > this._bufferService.cols;) t.length -= this._bufferService.cols, i++;\n              this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? t.start : t.start + t.length, i];\n            }\n          }\n          _isCharWordSeparator(e) {\n            return 0 !== e.getWidth() && this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars()) >= 0;\n          }\n          _selectLineAt(e) {\n            const t = this._bufferService.buffer.getWrappedRangeForLine(e),\n              i = {\n                start: {\n                  x: 0,\n                  y: t.first\n                },\n                end: {\n                  x: this._bufferService.cols - 1,\n                  y: t.last\n                }\n              };\n            this._model.selectionStart = [0, t.first], this._model.selectionEnd = void 0, this._model.selectionStartLength = (0, f.getRangeLength)(i, this._bufferService.cols);\n          }\n        };\n        p = s([r(3, l.IBufferService), r(4, l.ICoreService), r(5, c.IMouseService), r(6, l.IOptionsService), r(7, c.IRenderService), r(8, c.ICoreBrowserService)], p), t.SelectionService = p;\n      },\n      4725: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.IThemeService = t.ICharacterJoinerService = t.ISelectionService = t.IRenderService = t.IMouseService = t.ICoreBrowserService = t.ICharSizeService = void 0;\n        const s = i(8343);\n        t.ICharSizeService = (0, s.createDecorator)(\"CharSizeService\"), t.ICoreBrowserService = (0, s.createDecorator)(\"CoreBrowserService\"), t.IMouseService = (0, s.createDecorator)(\"MouseService\"), t.IRenderService = (0, s.createDecorator)(\"RenderService\"), t.ISelectionService = (0, s.createDecorator)(\"SelectionService\"), t.ICharacterJoinerService = (0, s.createDecorator)(\"CharacterJoinerService\"), t.IThemeService = (0, s.createDecorator)(\"ThemeService\");\n      },\n      6731: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ThemeService = t.DEFAULT_ANSI_COLORS = void 0;\n        const n = i(7239),\n          o = i(8055),\n          a = i(8460),\n          h = i(844),\n          c = i(2585),\n          l = o.css.toColor(\"#ffffff\"),\n          d = o.css.toColor(\"#000000\"),\n          _ = o.css.toColor(\"#ffffff\"),\n          u = o.css.toColor(\"#000000\"),\n          f = {\n            css: \"rgba(255, 255, 255, 0.3)\",\n            rgba: 4294967117\n          };\n        t.DEFAULT_ANSI_COLORS = Object.freeze((() => {\n          const e = [o.css.toColor(\"#2e3436\"), o.css.toColor(\"#cc0000\"), o.css.toColor(\"#4e9a06\"), o.css.toColor(\"#c4a000\"), o.css.toColor(\"#3465a4\"), o.css.toColor(\"#75507b\"), o.css.toColor(\"#06989a\"), o.css.toColor(\"#d3d7cf\"), o.css.toColor(\"#555753\"), o.css.toColor(\"#ef2929\"), o.css.toColor(\"#8ae234\"), o.css.toColor(\"#fce94f\"), o.css.toColor(\"#729fcf\"), o.css.toColor(\"#ad7fa8\"), o.css.toColor(\"#34e2e2\"), o.css.toColor(\"#eeeeec\")],\n            t = [0, 95, 135, 175, 215, 255];\n          for (let i = 0; i < 216; i++) {\n            const s = t[i / 36 % 6 | 0],\n              r = t[i / 6 % 6 | 0],\n              n = t[i % 6];\n            e.push({\n              css: o.channels.toCss(s, r, n),\n              rgba: o.channels.toRgba(s, r, n)\n            });\n          }\n          for (let t = 0; t < 24; t++) {\n            const i = 8 + 10 * t;\n            e.push({\n              css: o.channels.toCss(i, i, i),\n              rgba: o.channels.toRgba(i, i, i)\n            });\n          }\n          return e;\n        })());\n        let v = class extends h.Disposable {\n          constructor(e) {\n            super(), this._optionsService = e, this._onChangeColors = this.register(new a.EventEmitter()), this.onChangeColors = this._onChangeColors.event, this._contrastCache = new n.ColorContrastCache(), this._colors = {\n              foreground: l,\n              background: d,\n              cursor: _,\n              cursorAccent: u,\n              selectionForeground: void 0,\n              selectionBackgroundTransparent: f,\n              selectionBackgroundOpaque: o.color.blend(d, f),\n              selectionInactiveBackgroundTransparent: f,\n              selectionInactiveBackgroundOpaque: o.color.blend(d, f),\n              ansi: t.DEFAULT_ANSI_COLORS.slice(),\n              contrastCache: this._contrastCache\n            }, this._updateRestoreColors(), this._setTheme(this._optionsService.rawOptions.theme), this.register(this._optionsService.onSpecificOptionChange(\"minimumContrastRatio\", () => this._contrastCache.clear())), this.register(this._optionsService.onSpecificOptionChange(\"theme\", () => this._setTheme(this._optionsService.rawOptions.theme)));\n          }\n          get colors() {\n            return this._colors;\n          }\n          _setTheme() {\n            let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            const i = this._colors;\n            if (i.foreground = g(e.foreground, l), i.background = g(e.background, d), i.cursor = g(e.cursor, _), i.cursorAccent = g(e.cursorAccent, u), i.selectionBackgroundTransparent = g(e.selectionBackground, f), i.selectionBackgroundOpaque = o.color.blend(i.background, i.selectionBackgroundTransparent), i.selectionInactiveBackgroundTransparent = g(e.selectionInactiveBackground, i.selectionBackgroundTransparent), i.selectionInactiveBackgroundOpaque = o.color.blend(i.background, i.selectionInactiveBackgroundTransparent), i.selectionForeground = e.selectionForeground ? g(e.selectionForeground, o.NULL_COLOR) : void 0, i.selectionForeground === o.NULL_COLOR && (i.selectionForeground = void 0), o.color.isOpaque(i.selectionBackgroundTransparent)) {\n              const e = .3;\n              i.selectionBackgroundTransparent = o.color.opacity(i.selectionBackgroundTransparent, e);\n            }\n            if (o.color.isOpaque(i.selectionInactiveBackgroundTransparent)) {\n              const e = .3;\n              i.selectionInactiveBackgroundTransparent = o.color.opacity(i.selectionInactiveBackgroundTransparent, e);\n            }\n            if (i.ansi = t.DEFAULT_ANSI_COLORS.slice(), i.ansi[0] = g(e.black, t.DEFAULT_ANSI_COLORS[0]), i.ansi[1] = g(e.red, t.DEFAULT_ANSI_COLORS[1]), i.ansi[2] = g(e.green, t.DEFAULT_ANSI_COLORS[2]), i.ansi[3] = g(e.yellow, t.DEFAULT_ANSI_COLORS[3]), i.ansi[4] = g(e.blue, t.DEFAULT_ANSI_COLORS[4]), i.ansi[5] = g(e.magenta, t.DEFAULT_ANSI_COLORS[5]), i.ansi[6] = g(e.cyan, t.DEFAULT_ANSI_COLORS[6]), i.ansi[7] = g(e.white, t.DEFAULT_ANSI_COLORS[7]), i.ansi[8] = g(e.brightBlack, t.DEFAULT_ANSI_COLORS[8]), i.ansi[9] = g(e.brightRed, t.DEFAULT_ANSI_COLORS[9]), i.ansi[10] = g(e.brightGreen, t.DEFAULT_ANSI_COLORS[10]), i.ansi[11] = g(e.brightYellow, t.DEFAULT_ANSI_COLORS[11]), i.ansi[12] = g(e.brightBlue, t.DEFAULT_ANSI_COLORS[12]), i.ansi[13] = g(e.brightMagenta, t.DEFAULT_ANSI_COLORS[13]), i.ansi[14] = g(e.brightCyan, t.DEFAULT_ANSI_COLORS[14]), i.ansi[15] = g(e.brightWhite, t.DEFAULT_ANSI_COLORS[15]), e.extendedAnsi) {\n              const s = Math.min(i.ansi.length - 16, e.extendedAnsi.length);\n              for (let r = 0; r < s; r++) i.ansi[r + 16] = g(e.extendedAnsi[r], t.DEFAULT_ANSI_COLORS[r + 16]);\n            }\n            this._contrastCache.clear(), this._updateRestoreColors(), this._onChangeColors.fire(this.colors);\n          }\n          restoreColor(e) {\n            this._restoreColor(e), this._onChangeColors.fire(this.colors);\n          }\n          _restoreColor(e) {\n            if (void 0 !== e) switch (e) {\n              case 256:\n                this._colors.foreground = this._restoreColors.foreground;\n                break;\n              case 257:\n                this._colors.background = this._restoreColors.background;\n                break;\n              case 258:\n                this._colors.cursor = this._restoreColors.cursor;\n                break;\n              default:\n                this._colors.ansi[e] = this._restoreColors.ansi[e];\n            } else for (let e = 0; e < this._restoreColors.ansi.length; ++e) this._colors.ansi[e] = this._restoreColors.ansi[e];\n          }\n          modifyColors(e) {\n            e(this._colors), this._onChangeColors.fire(this.colors);\n          }\n          _updateRestoreColors() {\n            this._restoreColors = {\n              foreground: this._colors.foreground,\n              background: this._colors.background,\n              cursor: this._colors.cursor,\n              ansi: this._colors.ansi.slice()\n            };\n          }\n        };\n        function g(e, t) {\n          if (void 0 !== e) try {\n            return o.css.toColor(e);\n          } catch (e) {}\n          return t;\n        }\n        v = s([r(0, c.IOptionsService)], v), t.ThemeService = v;\n      },\n      6349: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CircularList = void 0;\n        const s = i(8460),\n          r = i(844);\n        class n extends r.Disposable {\n          constructor(e) {\n            super(), this._maxLength = e, this.onDeleteEmitter = this.register(new s.EventEmitter()), this.onDelete = this.onDeleteEmitter.event, this.onInsertEmitter = this.register(new s.EventEmitter()), this.onInsert = this.onInsertEmitter.event, this.onTrimEmitter = this.register(new s.EventEmitter()), this.onTrim = this.onTrimEmitter.event, this._array = new Array(this._maxLength), this._startIndex = 0, this._length = 0;\n          }\n          get maxLength() {\n            return this._maxLength;\n          }\n          set maxLength(e) {\n            if (this._maxLength === e) return;\n            const t = new Array(e);\n            for (let i = 0; i < Math.min(e, this.length); i++) t[i] = this._array[this._getCyclicIndex(i)];\n            this._array = t, this._maxLength = e, this._startIndex = 0;\n          }\n          get length() {\n            return this._length;\n          }\n          set length(e) {\n            if (e > this._length) for (let t = this._length; t < e; t++) this._array[t] = void 0;\n            this._length = e;\n          }\n          get(e) {\n            return this._array[this._getCyclicIndex(e)];\n          }\n          set(e, t) {\n            this._array[this._getCyclicIndex(e)] = t;\n          }\n          push(e) {\n            this._array[this._getCyclicIndex(this._length)] = e, this._length === this._maxLength ? (this._startIndex = ++this._startIndex % this._maxLength, this.onTrimEmitter.fire(1)) : this._length++;\n          }\n          recycle() {\n            if (this._length !== this._maxLength) throw new Error(\"Can only recycle when the buffer is full\");\n            return this._startIndex = ++this._startIndex % this._maxLength, this.onTrimEmitter.fire(1), this._array[this._getCyclicIndex(this._length - 1)];\n          }\n          get isFull() {\n            return this._length === this._maxLength;\n          }\n          pop() {\n            return this._array[this._getCyclicIndex(this._length-- - 1)];\n          }\n          splice(e, t) {\n            if (t) {\n              for (let i = e; i < this._length - t; i++) this._array[this._getCyclicIndex(i)] = this._array[this._getCyclicIndex(i + t)];\n              this._length -= t, this.onDeleteEmitter.fire({\n                index: e,\n                amount: t\n              });\n            }\n            for (let t = this._length - 1; t >= e; t--) this._array[this._getCyclicIndex(t + (arguments.length <= 2 ? 0 : arguments.length - 2))] = this._array[this._getCyclicIndex(t)];\n            for (let t = 0; t < (arguments.length <= 2 ? 0 : arguments.length - 2); t++) this._array[this._getCyclicIndex(e + t)] = t + 2 < 2 || arguments.length <= t + 2 ? undefined : arguments[t + 2];\n            if ((arguments.length <= 2 ? 0 : arguments.length - 2) && this.onInsertEmitter.fire({\n              index: e,\n              amount: arguments.length <= 2 ? 0 : arguments.length - 2\n            }), this._length + (arguments.length <= 2 ? 0 : arguments.length - 2) > this._maxLength) {\n              const e = this._length + (arguments.length <= 2 ? 0 : arguments.length - 2) - this._maxLength;\n              this._startIndex += e, this._length = this._maxLength, this.onTrimEmitter.fire(e);\n            } else this._length += arguments.length <= 2 ? 0 : arguments.length - 2;\n          }\n          trimStart(e) {\n            e > this._length && (e = this._length), this._startIndex += e, this._length -= e, this.onTrimEmitter.fire(e);\n          }\n          shiftElements(e, t, i) {\n            if (!(t <= 0)) {\n              if (e < 0 || e >= this._length) throw new Error(\"start argument out of range\");\n              if (e + i < 0) throw new Error(\"Cannot shift elements in list beyond index 0\");\n              if (i > 0) {\n                for (let s = t - 1; s >= 0; s--) this.set(e + s + i, this.get(e + s));\n                const s = e + t + i - this._length;\n                if (s > 0) for (this._length += s; this._length > this._maxLength;) this._length--, this._startIndex++, this.onTrimEmitter.fire(1);\n              } else for (let s = 0; s < t; s++) this.set(e + s + i, this.get(e + s));\n            }\n          }\n          _getCyclicIndex(e) {\n            return (this._startIndex + e) % this._maxLength;\n          }\n        }\n        t.CircularList = n;\n      },\n      1439: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.clone = void 0, t.clone = function e(t) {\n          let i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n          if (\"object\" != typeof t) return t;\n          const s = Array.isArray(t) ? [] : {};\n          for (const r in t) s[r] = i <= 1 ? t[r] : t[r] && e(t[r], i - 1);\n          return s;\n        };\n      },\n      8055: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.contrastRatio = t.toPaddedHex = t.rgba = t.rgb = t.css = t.color = t.channels = t.NULL_COLOR = void 0;\n        const s = i(6114);\n        let r = 0,\n          n = 0,\n          o = 0,\n          a = 0;\n        var h, c, l;\n        function d(e) {\n          const t = e.toString(16);\n          return t.length < 2 ? \"0\" + t : t;\n        }\n        function _(e, t) {\n          return e < t ? (t + .05) / (e + .05) : (e + .05) / (t + .05);\n        }\n        t.NULL_COLOR = {\n          css: \"#00000000\",\n          rgba: 0\n        }, function (e) {\n          e.toCss = function (e, t, i, s) {\n            return void 0 !== s ? \"#\".concat(d(e)).concat(d(t)).concat(d(i)).concat(d(s)) : \"#\".concat(d(e)).concat(d(t)).concat(d(i));\n          }, e.toRgba = function (e, t, i) {\n            let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 255;\n            return (e << 24 | t << 16 | i << 8 | s) >>> 0;\n          };\n        }(h = t.channels || (t.channels = {})), function (e) {\n          function t(e, t) {\n            return a = Math.round(255 * t), [r, n, o] = l.toChannels(e.rgba), {\n              css: h.toCss(r, n, o, a),\n              rgba: h.toRgba(r, n, o, a)\n            };\n          }\n          e.blend = function (e, t) {\n            if (a = (255 & t.rgba) / 255, 1 === a) return {\n              css: t.css,\n              rgba: t.rgba\n            };\n            const i = t.rgba >> 24 & 255,\n              s = t.rgba >> 16 & 255,\n              c = t.rgba >> 8 & 255,\n              l = e.rgba >> 24 & 255,\n              d = e.rgba >> 16 & 255,\n              _ = e.rgba >> 8 & 255;\n            return r = l + Math.round((i - l) * a), n = d + Math.round((s - d) * a), o = _ + Math.round((c - _) * a), {\n              css: h.toCss(r, n, o),\n              rgba: h.toRgba(r, n, o)\n            };\n          }, e.isOpaque = function (e) {\n            return 255 == (255 & e.rgba);\n          }, e.ensureContrastRatio = function (e, t, i) {\n            const s = l.ensureContrastRatio(e.rgba, t.rgba, i);\n            if (s) return l.toColor(s >> 24 & 255, s >> 16 & 255, s >> 8 & 255);\n          }, e.opaque = function (e) {\n            const t = (255 | e.rgba) >>> 0;\n            return [r, n, o] = l.toChannels(t), {\n              css: h.toCss(r, n, o),\n              rgba: t\n            };\n          }, e.opacity = t, e.multiplyOpacity = function (e, i) {\n            return a = 255 & e.rgba, t(e, a * i / 255);\n          }, e.toColorRGB = function (e) {\n            return [e.rgba >> 24 & 255, e.rgba >> 16 & 255, e.rgba >> 8 & 255];\n          };\n        }(t.color || (t.color = {})), function (e) {\n          let t, i;\n          if (!s.isNode) {\n            const e = document.createElement(\"canvas\");\n            e.width = 1, e.height = 1;\n            const s = e.getContext(\"2d\", {\n              willReadFrequently: !0\n            });\n            s && (t = s, t.globalCompositeOperation = \"copy\", i = t.createLinearGradient(0, 0, 1, 1));\n          }\n          e.toColor = function (e) {\n            if (e.match(/#[\\da-f]{3,8}/i)) switch (e.length) {\n              case 4:\n                return r = parseInt(e.slice(1, 2).repeat(2), 16), n = parseInt(e.slice(2, 3).repeat(2), 16), o = parseInt(e.slice(3, 4).repeat(2), 16), l.toColor(r, n, o);\n              case 5:\n                return r = parseInt(e.slice(1, 2).repeat(2), 16), n = parseInt(e.slice(2, 3).repeat(2), 16), o = parseInt(e.slice(3, 4).repeat(2), 16), a = parseInt(e.slice(4, 5).repeat(2), 16), l.toColor(r, n, o, a);\n              case 7:\n                return {\n                  css: e,\n                  rgba: (parseInt(e.slice(1), 16) << 8 | 255) >>> 0\n                };\n              case 9:\n                return {\n                  css: e,\n                  rgba: parseInt(e.slice(1), 16) >>> 0\n                };\n            }\n            const s = e.match(/rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(,\\s*(0|1|\\d?\\.(\\d+))\\s*)?\\)/);\n            if (s) return r = parseInt(s[1]), n = parseInt(s[2]), o = parseInt(s[3]), a = Math.round(255 * (void 0 === s[5] ? 1 : parseFloat(s[5]))), l.toColor(r, n, o, a);\n            if (!t || !i) throw new Error(\"css.toColor: Unsupported css format\");\n            if (t.fillStyle = i, t.fillStyle = e, \"string\" != typeof t.fillStyle) throw new Error(\"css.toColor: Unsupported css format\");\n            if (t.fillRect(0, 0, 1, 1), [r, n, o, a] = t.getImageData(0, 0, 1, 1).data, 255 !== a) throw new Error(\"css.toColor: Unsupported css format\");\n            return {\n              rgba: h.toRgba(r, n, o, a),\n              css: e\n            };\n          };\n        }(t.css || (t.css = {})), function (e) {\n          function t(e, t, i) {\n            const s = e / 255,\n              r = t / 255,\n              n = i / 255;\n            return .2126 * (s <= .03928 ? s / 12.92 : Math.pow((s + .055) / 1.055, 2.4)) + .7152 * (r <= .03928 ? r / 12.92 : Math.pow((r + .055) / 1.055, 2.4)) + .0722 * (n <= .03928 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4));\n          }\n          e.relativeLuminance = function (e) {\n            return t(e >> 16 & 255, e >> 8 & 255, 255 & e);\n          }, e.relativeLuminance2 = t;\n        }(c = t.rgb || (t.rgb = {})), function (e) {\n          function t(e, t, i) {\n            const s = e >> 24 & 255,\n              r = e >> 16 & 255,\n              n = e >> 8 & 255;\n            let o = t >> 24 & 255,\n              a = t >> 16 & 255,\n              h = t >> 8 & 255,\n              l = _(c.relativeLuminance2(o, a, h), c.relativeLuminance2(s, r, n));\n            for (; l < i && (o > 0 || a > 0 || h > 0);) o -= Math.max(0, Math.ceil(.1 * o)), a -= Math.max(0, Math.ceil(.1 * a)), h -= Math.max(0, Math.ceil(.1 * h)), l = _(c.relativeLuminance2(o, a, h), c.relativeLuminance2(s, r, n));\n            return (o << 24 | a << 16 | h << 8 | 255) >>> 0;\n          }\n          function i(e, t, i) {\n            const s = e >> 24 & 255,\n              r = e >> 16 & 255,\n              n = e >> 8 & 255;\n            let o = t >> 24 & 255,\n              a = t >> 16 & 255,\n              h = t >> 8 & 255,\n              l = _(c.relativeLuminance2(o, a, h), c.relativeLuminance2(s, r, n));\n            for (; l < i && (o < 255 || a < 255 || h < 255);) o = Math.min(255, o + Math.ceil(.1 * (255 - o))), a = Math.min(255, a + Math.ceil(.1 * (255 - a))), h = Math.min(255, h + Math.ceil(.1 * (255 - h))), l = _(c.relativeLuminance2(o, a, h), c.relativeLuminance2(s, r, n));\n            return (o << 24 | a << 16 | h << 8 | 255) >>> 0;\n          }\n          e.ensureContrastRatio = function (e, s, r) {\n            const n = c.relativeLuminance(e >> 8),\n              o = c.relativeLuminance(s >> 8);\n            if (_(n, o) < r) {\n              if (o < n) {\n                const o = t(e, s, r),\n                  a = _(n, c.relativeLuminance(o >> 8));\n                if (a < r) {\n                  const t = i(e, s, r);\n                  return a > _(n, c.relativeLuminance(t >> 8)) ? o : t;\n                }\n                return o;\n              }\n              const a = i(e, s, r),\n                h = _(n, c.relativeLuminance(a >> 8));\n              if (h < r) {\n                const i = t(e, s, r);\n                return h > _(n, c.relativeLuminance(i >> 8)) ? a : i;\n              }\n              return a;\n            }\n          }, e.reduceLuminance = t, e.increaseLuminance = i, e.toChannels = function (e) {\n            return [e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e];\n          }, e.toColor = function (e, t, i, s) {\n            return {\n              css: h.toCss(e, t, i, s),\n              rgba: h.toRgba(e, t, i, s)\n            };\n          };\n        }(l = t.rgba || (t.rgba = {})), t.toPaddedHex = d, t.contrastRatio = _;\n      },\n      8969: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CoreTerminal = void 0;\n        const s = i(844),\n          r = i(2585),\n          n = i(4348),\n          o = i(7866),\n          a = i(744),\n          h = i(7302),\n          c = i(6975),\n          l = i(8460),\n          d = i(1753),\n          _ = i(1480),\n          u = i(7994),\n          f = i(9282),\n          v = i(5435),\n          g = i(5981),\n          p = i(2660);\n        let S = !1;\n        class m extends s.Disposable {\n          constructor(e) {\n            super(), this._onBinary = this.register(new l.EventEmitter()), this.onBinary = this._onBinary.event, this._onData = this.register(new l.EventEmitter()), this.onData = this._onData.event, this._onLineFeed = this.register(new l.EventEmitter()), this.onLineFeed = this._onLineFeed.event, this._onResize = this.register(new l.EventEmitter()), this.onResize = this._onResize.event, this._onWriteParsed = this.register(new l.EventEmitter()), this.onWriteParsed = this._onWriteParsed.event, this._onScroll = this.register(new l.EventEmitter()), this._instantiationService = new n.InstantiationService(), this.optionsService = this.register(new h.OptionsService(e)), this._instantiationService.setService(r.IOptionsService, this.optionsService), this._bufferService = this.register(this._instantiationService.createInstance(a.BufferService)), this._instantiationService.setService(r.IBufferService, this._bufferService), this._logService = this.register(this._instantiationService.createInstance(o.LogService)), this._instantiationService.setService(r.ILogService, this._logService), this.coreService = this.register(this._instantiationService.createInstance(c.CoreService)), this._instantiationService.setService(r.ICoreService, this.coreService), this.coreMouseService = this.register(this._instantiationService.createInstance(d.CoreMouseService)), this._instantiationService.setService(r.ICoreMouseService, this.coreMouseService), this.unicodeService = this.register(this._instantiationService.createInstance(_.UnicodeService)), this._instantiationService.setService(r.IUnicodeService, this.unicodeService), this._charsetService = this._instantiationService.createInstance(u.CharsetService), this._instantiationService.setService(r.ICharsetService, this._charsetService), this._oscLinkService = this._instantiationService.createInstance(p.OscLinkService), this._instantiationService.setService(r.IOscLinkService, this._oscLinkService), this._inputHandler = this.register(new v.InputHandler(this._bufferService, this._charsetService, this.coreService, this._logService, this.optionsService, this._oscLinkService, this.coreMouseService, this.unicodeService)), this.register((0, l.forwardEvent)(this._inputHandler.onLineFeed, this._onLineFeed)), this.register(this._inputHandler), this.register((0, l.forwardEvent)(this._bufferService.onResize, this._onResize)), this.register((0, l.forwardEvent)(this.coreService.onData, this._onData)), this.register((0, l.forwardEvent)(this.coreService.onBinary, this._onBinary)), this.register(this.coreService.onRequestScrollToBottom(() => this.scrollToBottom())), this.register(this.coreService.onUserInput(() => this._writeBuffer.handleUserInput())), this.register(this.optionsService.onMultipleOptionChange([\"windowsMode\", \"windowsPty\"], () => this._handleWindowsPtyOptionChange())), this.register(this._bufferService.onScroll(e => {\n              this._onScroll.fire({\n                position: this._bufferService.buffer.ydisp,\n                source: 0\n              }), this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop, this._bufferService.buffer.scrollBottom);\n            })), this.register(this._inputHandler.onScroll(e => {\n              this._onScroll.fire({\n                position: this._bufferService.buffer.ydisp,\n                source: 0\n              }), this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop, this._bufferService.buffer.scrollBottom);\n            })), this._writeBuffer = this.register(new g.WriteBuffer((e, t) => this._inputHandler.parse(e, t))), this.register((0, l.forwardEvent)(this._writeBuffer.onWriteParsed, this._onWriteParsed)), this.register((0, s.toDisposable)(() => {\n              var e;\n              null === (e = this._windowsWrappingHeuristics) || void 0 === e || e.dispose(), this._windowsWrappingHeuristics = void 0;\n            }));\n          }\n          get onScroll() {\n            return this._onScrollApi || (this._onScrollApi = this.register(new l.EventEmitter()), this._onScroll.event(e => {\n              var t;\n              null === (t = this._onScrollApi) || void 0 === t || t.fire(e.position);\n            })), this._onScrollApi.event;\n          }\n          get cols() {\n            return this._bufferService.cols;\n          }\n          get rows() {\n            return this._bufferService.rows;\n          }\n          get buffers() {\n            return this._bufferService.buffers;\n          }\n          get options() {\n            return this.optionsService.options;\n          }\n          set options(e) {\n            for (const t in e) this.optionsService.options[t] = e[t];\n          }\n          write(e, t) {\n            this._writeBuffer.write(e, t);\n          }\n          writeSync(e, t) {\n            this._logService.logLevel <= r.LogLevelEnum.WARN && !S && (this._logService.warn(\"writeSync is unreliable and will be removed soon.\"), S = !0), this._writeBuffer.writeSync(e, t);\n          }\n          resize(e, t) {\n            isNaN(e) || isNaN(t) || (e = Math.max(e, a.MINIMUM_COLS), t = Math.max(t, a.MINIMUM_ROWS), this._bufferService.resize(e, t));\n          }\n          scroll(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n            this._bufferService.scroll(e, t);\n          }\n          scrollLines(e, t, i) {\n            this._bufferService.scrollLines(e, t, i);\n          }\n          scrollPages(e) {\n            this._bufferService.scrollPages(e);\n          }\n          scrollToTop() {\n            this._bufferService.scrollToTop();\n          }\n          scrollToBottom() {\n            this._bufferService.scrollToBottom();\n          }\n          scrollToLine(e) {\n            this._bufferService.scrollToLine(e);\n          }\n          registerEscHandler(e, t) {\n            return this._inputHandler.registerEscHandler(e, t);\n          }\n          registerDcsHandler(e, t) {\n            return this._inputHandler.registerDcsHandler(e, t);\n          }\n          registerCsiHandler(e, t) {\n            return this._inputHandler.registerCsiHandler(e, t);\n          }\n          registerOscHandler(e, t) {\n            return this._inputHandler.registerOscHandler(e, t);\n          }\n          _setup() {\n            this._handleWindowsPtyOptionChange();\n          }\n          reset() {\n            this._inputHandler.reset(), this._bufferService.reset(), this._charsetService.reset(), this.coreService.reset(), this.coreMouseService.reset();\n          }\n          _handleWindowsPtyOptionChange() {\n            var e;\n            let t = !1;\n            const i = this.optionsService.rawOptions.windowsPty;\n            i && void 0 !== i.buildNumber && void 0 !== i.buildNumber ? t = !!(\"conpty\" === i.backend && i.buildNumber < 21376) : this.optionsService.rawOptions.windowsMode && (t = !0), t ? this._enableWindowsWrappingHeuristics() : (null === (e = this._windowsWrappingHeuristics) || void 0 === e || e.dispose(), this._windowsWrappingHeuristics = void 0);\n          }\n          _enableWindowsWrappingHeuristics() {\n            if (!this._windowsWrappingHeuristics) {\n              const e = [];\n              e.push(this.onLineFeed(f.updateWindowsModeWrappedState.bind(null, this._bufferService))), e.push(this.registerCsiHandler({\n                final: \"H\"\n              }, () => ((0, f.updateWindowsModeWrappedState)(this._bufferService), !1))), this._windowsWrappingHeuristics = (0, s.toDisposable)(() => {\n                for (const t of e) t.dispose();\n              });\n            }\n          }\n        }\n        t.CoreTerminal = m;\n      },\n      8460: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.forwardEvent = t.EventEmitter = void 0, t.EventEmitter = class {\n          constructor() {\n            this._listeners = [], this._disposed = !1;\n          }\n          get event() {\n            return this._event || (this._event = e => (this._listeners.push(e), {\n              dispose: () => {\n                if (!this._disposed) for (let t = 0; t < this._listeners.length; t++) if (this._listeners[t] === e) return void this._listeners.splice(t, 1);\n              }\n            })), this._event;\n          }\n          fire(e, t) {\n            const i = [];\n            for (let e = 0; e < this._listeners.length; e++) i.push(this._listeners[e]);\n            for (let s = 0; s < i.length; s++) i[s].call(void 0, e, t);\n          }\n          dispose() {\n            this._listeners && (this._listeners.length = 0), this._disposed = !0;\n          }\n        }, t.forwardEvent = function (e, t) {\n          return e(e => t.fire(e));\n        };\n      },\n      5435: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.InputHandler = t.WindowsOptionsReportType = void 0;\n        const n = i(2584),\n          o = i(7116),\n          a = i(2015),\n          h = i(844),\n          c = i(482),\n          l = i(8437),\n          d = i(8460),\n          _ = i(643),\n          u = i(511),\n          f = i(3734),\n          v = i(2585),\n          g = i(6242),\n          p = i(6351),\n          S = i(5941),\n          m = {\n            \"(\": 0,\n            \")\": 1,\n            \"*\": 2,\n            \"+\": 3,\n            \"-\": 1,\n            \".\": 2\n          },\n          C = 131072;\n        function b(e, t) {\n          if (e > 24) return t.setWinLines || !1;\n          switch (e) {\n            case 1:\n              return !!t.restoreWin;\n            case 2:\n              return !!t.minimizeWin;\n            case 3:\n              return !!t.setWinPosition;\n            case 4:\n              return !!t.setWinSizePixels;\n            case 5:\n              return !!t.raiseWin;\n            case 6:\n              return !!t.lowerWin;\n            case 7:\n              return !!t.refreshWin;\n            case 8:\n              return !!t.setWinSizeChars;\n            case 9:\n              return !!t.maximizeWin;\n            case 10:\n              return !!t.fullscreenWin;\n            case 11:\n              return !!t.getWinState;\n            case 13:\n              return !!t.getWinPosition;\n            case 14:\n              return !!t.getWinSizePixels;\n            case 15:\n              return !!t.getScreenSizePixels;\n            case 16:\n              return !!t.getCellSizePixels;\n            case 18:\n              return !!t.getWinSizeChars;\n            case 19:\n              return !!t.getScreenSizeChars;\n            case 20:\n              return !!t.getIconTitle;\n            case 21:\n              return !!t.getWinTitle;\n            case 22:\n              return !!t.pushTitle;\n            case 23:\n              return !!t.popTitle;\n            case 24:\n              return !!t.setWinLines;\n          }\n          return !1;\n        }\n        var y;\n        !function (e) {\n          e[e.GET_WIN_SIZE_PIXELS = 0] = \"GET_WIN_SIZE_PIXELS\", e[e.GET_CELL_SIZE_PIXELS = 1] = \"GET_CELL_SIZE_PIXELS\";\n        }(y = t.WindowsOptionsReportType || (t.WindowsOptionsReportType = {}));\n        let w = 0;\n        class E extends h.Disposable {\n          constructor(e, t, i, s, r, h, _, f) {\n            let v = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : new a.EscapeSequenceParser();\n            super(), this._bufferService = e, this._charsetService = t, this._coreService = i, this._logService = s, this._optionsService = r, this._oscLinkService = h, this._coreMouseService = _, this._unicodeService = f, this._parser = v, this._parseBuffer = new Uint32Array(4096), this._stringDecoder = new c.StringToUtf32(), this._utf8Decoder = new c.Utf8ToUtf32(), this._workCell = new u.CellData(), this._windowTitle = \"\", this._iconName = \"\", this._windowTitleStack = [], this._iconNameStack = [], this._curAttrData = l.DEFAULT_ATTR_DATA.clone(), this._eraseAttrDataInternal = l.DEFAULT_ATTR_DATA.clone(), this._onRequestBell = this.register(new d.EventEmitter()), this.onRequestBell = this._onRequestBell.event, this._onRequestRefreshRows = this.register(new d.EventEmitter()), this.onRequestRefreshRows = this._onRequestRefreshRows.event, this._onRequestReset = this.register(new d.EventEmitter()), this.onRequestReset = this._onRequestReset.event, this._onRequestSendFocus = this.register(new d.EventEmitter()), this.onRequestSendFocus = this._onRequestSendFocus.event, this._onRequestSyncScrollBar = this.register(new d.EventEmitter()), this.onRequestSyncScrollBar = this._onRequestSyncScrollBar.event, this._onRequestWindowsOptionsReport = this.register(new d.EventEmitter()), this.onRequestWindowsOptionsReport = this._onRequestWindowsOptionsReport.event, this._onA11yChar = this.register(new d.EventEmitter()), this.onA11yChar = this._onA11yChar.event, this._onA11yTab = this.register(new d.EventEmitter()), this.onA11yTab = this._onA11yTab.event, this._onCursorMove = this.register(new d.EventEmitter()), this.onCursorMove = this._onCursorMove.event, this._onLineFeed = this.register(new d.EventEmitter()), this.onLineFeed = this._onLineFeed.event, this._onScroll = this.register(new d.EventEmitter()), this.onScroll = this._onScroll.event, this._onTitleChange = this.register(new d.EventEmitter()), this.onTitleChange = this._onTitleChange.event, this._onColor = this.register(new d.EventEmitter()), this.onColor = this._onColor.event, this._parseStack = {\n              paused: !1,\n              cursorStartX: 0,\n              cursorStartY: 0,\n              decodedLength: 0,\n              position: 0\n            }, this._specialColors = [256, 257, 258], this.register(this._parser), this._dirtyRowTracker = new L(this._bufferService), this._activeBuffer = this._bufferService.buffer, this.register(this._bufferService.buffers.onBufferActivate(e => this._activeBuffer = e.activeBuffer)), this._parser.setCsiHandlerFallback((e, t) => {\n              this._logService.debug(\"Unknown CSI code: \", {\n                identifier: this._parser.identToString(e),\n                params: t.toArray()\n              });\n            }), this._parser.setEscHandlerFallback(e => {\n              this._logService.debug(\"Unknown ESC code: \", {\n                identifier: this._parser.identToString(e)\n              });\n            }), this._parser.setExecuteHandlerFallback(e => {\n              this._logService.debug(\"Unknown EXECUTE code: \", {\n                code: e\n              });\n            }), this._parser.setOscHandlerFallback((e, t, i) => {\n              this._logService.debug(\"Unknown OSC code: \", {\n                identifier: e,\n                action: t,\n                data: i\n              });\n            }), this._parser.setDcsHandlerFallback((e, t, i) => {\n              \"HOOK\" === t && (i = i.toArray()), this._logService.debug(\"Unknown DCS code: \", {\n                identifier: this._parser.identToString(e),\n                action: t,\n                payload: i\n              });\n            }), this._parser.setPrintHandler((e, t, i) => this.print(e, t, i)), this._parser.registerCsiHandler({\n              final: \"@\"\n            }, e => this.insertChars(e)), this._parser.registerCsiHandler({\n              intermediates: \" \",\n              final: \"@\"\n            }, e => this.scrollLeft(e)), this._parser.registerCsiHandler({\n              final: \"A\"\n            }, e => this.cursorUp(e)), this._parser.registerCsiHandler({\n              intermediates: \" \",\n              final: \"A\"\n            }, e => this.scrollRight(e)), this._parser.registerCsiHandler({\n              final: \"B\"\n            }, e => this.cursorDown(e)), this._parser.registerCsiHandler({\n              final: \"C\"\n            }, e => this.cursorForward(e)), this._parser.registerCsiHandler({\n              final: \"D\"\n            }, e => this.cursorBackward(e)), this._parser.registerCsiHandler({\n              final: \"E\"\n            }, e => this.cursorNextLine(e)), this._parser.registerCsiHandler({\n              final: \"F\"\n            }, e => this.cursorPrecedingLine(e)), this._parser.registerCsiHandler({\n              final: \"G\"\n            }, e => this.cursorCharAbsolute(e)), this._parser.registerCsiHandler({\n              final: \"H\"\n            }, e => this.cursorPosition(e)), this._parser.registerCsiHandler({\n              final: \"I\"\n            }, e => this.cursorForwardTab(e)), this._parser.registerCsiHandler({\n              final: \"J\"\n            }, e => this.eraseInDisplay(e, !1)), this._parser.registerCsiHandler({\n              prefix: \"?\",\n              final: \"J\"\n            }, e => this.eraseInDisplay(e, !0)), this._parser.registerCsiHandler({\n              final: \"K\"\n            }, e => this.eraseInLine(e, !1)), this._parser.registerCsiHandler({\n              prefix: \"?\",\n              final: \"K\"\n            }, e => this.eraseInLine(e, !0)), this._parser.registerCsiHandler({\n              final: \"L\"\n            }, e => this.insertLines(e)), this._parser.registerCsiHandler({\n              final: \"M\"\n            }, e => this.deleteLines(e)), this._parser.registerCsiHandler({\n              final: \"P\"\n            }, e => this.deleteChars(e)), this._parser.registerCsiHandler({\n              final: \"S\"\n            }, e => this.scrollUp(e)), this._parser.registerCsiHandler({\n              final: \"T\"\n            }, e => this.scrollDown(e)), this._parser.registerCsiHandler({\n              final: \"X\"\n            }, e => this.eraseChars(e)), this._parser.registerCsiHandler({\n              final: \"Z\"\n            }, e => this.cursorBackwardTab(e)), this._parser.registerCsiHandler({\n              final: \"`\"\n            }, e => this.charPosAbsolute(e)), this._parser.registerCsiHandler({\n              final: \"a\"\n            }, e => this.hPositionRelative(e)), this._parser.registerCsiHandler({\n              final: \"b\"\n            }, e => this.repeatPrecedingCharacter(e)), this._parser.registerCsiHandler({\n              final: \"c\"\n            }, e => this.sendDeviceAttributesPrimary(e)), this._parser.registerCsiHandler({\n              prefix: \">\",\n              final: \"c\"\n            }, e => this.sendDeviceAttributesSecondary(e)), this._parser.registerCsiHandler({\n              final: \"d\"\n            }, e => this.linePosAbsolute(e)), this._parser.registerCsiHandler({\n              final: \"e\"\n            }, e => this.vPositionRelative(e)), this._parser.registerCsiHandler({\n              final: \"f\"\n            }, e => this.hVPosition(e)), this._parser.registerCsiHandler({\n              final: \"g\"\n            }, e => this.tabClear(e)), this._parser.registerCsiHandler({\n              final: \"h\"\n            }, e => this.setMode(e)), this._parser.registerCsiHandler({\n              prefix: \"?\",\n              final: \"h\"\n            }, e => this.setModePrivate(e)), this._parser.registerCsiHandler({\n              final: \"l\"\n            }, e => this.resetMode(e)), this._parser.registerCsiHandler({\n              prefix: \"?\",\n              final: \"l\"\n            }, e => this.resetModePrivate(e)), this._parser.registerCsiHandler({\n              final: \"m\"\n            }, e => this.charAttributes(e)), this._parser.registerCsiHandler({\n              final: \"n\"\n            }, e => this.deviceStatus(e)), this._parser.registerCsiHandler({\n              prefix: \"?\",\n              final: \"n\"\n            }, e => this.deviceStatusPrivate(e)), this._parser.registerCsiHandler({\n              intermediates: \"!\",\n              final: \"p\"\n            }, e => this.softReset(e)), this._parser.registerCsiHandler({\n              intermediates: \" \",\n              final: \"q\"\n            }, e => this.setCursorStyle(e)), this._parser.registerCsiHandler({\n              final: \"r\"\n            }, e => this.setScrollRegion(e)), this._parser.registerCsiHandler({\n              final: \"s\"\n            }, e => this.saveCursor(e)), this._parser.registerCsiHandler({\n              final: \"t\"\n            }, e => this.windowOptions(e)), this._parser.registerCsiHandler({\n              final: \"u\"\n            }, e => this.restoreCursor(e)), this._parser.registerCsiHandler({\n              intermediates: \"'\",\n              final: \"}\"\n            }, e => this.insertColumns(e)), this._parser.registerCsiHandler({\n              intermediates: \"'\",\n              final: \"~\"\n            }, e => this.deleteColumns(e)), this._parser.registerCsiHandler({\n              intermediates: '\"',\n              final: \"q\"\n            }, e => this.selectProtected(e)), this._parser.registerCsiHandler({\n              intermediates: \"$\",\n              final: \"p\"\n            }, e => this.requestMode(e, !0)), this._parser.registerCsiHandler({\n              prefix: \"?\",\n              intermediates: \"$\",\n              final: \"p\"\n            }, e => this.requestMode(e, !1)), this._parser.setExecuteHandler(n.C0.BEL, () => this.bell()), this._parser.setExecuteHandler(n.C0.LF, () => this.lineFeed()), this._parser.setExecuteHandler(n.C0.VT, () => this.lineFeed()), this._parser.setExecuteHandler(n.C0.FF, () => this.lineFeed()), this._parser.setExecuteHandler(n.C0.CR, () => this.carriageReturn()), this._parser.setExecuteHandler(n.C0.BS, () => this.backspace()), this._parser.setExecuteHandler(n.C0.HT, () => this.tab()), this._parser.setExecuteHandler(n.C0.SO, () => this.shiftOut()), this._parser.setExecuteHandler(n.C0.SI, () => this.shiftIn()), this._parser.setExecuteHandler(n.C1.IND, () => this.index()), this._parser.setExecuteHandler(n.C1.NEL, () => this.nextLine()), this._parser.setExecuteHandler(n.C1.HTS, () => this.tabSet()), this._parser.registerOscHandler(0, new g.OscHandler(e => (this.setTitle(e), this.setIconName(e), !0))), this._parser.registerOscHandler(1, new g.OscHandler(e => this.setIconName(e))), this._parser.registerOscHandler(2, new g.OscHandler(e => this.setTitle(e))), this._parser.registerOscHandler(4, new g.OscHandler(e => this.setOrReportIndexedColor(e))), this._parser.registerOscHandler(8, new g.OscHandler(e => this.setHyperlink(e))), this._parser.registerOscHandler(10, new g.OscHandler(e => this.setOrReportFgColor(e))), this._parser.registerOscHandler(11, new g.OscHandler(e => this.setOrReportBgColor(e))), this._parser.registerOscHandler(12, new g.OscHandler(e => this.setOrReportCursorColor(e))), this._parser.registerOscHandler(104, new g.OscHandler(e => this.restoreIndexedColor(e))), this._parser.registerOscHandler(110, new g.OscHandler(e => this.restoreFgColor(e))), this._parser.registerOscHandler(111, new g.OscHandler(e => this.restoreBgColor(e))), this._parser.registerOscHandler(112, new g.OscHandler(e => this.restoreCursorColor(e))), this._parser.registerEscHandler({\n              final: \"7\"\n            }, () => this.saveCursor()), this._parser.registerEscHandler({\n              final: \"8\"\n            }, () => this.restoreCursor()), this._parser.registerEscHandler({\n              final: \"D\"\n            }, () => this.index()), this._parser.registerEscHandler({\n              final: \"E\"\n            }, () => this.nextLine()), this._parser.registerEscHandler({\n              final: \"H\"\n            }, () => this.tabSet()), this._parser.registerEscHandler({\n              final: \"M\"\n            }, () => this.reverseIndex()), this._parser.registerEscHandler({\n              final: \"=\"\n            }, () => this.keypadApplicationMode()), this._parser.registerEscHandler({\n              final: \">\"\n            }, () => this.keypadNumericMode()), this._parser.registerEscHandler({\n              final: \"c\"\n            }, () => this.fullReset()), this._parser.registerEscHandler({\n              final: \"n\"\n            }, () => this.setgLevel(2)), this._parser.registerEscHandler({\n              final: \"o\"\n            }, () => this.setgLevel(3)), this._parser.registerEscHandler({\n              final: \"|\"\n            }, () => this.setgLevel(3)), this._parser.registerEscHandler({\n              final: \"}\"\n            }, () => this.setgLevel(2)), this._parser.registerEscHandler({\n              final: \"~\"\n            }, () => this.setgLevel(1)), this._parser.registerEscHandler({\n              intermediates: \"%\",\n              final: \"@\"\n            }, () => this.selectDefaultCharset()), this._parser.registerEscHandler({\n              intermediates: \"%\",\n              final: \"G\"\n            }, () => this.selectDefaultCharset());\n            for (const e in o.CHARSETS) this._parser.registerEscHandler({\n              intermediates: \"(\",\n              final: e\n            }, () => this.selectCharset(\"(\" + e)), this._parser.registerEscHandler({\n              intermediates: \")\",\n              final: e\n            }, () => this.selectCharset(\")\" + e)), this._parser.registerEscHandler({\n              intermediates: \"*\",\n              final: e\n            }, () => this.selectCharset(\"*\" + e)), this._parser.registerEscHandler({\n              intermediates: \"+\",\n              final: e\n            }, () => this.selectCharset(\"+\" + e)), this._parser.registerEscHandler({\n              intermediates: \"-\",\n              final: e\n            }, () => this.selectCharset(\"-\" + e)), this._parser.registerEscHandler({\n              intermediates: \".\",\n              final: e\n            }, () => this.selectCharset(\".\" + e)), this._parser.registerEscHandler({\n              intermediates: \"/\",\n              final: e\n            }, () => this.selectCharset(\"/\" + e));\n            this._parser.registerEscHandler({\n              intermediates: \"#\",\n              final: \"8\"\n            }, () => this.screenAlignmentPattern()), this._parser.setErrorHandler(e => (this._logService.error(\"Parsing error: \", e), e)), this._parser.registerDcsHandler({\n              intermediates: \"$\",\n              final: \"q\"\n            }, new p.DcsHandler((e, t) => this.requestStatusString(e, t)));\n          }\n          getAttrData() {\n            return this._curAttrData;\n          }\n          _preserveStack(e, t, i, s) {\n            this._parseStack.paused = !0, this._parseStack.cursorStartX = e, this._parseStack.cursorStartY = t, this._parseStack.decodedLength = i, this._parseStack.position = s;\n          }\n          _logSlowResolvingAsync(e) {\n            this._logService.logLevel <= v.LogLevelEnum.WARN && Promise.race([e, new Promise((e, t) => setTimeout(() => t(\"#SLOW_TIMEOUT\"), 5e3))]).catch(e => {\n              if (\"#SLOW_TIMEOUT\" !== e) throw e;\n              console.warn(\"async parser handler taking longer than 5000 ms\");\n            });\n          }\n          _getCurrentLinkId() {\n            return this._curAttrData.extended.urlId;\n          }\n          parse(e, t) {\n            let i,\n              s = this._activeBuffer.x,\n              r = this._activeBuffer.y,\n              n = 0;\n            const o = this._parseStack.paused;\n            if (o) {\n              if (i = this._parser.parse(this._parseBuffer, this._parseStack.decodedLength, t)) return this._logSlowResolvingAsync(i), i;\n              s = this._parseStack.cursorStartX, r = this._parseStack.cursorStartY, this._parseStack.paused = !1, e.length > C && (n = this._parseStack.position + C);\n            }\n            if (this._logService.logLevel <= v.LogLevelEnum.DEBUG && this._logService.debug(\"parsing data\" + (\"string\" == typeof e ? \" \\\"\".concat(e, \"\\\"\") : \" \\\"\".concat(Array.prototype.map.call(e, e => String.fromCharCode(e)).join(\"\"), \"\\\"\")), \"string\" == typeof e ? e.split(\"\").map(e => e.charCodeAt(0)) : e), this._parseBuffer.length < e.length && this._parseBuffer.length < C && (this._parseBuffer = new Uint32Array(Math.min(e.length, C))), o || this._dirtyRowTracker.clearRange(), e.length > C) for (let t = n; t < e.length; t += C) {\n              const n = t + C < e.length ? t + C : e.length,\n                o = \"string\" == typeof e ? this._stringDecoder.decode(e.substring(t, n), this._parseBuffer) : this._utf8Decoder.decode(e.subarray(t, n), this._parseBuffer);\n              if (i = this._parser.parse(this._parseBuffer, o)) return this._preserveStack(s, r, o, t), this._logSlowResolvingAsync(i), i;\n            } else if (!o) {\n              const t = \"string\" == typeof e ? this._stringDecoder.decode(e, this._parseBuffer) : this._utf8Decoder.decode(e, this._parseBuffer);\n              if (i = this._parser.parse(this._parseBuffer, t)) return this._preserveStack(s, r, t, 0), this._logSlowResolvingAsync(i), i;\n            }\n            this._activeBuffer.x === s && this._activeBuffer.y === r || this._onCursorMove.fire(), this._onRequestRefreshRows.fire(this._dirtyRowTracker.start, this._dirtyRowTracker.end);\n          }\n          print(e, t, i) {\n            let s, r;\n            const n = this._charsetService.charset,\n              o = this._optionsService.rawOptions.screenReaderMode,\n              a = this._bufferService.cols,\n              h = this._coreService.decPrivateModes.wraparound,\n              l = this._coreService.modes.insertMode,\n              d = this._curAttrData;\n            let u = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n            this._dirtyRowTracker.markDirty(this._activeBuffer.y), this._activeBuffer.x && i - t > 0 && 2 === u.getWidth(this._activeBuffer.x - 1) && u.setCellFromCodePoint(this._activeBuffer.x - 1, 0, 1, d.fg, d.bg, d.extended);\n            for (let f = t; f < i; ++f) {\n              if (s = e[f], r = this._unicodeService.wcwidth(s), s < 127 && n) {\n                const e = n[String.fromCharCode(s)];\n                e && (s = e.charCodeAt(0));\n              }\n              if (o && this._onA11yChar.fire((0, c.stringFromCodePoint)(s)), this._getCurrentLinkId() && this._oscLinkService.addLineToLink(this._getCurrentLinkId(), this._activeBuffer.ybase + this._activeBuffer.y), r || !this._activeBuffer.x) {\n                if (this._activeBuffer.x + r - 1 >= a) if (h) {\n                  for (; this._activeBuffer.x < a;) u.setCellFromCodePoint(this._activeBuffer.x++, 0, 1, d.fg, d.bg, d.extended);\n                  this._activeBuffer.x = 0, this._activeBuffer.y++, this._activeBuffer.y === this._activeBuffer.scrollBottom + 1 ? (this._activeBuffer.y--, this._bufferService.scroll(this._eraseAttrData(), !0)) : (this._activeBuffer.y >= this._bufferService.rows && (this._activeBuffer.y = this._bufferService.rows - 1), this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y).isWrapped = !0), u = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n                } else if (this._activeBuffer.x = a - 1, 2 === r) continue;\n                if (l && (u.insertCells(this._activeBuffer.x, r, this._activeBuffer.getNullCell(d), d), 2 === u.getWidth(a - 1) && u.setCellFromCodePoint(a - 1, _.NULL_CELL_CODE, _.NULL_CELL_WIDTH, d.fg, d.bg, d.extended)), u.setCellFromCodePoint(this._activeBuffer.x++, s, r, d.fg, d.bg, d.extended), r > 0) for (; --r;) u.setCellFromCodePoint(this._activeBuffer.x++, 0, 0, d.fg, d.bg, d.extended);\n              } else u.getWidth(this._activeBuffer.x - 1) ? u.addCodepointToCell(this._activeBuffer.x - 1, s) : u.addCodepointToCell(this._activeBuffer.x - 2, s);\n            }\n            i - t > 0 && (u.loadCell(this._activeBuffer.x - 1, this._workCell), 2 === this._workCell.getWidth() || this._workCell.getCode() > 65535 ? this._parser.precedingCodepoint = 0 : this._workCell.isCombined() ? this._parser.precedingCodepoint = this._workCell.getChars().charCodeAt(0) : this._parser.precedingCodepoint = this._workCell.content), this._activeBuffer.x < a && i - t > 0 && 0 === u.getWidth(this._activeBuffer.x) && !u.hasContent(this._activeBuffer.x) && u.setCellFromCodePoint(this._activeBuffer.x, 0, 1, d.fg, d.bg, d.extended), this._dirtyRowTracker.markDirty(this._activeBuffer.y);\n          }\n          registerCsiHandler(e, t) {\n            return \"t\" !== e.final || e.prefix || e.intermediates ? this._parser.registerCsiHandler(e, t) : this._parser.registerCsiHandler(e, e => !b(e.params[0], this._optionsService.rawOptions.windowOptions) || t(e));\n          }\n          registerDcsHandler(e, t) {\n            return this._parser.registerDcsHandler(e, new p.DcsHandler(t));\n          }\n          registerEscHandler(e, t) {\n            return this._parser.registerEscHandler(e, t);\n          }\n          registerOscHandler(e, t) {\n            return this._parser.registerOscHandler(e, new g.OscHandler(t));\n          }\n          bell() {\n            return this._onRequestBell.fire(), !0;\n          }\n          lineFeed() {\n            return this._dirtyRowTracker.markDirty(this._activeBuffer.y), this._optionsService.rawOptions.convertEol && (this._activeBuffer.x = 0), this._activeBuffer.y++, this._activeBuffer.y === this._activeBuffer.scrollBottom + 1 ? (this._activeBuffer.y--, this._bufferService.scroll(this._eraseAttrData())) : this._activeBuffer.y >= this._bufferService.rows ? this._activeBuffer.y = this._bufferService.rows - 1 : this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y).isWrapped = !1, this._activeBuffer.x >= this._bufferService.cols && this._activeBuffer.x--, this._dirtyRowTracker.markDirty(this._activeBuffer.y), this._onLineFeed.fire(), !0;\n          }\n          carriageReturn() {\n            return this._activeBuffer.x = 0, !0;\n          }\n          backspace() {\n            var e;\n            if (!this._coreService.decPrivateModes.reverseWraparound) return this._restrictCursor(), this._activeBuffer.x > 0 && this._activeBuffer.x--, !0;\n            if (this._restrictCursor(this._bufferService.cols), this._activeBuffer.x > 0) this._activeBuffer.x--;else if (0 === this._activeBuffer.x && this._activeBuffer.y > this._activeBuffer.scrollTop && this._activeBuffer.y <= this._activeBuffer.scrollBottom && (null === (e = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y)) || void 0 === e ? void 0 : e.isWrapped)) {\n              this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y).isWrapped = !1, this._activeBuffer.y--, this._activeBuffer.x = this._bufferService.cols - 1;\n              const e = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n              e.hasWidth(this._activeBuffer.x) && !e.hasContent(this._activeBuffer.x) && this._activeBuffer.x--;\n            }\n            return this._restrictCursor(), !0;\n          }\n          tab() {\n            if (this._activeBuffer.x >= this._bufferService.cols) return !0;\n            const e = this._activeBuffer.x;\n            return this._activeBuffer.x = this._activeBuffer.nextStop(), this._optionsService.rawOptions.screenReaderMode && this._onA11yTab.fire(this._activeBuffer.x - e), !0;\n          }\n          shiftOut() {\n            return this._charsetService.setgLevel(1), !0;\n          }\n          shiftIn() {\n            return this._charsetService.setgLevel(0), !0;\n          }\n          _restrictCursor() {\n            let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._bufferService.cols - 1;\n            this._activeBuffer.x = Math.min(e, Math.max(0, this._activeBuffer.x)), this._activeBuffer.y = this._coreService.decPrivateModes.origin ? Math.min(this._activeBuffer.scrollBottom, Math.max(this._activeBuffer.scrollTop, this._activeBuffer.y)) : Math.min(this._bufferService.rows - 1, Math.max(0, this._activeBuffer.y)), this._dirtyRowTracker.markDirty(this._activeBuffer.y);\n          }\n          _setCursor(e, t) {\n            this._dirtyRowTracker.markDirty(this._activeBuffer.y), this._coreService.decPrivateModes.origin ? (this._activeBuffer.x = e, this._activeBuffer.y = this._activeBuffer.scrollTop + t) : (this._activeBuffer.x = e, this._activeBuffer.y = t), this._restrictCursor(), this._dirtyRowTracker.markDirty(this._activeBuffer.y);\n          }\n          _moveCursor(e, t) {\n            this._restrictCursor(), this._setCursor(this._activeBuffer.x + e, this._activeBuffer.y + t);\n          }\n          cursorUp(e) {\n            const t = this._activeBuffer.y - this._activeBuffer.scrollTop;\n            return t >= 0 ? this._moveCursor(0, -Math.min(t, e.params[0] || 1)) : this._moveCursor(0, -(e.params[0] || 1)), !0;\n          }\n          cursorDown(e) {\n            const t = this._activeBuffer.scrollBottom - this._activeBuffer.y;\n            return t >= 0 ? this._moveCursor(0, Math.min(t, e.params[0] || 1)) : this._moveCursor(0, e.params[0] || 1), !0;\n          }\n          cursorForward(e) {\n            return this._moveCursor(e.params[0] || 1, 0), !0;\n          }\n          cursorBackward(e) {\n            return this._moveCursor(-(e.params[0] || 1), 0), !0;\n          }\n          cursorNextLine(e) {\n            return this.cursorDown(e), this._activeBuffer.x = 0, !0;\n          }\n          cursorPrecedingLine(e) {\n            return this.cursorUp(e), this._activeBuffer.x = 0, !0;\n          }\n          cursorCharAbsolute(e) {\n            return this._setCursor((e.params[0] || 1) - 1, this._activeBuffer.y), !0;\n          }\n          cursorPosition(e) {\n            return this._setCursor(e.length >= 2 ? (e.params[1] || 1) - 1 : 0, (e.params[0] || 1) - 1), !0;\n          }\n          charPosAbsolute(e) {\n            return this._setCursor((e.params[0] || 1) - 1, this._activeBuffer.y), !0;\n          }\n          hPositionRelative(e) {\n            return this._moveCursor(e.params[0] || 1, 0), !0;\n          }\n          linePosAbsolute(e) {\n            return this._setCursor(this._activeBuffer.x, (e.params[0] || 1) - 1), !0;\n          }\n          vPositionRelative(e) {\n            return this._moveCursor(0, e.params[0] || 1), !0;\n          }\n          hVPosition(e) {\n            return this.cursorPosition(e), !0;\n          }\n          tabClear(e) {\n            const t = e.params[0];\n            return 0 === t ? delete this._activeBuffer.tabs[this._activeBuffer.x] : 3 === t && (this._activeBuffer.tabs = {}), !0;\n          }\n          cursorForwardTab(e) {\n            if (this._activeBuffer.x >= this._bufferService.cols) return !0;\n            let t = e.params[0] || 1;\n            for (; t--;) this._activeBuffer.x = this._activeBuffer.nextStop();\n            return !0;\n          }\n          cursorBackwardTab(e) {\n            if (this._activeBuffer.x >= this._bufferService.cols) return !0;\n            let t = e.params[0] || 1;\n            for (; t--;) this._activeBuffer.x = this._activeBuffer.prevStop();\n            return !0;\n          }\n          selectProtected(e) {\n            const t = e.params[0];\n            return 1 === t && (this._curAttrData.bg |= 536870912), 2 !== t && 0 !== t || (this._curAttrData.bg &= -536870913), !0;\n          }\n          _eraseInBufferLine(e, t, i) {\n            let s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n            let r = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1;\n            const n = this._activeBuffer.lines.get(this._activeBuffer.ybase + e);\n            n.replaceCells(t, i, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData(), r), s && (n.isWrapped = !1);\n          }\n          _resetBufferLine(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n            const i = this._activeBuffer.lines.get(this._activeBuffer.ybase + e);\n            i && (i.fill(this._activeBuffer.getNullCell(this._eraseAttrData()), t), this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase + e), i.isWrapped = !1);\n          }\n          eraseInDisplay(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n            let i;\n            switch (this._restrictCursor(this._bufferService.cols), e.params[0]) {\n              case 0:\n                for (i = this._activeBuffer.y, this._dirtyRowTracker.markDirty(i), this._eraseInBufferLine(i++, this._activeBuffer.x, this._bufferService.cols, 0 === this._activeBuffer.x, t); i < this._bufferService.rows; i++) this._resetBufferLine(i, t);\n                this._dirtyRowTracker.markDirty(i);\n                break;\n              case 1:\n                for (i = this._activeBuffer.y, this._dirtyRowTracker.markDirty(i), this._eraseInBufferLine(i, 0, this._activeBuffer.x + 1, !0, t), this._activeBuffer.x + 1 >= this._bufferService.cols && (this._activeBuffer.lines.get(i + 1).isWrapped = !1); i--;) this._resetBufferLine(i, t);\n                this._dirtyRowTracker.markDirty(0);\n                break;\n              case 2:\n                for (i = this._bufferService.rows, this._dirtyRowTracker.markDirty(i - 1); i--;) this._resetBufferLine(i, t);\n                this._dirtyRowTracker.markDirty(0);\n                break;\n              case 3:\n                const e = this._activeBuffer.lines.length - this._bufferService.rows;\n                e > 0 && (this._activeBuffer.lines.trimStart(e), this._activeBuffer.ybase = Math.max(this._activeBuffer.ybase - e, 0), this._activeBuffer.ydisp = Math.max(this._activeBuffer.ydisp - e, 0), this._onScroll.fire(0));\n            }\n            return !0;\n          }\n          eraseInLine(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n            switch (this._restrictCursor(this._bufferService.cols), e.params[0]) {\n              case 0:\n                this._eraseInBufferLine(this._activeBuffer.y, this._activeBuffer.x, this._bufferService.cols, 0 === this._activeBuffer.x, t);\n                break;\n              case 1:\n                this._eraseInBufferLine(this._activeBuffer.y, 0, this._activeBuffer.x + 1, !1, t);\n                break;\n              case 2:\n                this._eraseInBufferLine(this._activeBuffer.y, 0, this._bufferService.cols, !0, t);\n            }\n            return this._dirtyRowTracker.markDirty(this._activeBuffer.y), !0;\n          }\n          insertLines(e) {\n            this._restrictCursor();\n            let t = e.params[0] || 1;\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n            const i = this._activeBuffer.ybase + this._activeBuffer.y,\n              s = this._bufferService.rows - 1 - this._activeBuffer.scrollBottom,\n              r = this._bufferService.rows - 1 + this._activeBuffer.ybase - s + 1;\n            for (; t--;) this._activeBuffer.lines.splice(r - 1, 1), this._activeBuffer.lines.splice(i, 0, this._activeBuffer.getBlankLine(this._eraseAttrData()));\n            return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y, this._activeBuffer.scrollBottom), this._activeBuffer.x = 0, !0;\n          }\n          deleteLines(e) {\n            this._restrictCursor();\n            let t = e.params[0] || 1;\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n            const i = this._activeBuffer.ybase + this._activeBuffer.y;\n            let s;\n            for (s = this._bufferService.rows - 1 - this._activeBuffer.scrollBottom, s = this._bufferService.rows - 1 + this._activeBuffer.ybase - s; t--;) this._activeBuffer.lines.splice(i, 1), this._activeBuffer.lines.splice(s, 0, this._activeBuffer.getBlankLine(this._eraseAttrData()));\n            return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y, this._activeBuffer.scrollBottom), this._activeBuffer.x = 0, !0;\n          }\n          insertChars(e) {\n            this._restrictCursor();\n            const t = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n            return t && (t.insertCells(this._activeBuffer.x, e.params[0] || 1, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), this._dirtyRowTracker.markDirty(this._activeBuffer.y)), !0;\n          }\n          deleteChars(e) {\n            this._restrictCursor();\n            const t = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n            return t && (t.deleteCells(this._activeBuffer.x, e.params[0] || 1, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), this._dirtyRowTracker.markDirty(this._activeBuffer.y)), !0;\n          }\n          scrollUp(e) {\n            let t = e.params[0] || 1;\n            for (; t--;) this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollTop, 1), this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollBottom, 0, this._activeBuffer.getBlankLine(this._eraseAttrData()));\n            return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }\n          scrollDown(e) {\n            let t = e.params[0] || 1;\n            for (; t--;) this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollBottom, 1), this._activeBuffer.lines.splice(this._activeBuffer.ybase + this._activeBuffer.scrollTop, 0, this._activeBuffer.getBlankLine(l.DEFAULT_ATTR_DATA));\n            return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }\n          scrollLeft(e) {\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n            const t = e.params[0] || 1;\n            for (let e = this._activeBuffer.scrollTop; e <= this._activeBuffer.scrollBottom; ++e) {\n              const i = this._activeBuffer.lines.get(this._activeBuffer.ybase + e);\n              i.deleteCells(0, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), i.isWrapped = !1;\n            }\n            return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }\n          scrollRight(e) {\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n            const t = e.params[0] || 1;\n            for (let e = this._activeBuffer.scrollTop; e <= this._activeBuffer.scrollBottom; ++e) {\n              const i = this._activeBuffer.lines.get(this._activeBuffer.ybase + e);\n              i.insertCells(0, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), i.isWrapped = !1;\n            }\n            return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }\n          insertColumns(e) {\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n            const t = e.params[0] || 1;\n            for (let e = this._activeBuffer.scrollTop; e <= this._activeBuffer.scrollBottom; ++e) {\n              const i = this._activeBuffer.lines.get(this._activeBuffer.ybase + e);\n              i.insertCells(this._activeBuffer.x, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), i.isWrapped = !1;\n            }\n            return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }\n          deleteColumns(e) {\n            if (this._activeBuffer.y > this._activeBuffer.scrollBottom || this._activeBuffer.y < this._activeBuffer.scrollTop) return !0;\n            const t = e.params[0] || 1;\n            for (let e = this._activeBuffer.scrollTop; e <= this._activeBuffer.scrollBottom; ++e) {\n              const i = this._activeBuffer.lines.get(this._activeBuffer.ybase + e);\n              i.deleteCells(this._activeBuffer.x, t, this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), i.isWrapped = !1;\n            }\n            return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom), !0;\n          }\n          eraseChars(e) {\n            this._restrictCursor();\n            const t = this._activeBuffer.lines.get(this._activeBuffer.ybase + this._activeBuffer.y);\n            return t && (t.replaceCells(this._activeBuffer.x, this._activeBuffer.x + (e.params[0] || 1), this._activeBuffer.getNullCell(this._eraseAttrData()), this._eraseAttrData()), this._dirtyRowTracker.markDirty(this._activeBuffer.y)), !0;\n          }\n          repeatPrecedingCharacter(e) {\n            if (!this._parser.precedingCodepoint) return !0;\n            const t = e.params[0] || 1,\n              i = new Uint32Array(t);\n            for (let e = 0; e < t; ++e) i[e] = this._parser.precedingCodepoint;\n            return this.print(i, 0, i.length), !0;\n          }\n          sendDeviceAttributesPrimary(e) {\n            return e.params[0] > 0 || (this._is(\"xterm\") || this._is(\"rxvt-unicode\") || this._is(\"screen\") ? this._coreService.triggerDataEvent(n.C0.ESC + \"[?1;2c\") : this._is(\"linux\") && this._coreService.triggerDataEvent(n.C0.ESC + \"[?6c\")), !0;\n          }\n          sendDeviceAttributesSecondary(e) {\n            return e.params[0] > 0 || (this._is(\"xterm\") ? this._coreService.triggerDataEvent(n.C0.ESC + \"[>0;276;0c\") : this._is(\"rxvt-unicode\") ? this._coreService.triggerDataEvent(n.C0.ESC + \"[>85;95;0c\") : this._is(\"linux\") ? this._coreService.triggerDataEvent(e.params[0] + \"c\") : this._is(\"screen\") && this._coreService.triggerDataEvent(n.C0.ESC + \"[>83;40003;0c\")), !0;\n          }\n          _is(e) {\n            return 0 === (this._optionsService.rawOptions.termName + \"\").indexOf(e);\n          }\n          setMode(e) {\n            for (let t = 0; t < e.length; t++) switch (e.params[t]) {\n              case 4:\n                this._coreService.modes.insertMode = !0;\n                break;\n              case 20:\n                this._optionsService.options.convertEol = !0;\n            }\n            return !0;\n          }\n          setModePrivate(e) {\n            for (let t = 0; t < e.length; t++) switch (e.params[t]) {\n              case 1:\n                this._coreService.decPrivateModes.applicationCursorKeys = !0;\n                break;\n              case 2:\n                this._charsetService.setgCharset(0, o.DEFAULT_CHARSET), this._charsetService.setgCharset(1, o.DEFAULT_CHARSET), this._charsetService.setgCharset(2, o.DEFAULT_CHARSET), this._charsetService.setgCharset(3, o.DEFAULT_CHARSET);\n                break;\n              case 3:\n                this._optionsService.rawOptions.windowOptions.setWinLines && (this._bufferService.resize(132, this._bufferService.rows), this._onRequestReset.fire());\n                break;\n              case 6:\n                this._coreService.decPrivateModes.origin = !0, this._setCursor(0, 0);\n                break;\n              case 7:\n                this._coreService.decPrivateModes.wraparound = !0;\n                break;\n              case 12:\n                this._optionsService.options.cursorBlink = !0;\n                break;\n              case 45:\n                this._coreService.decPrivateModes.reverseWraparound = !0;\n                break;\n              case 66:\n                this._logService.debug(\"Serial port requested application keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !0, this._onRequestSyncScrollBar.fire();\n                break;\n              case 9:\n                this._coreMouseService.activeProtocol = \"X10\";\n                break;\n              case 1e3:\n                this._coreMouseService.activeProtocol = \"VT200\";\n                break;\n              case 1002:\n                this._coreMouseService.activeProtocol = \"DRAG\";\n                break;\n              case 1003:\n                this._coreMouseService.activeProtocol = \"ANY\";\n                break;\n              case 1004:\n                this._coreService.decPrivateModes.sendFocus = !0, this._onRequestSendFocus.fire();\n                break;\n              case 1005:\n                this._logService.debug(\"DECSET 1005 not supported (see #2507)\");\n                break;\n              case 1006:\n                this._coreMouseService.activeEncoding = \"SGR\";\n                break;\n              case 1015:\n                this._logService.debug(\"DECSET 1015 not supported (see #2507)\");\n                break;\n              case 1016:\n                this._coreMouseService.activeEncoding = \"SGR_PIXELS\";\n                break;\n              case 25:\n                this._coreService.isCursorHidden = !1;\n                break;\n              case 1048:\n                this.saveCursor();\n                break;\n              case 1049:\n                this.saveCursor();\n              case 47:\n              case 1047:\n                this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()), this._coreService.isCursorInitialized = !0, this._onRequestRefreshRows.fire(0, this._bufferService.rows - 1), this._onRequestSyncScrollBar.fire();\n                break;\n              case 2004:\n                this._coreService.decPrivateModes.bracketedPasteMode = !0;\n            }\n            return !0;\n          }\n          resetMode(e) {\n            for (let t = 0; t < e.length; t++) switch (e.params[t]) {\n              case 4:\n                this._coreService.modes.insertMode = !1;\n                break;\n              case 20:\n                this._optionsService.options.convertEol = !1;\n            }\n            return !0;\n          }\n          resetModePrivate(e) {\n            for (let t = 0; t < e.length; t++) switch (e.params[t]) {\n              case 1:\n                this._coreService.decPrivateModes.applicationCursorKeys = !1;\n                break;\n              case 3:\n                this._optionsService.rawOptions.windowOptions.setWinLines && (this._bufferService.resize(80, this._bufferService.rows), this._onRequestReset.fire());\n                break;\n              case 6:\n                this._coreService.decPrivateModes.origin = !1, this._setCursor(0, 0);\n                break;\n              case 7:\n                this._coreService.decPrivateModes.wraparound = !1;\n                break;\n              case 12:\n                this._optionsService.options.cursorBlink = !1;\n                break;\n              case 45:\n                this._coreService.decPrivateModes.reverseWraparound = !1;\n                break;\n              case 66:\n                this._logService.debug(\"Switching back to normal keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !1, this._onRequestSyncScrollBar.fire();\n                break;\n              case 9:\n              case 1e3:\n              case 1002:\n              case 1003:\n                this._coreMouseService.activeProtocol = \"NONE\";\n                break;\n              case 1004:\n                this._coreService.decPrivateModes.sendFocus = !1;\n                break;\n              case 1005:\n                this._logService.debug(\"DECRST 1005 not supported (see #2507)\");\n                break;\n              case 1006:\n              case 1016:\n                this._coreMouseService.activeEncoding = \"DEFAULT\";\n                break;\n              case 1015:\n                this._logService.debug(\"DECRST 1015 not supported (see #2507)\");\n                break;\n              case 25:\n                this._coreService.isCursorHidden = !0;\n                break;\n              case 1048:\n                this.restoreCursor();\n                break;\n              case 1049:\n              case 47:\n              case 1047:\n                this._bufferService.buffers.activateNormalBuffer(), 1049 === e.params[t] && this.restoreCursor(), this._coreService.isCursorInitialized = !0, this._onRequestRefreshRows.fire(0, this._bufferService.rows - 1), this._onRequestSyncScrollBar.fire();\n                break;\n              case 2004:\n                this._coreService.decPrivateModes.bracketedPasteMode = !1;\n            }\n            return !0;\n          }\n          requestMode(e, t) {\n            const i = this._coreService.decPrivateModes,\n              {\n                activeProtocol: s,\n                activeEncoding: r\n              } = this._coreMouseService,\n              o = this._coreService,\n              {\n                buffers: a,\n                cols: h\n              } = this._bufferService,\n              {\n                active: c,\n                alt: l\n              } = a,\n              d = this._optionsService.rawOptions,\n              _ = e => e ? 1 : 2,\n              u = e.params[0];\n            return f = u, v = t ? 2 === u ? 4 : 4 === u ? _(o.modes.insertMode) : 12 === u ? 3 : 20 === u ? _(d.convertEol) : 0 : 1 === u ? _(i.applicationCursorKeys) : 3 === u ? d.windowOptions.setWinLines ? 80 === h ? 2 : 132 === h ? 1 : 0 : 0 : 6 === u ? _(i.origin) : 7 === u ? _(i.wraparound) : 8 === u ? 3 : 9 === u ? _(\"X10\" === s) : 12 === u ? _(d.cursorBlink) : 25 === u ? _(!o.isCursorHidden) : 45 === u ? _(i.reverseWraparound) : 66 === u ? _(i.applicationKeypad) : 67 === u ? 4 : 1e3 === u ? _(\"VT200\" === s) : 1002 === u ? _(\"DRAG\" === s) : 1003 === u ? _(\"ANY\" === s) : 1004 === u ? _(i.sendFocus) : 1005 === u ? 4 : 1006 === u ? _(\"SGR\" === r) : 1015 === u ? 4 : 1016 === u ? _(\"SGR_PIXELS\" === r) : 1048 === u ? 1 : 47 === u || 1047 === u || 1049 === u ? _(c === l) : 2004 === u ? _(i.bracketedPasteMode) : 0, o.triggerDataEvent(\"\".concat(n.C0.ESC, \"[\").concat(t ? \"\" : \"?\").concat(f, \";\").concat(v, \"$y\")), !0;\n            var f, v;\n          }\n          _updateAttrColor(e, t, i, s, r) {\n            return 2 === t ? (e |= 50331648, e &= -16777216, e |= f.AttributeData.fromColorRGB([i, s, r])) : 5 === t && (e &= -50331904, e |= 33554432 | 255 & i), e;\n          }\n          _extractColor(e, t, i) {\n            const s = [0, 0, -1, 0, 0, 0];\n            let r = 0,\n              n = 0;\n            do {\n              if (s[n + r] = e.params[t + n], e.hasSubParams(t + n)) {\n                const i = e.getSubParams(t + n);\n                let o = 0;\n                do {\n                  5 === s[1] && (r = 1), s[n + o + 1 + r] = i[o];\n                } while (++o < i.length && o + n + 1 + r < s.length);\n                break;\n              }\n              if (5 === s[1] && n + r >= 2 || 2 === s[1] && n + r >= 5) break;\n              s[1] && (r = 1);\n            } while (++n + t < e.length && n + r < s.length);\n            for (let e = 2; e < s.length; ++e) -1 === s[e] && (s[e] = 0);\n            switch (s[0]) {\n              case 38:\n                i.fg = this._updateAttrColor(i.fg, s[1], s[3], s[4], s[5]);\n                break;\n              case 48:\n                i.bg = this._updateAttrColor(i.bg, s[1], s[3], s[4], s[5]);\n                break;\n              case 58:\n                i.extended = i.extended.clone(), i.extended.underlineColor = this._updateAttrColor(i.extended.underlineColor, s[1], s[3], s[4], s[5]);\n            }\n            return n;\n          }\n          _processUnderline(e, t) {\n            t.extended = t.extended.clone(), (!~e || e > 5) && (e = 1), t.extended.underlineStyle = e, t.fg |= 268435456, 0 === e && (t.fg &= -268435457), t.updateExtended();\n          }\n          _processSGR0(e) {\n            e.fg = l.DEFAULT_ATTR_DATA.fg, e.bg = l.DEFAULT_ATTR_DATA.bg, e.extended = e.extended.clone(), e.extended.underlineStyle = 0, e.extended.underlineColor &= -67108864, e.updateExtended();\n          }\n          charAttributes(e) {\n            if (1 === e.length && 0 === e.params[0]) return this._processSGR0(this._curAttrData), !0;\n            const t = e.length;\n            let i;\n            const s = this._curAttrData;\n            for (let r = 0; r < t; r++) i = e.params[r], i >= 30 && i <= 37 ? (s.fg &= -50331904, s.fg |= 16777216 | i - 30) : i >= 40 && i <= 47 ? (s.bg &= -50331904, s.bg |= 16777216 | i - 40) : i >= 90 && i <= 97 ? (s.fg &= -50331904, s.fg |= 16777224 | i - 90) : i >= 100 && i <= 107 ? (s.bg &= -50331904, s.bg |= 16777224 | i - 100) : 0 === i ? this._processSGR0(s) : 1 === i ? s.fg |= 134217728 : 3 === i ? s.bg |= 67108864 : 4 === i ? (s.fg |= 268435456, this._processUnderline(e.hasSubParams(r) ? e.getSubParams(r)[0] : 1, s)) : 5 === i ? s.fg |= 536870912 : 7 === i ? s.fg |= 67108864 : 8 === i ? s.fg |= 1073741824 : 9 === i ? s.fg |= 2147483648 : 2 === i ? s.bg |= 134217728 : 21 === i ? this._processUnderline(2, s) : 22 === i ? (s.fg &= -134217729, s.bg &= -134217729) : 23 === i ? s.bg &= -67108865 : 24 === i ? (s.fg &= -268435457, this._processUnderline(0, s)) : 25 === i ? s.fg &= -536870913 : 27 === i ? s.fg &= -67108865 : 28 === i ? s.fg &= -1073741825 : 29 === i ? s.fg &= 2147483647 : 39 === i ? (s.fg &= -67108864, s.fg |= 16777215 & l.DEFAULT_ATTR_DATA.fg) : 49 === i ? (s.bg &= -67108864, s.bg |= 16777215 & l.DEFAULT_ATTR_DATA.bg) : 38 === i || 48 === i || 58 === i ? r += this._extractColor(e, r, s) : 53 === i ? s.bg |= 1073741824 : 55 === i ? s.bg &= -1073741825 : 59 === i ? (s.extended = s.extended.clone(), s.extended.underlineColor = -1, s.updateExtended()) : 100 === i ? (s.fg &= -67108864, s.fg |= 16777215 & l.DEFAULT_ATTR_DATA.fg, s.bg &= -67108864, s.bg |= 16777215 & l.DEFAULT_ATTR_DATA.bg) : this._logService.debug(\"Unknown SGR attribute: %d.\", i);\n            return !0;\n          }\n          deviceStatus(e) {\n            switch (e.params[0]) {\n              case 5:\n                this._coreService.triggerDataEvent(\"\".concat(n.C0.ESC, \"[0n\"));\n                break;\n              case 6:\n                const e = this._activeBuffer.y + 1,\n                  t = this._activeBuffer.x + 1;\n                this._coreService.triggerDataEvent(\"\".concat(n.C0.ESC, \"[\").concat(e, \";\").concat(t, \"R\"));\n            }\n            return !0;\n          }\n          deviceStatusPrivate(e) {\n            if (6 === e.params[0]) {\n              const e = this._activeBuffer.y + 1,\n                t = this._activeBuffer.x + 1;\n              this._coreService.triggerDataEvent(\"\".concat(n.C0.ESC, \"[?\").concat(e, \";\").concat(t, \"R\"));\n            }\n            return !0;\n          }\n          softReset(e) {\n            return this._coreService.isCursorHidden = !1, this._onRequestSyncScrollBar.fire(), this._activeBuffer.scrollTop = 0, this._activeBuffer.scrollBottom = this._bufferService.rows - 1, this._curAttrData = l.DEFAULT_ATTR_DATA.clone(), this._coreService.reset(), this._charsetService.reset(), this._activeBuffer.savedX = 0, this._activeBuffer.savedY = this._activeBuffer.ybase, this._activeBuffer.savedCurAttrData.fg = this._curAttrData.fg, this._activeBuffer.savedCurAttrData.bg = this._curAttrData.bg, this._activeBuffer.savedCharset = this._charsetService.charset, this._coreService.decPrivateModes.origin = !1, !0;\n          }\n          setCursorStyle(e) {\n            const t = e.params[0] || 1;\n            switch (t) {\n              case 1:\n              case 2:\n                this._optionsService.options.cursorStyle = \"block\";\n                break;\n              case 3:\n              case 4:\n                this._optionsService.options.cursorStyle = \"underline\";\n                break;\n              case 5:\n              case 6:\n                this._optionsService.options.cursorStyle = \"bar\";\n            }\n            const i = t % 2 == 1;\n            return this._optionsService.options.cursorBlink = i, !0;\n          }\n          setScrollRegion(e) {\n            const t = e.params[0] || 1;\n            let i;\n            return (e.length < 2 || (i = e.params[1]) > this._bufferService.rows || 0 === i) && (i = this._bufferService.rows), i > t && (this._activeBuffer.scrollTop = t - 1, this._activeBuffer.scrollBottom = i - 1, this._setCursor(0, 0)), !0;\n          }\n          windowOptions(e) {\n            if (!b(e.params[0], this._optionsService.rawOptions.windowOptions)) return !0;\n            const t = e.length > 1 ? e.params[1] : 0;\n            switch (e.params[0]) {\n              case 14:\n                2 !== t && this._onRequestWindowsOptionsReport.fire(y.GET_WIN_SIZE_PIXELS);\n                break;\n              case 16:\n                this._onRequestWindowsOptionsReport.fire(y.GET_CELL_SIZE_PIXELS);\n                break;\n              case 18:\n                this._bufferService && this._coreService.triggerDataEvent(\"\".concat(n.C0.ESC, \"[8;\").concat(this._bufferService.rows, \";\").concat(this._bufferService.cols, \"t\"));\n                break;\n              case 22:\n                0 !== t && 2 !== t || (this._windowTitleStack.push(this._windowTitle), this._windowTitleStack.length > 10 && this._windowTitleStack.shift()), 0 !== t && 1 !== t || (this._iconNameStack.push(this._iconName), this._iconNameStack.length > 10 && this._iconNameStack.shift());\n                break;\n              case 23:\n                0 !== t && 2 !== t || this._windowTitleStack.length && this.setTitle(this._windowTitleStack.pop()), 0 !== t && 1 !== t || this._iconNameStack.length && this.setIconName(this._iconNameStack.pop());\n            }\n            return !0;\n          }\n          saveCursor(e) {\n            return this._activeBuffer.savedX = this._activeBuffer.x, this._activeBuffer.savedY = this._activeBuffer.ybase + this._activeBuffer.y, this._activeBuffer.savedCurAttrData.fg = this._curAttrData.fg, this._activeBuffer.savedCurAttrData.bg = this._curAttrData.bg, this._activeBuffer.savedCharset = this._charsetService.charset, !0;\n          }\n          restoreCursor(e) {\n            return this._activeBuffer.x = this._activeBuffer.savedX || 0, this._activeBuffer.y = Math.max(this._activeBuffer.savedY - this._activeBuffer.ybase, 0), this._curAttrData.fg = this._activeBuffer.savedCurAttrData.fg, this._curAttrData.bg = this._activeBuffer.savedCurAttrData.bg, this._charsetService.charset = this._savedCharset, this._activeBuffer.savedCharset && (this._charsetService.charset = this._activeBuffer.savedCharset), this._restrictCursor(), !0;\n          }\n          setTitle(e) {\n            return this._windowTitle = e, this._onTitleChange.fire(e), !0;\n          }\n          setIconName(e) {\n            return this._iconName = e, !0;\n          }\n          setOrReportIndexedColor(e) {\n            const t = [],\n              i = e.split(\";\");\n            for (; i.length > 1;) {\n              const e = i.shift(),\n                s = i.shift();\n              if (/^\\d+$/.exec(e)) {\n                const i = parseInt(e);\n                if (0 <= i && i < 256) if (\"?\" === s) t.push({\n                  type: 0,\n                  index: i\n                });else {\n                  const e = (0, S.parseColor)(s);\n                  e && t.push({\n                    type: 1,\n                    index: i,\n                    color: e\n                  });\n                }\n              }\n            }\n            return t.length && this._onColor.fire(t), !0;\n          }\n          setHyperlink(e) {\n            const t = e.split(\";\");\n            return !(t.length < 2) && (t[1] ? this._createHyperlink(t[0], t[1]) : !t[0] && this._finishHyperlink());\n          }\n          _createHyperlink(e, t) {\n            this._getCurrentLinkId() && this._finishHyperlink();\n            const i = e.split(\":\");\n            let s;\n            const r = i.findIndex(e => e.startsWith(\"id=\"));\n            return -1 !== r && (s = i[r].slice(3) || void 0), this._curAttrData.extended = this._curAttrData.extended.clone(), this._curAttrData.extended.urlId = this._oscLinkService.registerLink({\n              id: s,\n              uri: t\n            }), this._curAttrData.updateExtended(), !0;\n          }\n          _finishHyperlink() {\n            return this._curAttrData.extended = this._curAttrData.extended.clone(), this._curAttrData.extended.urlId = 0, this._curAttrData.updateExtended(), !0;\n          }\n          _setOrReportSpecialColor(e, t) {\n            const i = e.split(\";\");\n            for (let e = 0; e < i.length && !(t >= this._specialColors.length); ++e, ++t) if (\"?\" === i[e]) this._onColor.fire([{\n              type: 0,\n              index: this._specialColors[t]\n            }]);else {\n              const s = (0, S.parseColor)(i[e]);\n              s && this._onColor.fire([{\n                type: 1,\n                index: this._specialColors[t],\n                color: s\n              }]);\n            }\n            return !0;\n          }\n          setOrReportFgColor(e) {\n            return this._setOrReportSpecialColor(e, 0);\n          }\n          setOrReportBgColor(e) {\n            return this._setOrReportSpecialColor(e, 1);\n          }\n          setOrReportCursorColor(e) {\n            return this._setOrReportSpecialColor(e, 2);\n          }\n          restoreIndexedColor(e) {\n            if (!e) return this._onColor.fire([{\n              type: 2\n            }]), !0;\n            const t = [],\n              i = e.split(\";\");\n            for (let e = 0; e < i.length; ++e) if (/^\\d+$/.exec(i[e])) {\n              const s = parseInt(i[e]);\n              0 <= s && s < 256 && t.push({\n                type: 2,\n                index: s\n              });\n            }\n            return t.length && this._onColor.fire(t), !0;\n          }\n          restoreFgColor(e) {\n            return this._onColor.fire([{\n              type: 2,\n              index: 256\n            }]), !0;\n          }\n          restoreBgColor(e) {\n            return this._onColor.fire([{\n              type: 2,\n              index: 257\n            }]), !0;\n          }\n          restoreCursorColor(e) {\n            return this._onColor.fire([{\n              type: 2,\n              index: 258\n            }]), !0;\n          }\n          nextLine() {\n            return this._activeBuffer.x = 0, this.index(), !0;\n          }\n          keypadApplicationMode() {\n            return this._logService.debug(\"Serial port requested application keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !0, this._onRequestSyncScrollBar.fire(), !0;\n          }\n          keypadNumericMode() {\n            return this._logService.debug(\"Switching back to normal keypad.\"), this._coreService.decPrivateModes.applicationKeypad = !1, this._onRequestSyncScrollBar.fire(), !0;\n          }\n          selectDefaultCharset() {\n            return this._charsetService.setgLevel(0), this._charsetService.setgCharset(0, o.DEFAULT_CHARSET), !0;\n          }\n          selectCharset(e) {\n            return 2 !== e.length ? (this.selectDefaultCharset(), !0) : (\"/\" === e[0] || this._charsetService.setgCharset(m[e[0]], o.CHARSETS[e[1]] || o.DEFAULT_CHARSET), !0);\n          }\n          index() {\n            return this._restrictCursor(), this._activeBuffer.y++, this._activeBuffer.y === this._activeBuffer.scrollBottom + 1 ? (this._activeBuffer.y--, this._bufferService.scroll(this._eraseAttrData())) : this._activeBuffer.y >= this._bufferService.rows && (this._activeBuffer.y = this._bufferService.rows - 1), this._restrictCursor(), !0;\n          }\n          tabSet() {\n            return this._activeBuffer.tabs[this._activeBuffer.x] = !0, !0;\n          }\n          reverseIndex() {\n            if (this._restrictCursor(), this._activeBuffer.y === this._activeBuffer.scrollTop) {\n              const e = this._activeBuffer.scrollBottom - this._activeBuffer.scrollTop;\n              this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase + this._activeBuffer.y, e, 1), this._activeBuffer.lines.set(this._activeBuffer.ybase + this._activeBuffer.y, this._activeBuffer.getBlankLine(this._eraseAttrData())), this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop, this._activeBuffer.scrollBottom);\n            } else this._activeBuffer.y--, this._restrictCursor();\n            return !0;\n          }\n          fullReset() {\n            return this._parser.reset(), this._onRequestReset.fire(), !0;\n          }\n          reset() {\n            this._curAttrData = l.DEFAULT_ATTR_DATA.clone(), this._eraseAttrDataInternal = l.DEFAULT_ATTR_DATA.clone();\n          }\n          _eraseAttrData() {\n            return this._eraseAttrDataInternal.bg &= -67108864, this._eraseAttrDataInternal.bg |= 67108863 & this._curAttrData.bg, this._eraseAttrDataInternal;\n          }\n          setgLevel(e) {\n            return this._charsetService.setgLevel(e), !0;\n          }\n          screenAlignmentPattern() {\n            const e = new u.CellData();\n            e.content = 1 << 22 | \"E\".charCodeAt(0), e.fg = this._curAttrData.fg, e.bg = this._curAttrData.bg, this._setCursor(0, 0);\n            for (let t = 0; t < this._bufferService.rows; ++t) {\n              const i = this._activeBuffer.ybase + this._activeBuffer.y + t,\n                s = this._activeBuffer.lines.get(i);\n              s && (s.fill(e), s.isWrapped = !1);\n            }\n            return this._dirtyRowTracker.markAllDirty(), this._setCursor(0, 0), !0;\n          }\n          requestStatusString(e, t) {\n            const i = this._bufferService.buffer,\n              s = this._optionsService.rawOptions;\n            return (e => (this._coreService.triggerDataEvent(\"\".concat(n.C0.ESC).concat(e).concat(n.C0.ESC, \"\\\\\")), !0))('\"q' === e ? \"P1$r\".concat(this._curAttrData.isProtected() ? 1 : 0, \"\\\"q\") : '\"p' === e ? 'P1$r61;1\"p' : \"r\" === e ? \"P1$r\".concat(i.scrollTop + 1, \";\").concat(i.scrollBottom + 1, \"r\") : \"m\" === e ? \"P1$r0m\" : \" q\" === e ? \"P1$r\".concat({\n              block: 2,\n              underline: 4,\n              bar: 6\n            }[s.cursorStyle] - (s.cursorBlink ? 1 : 0), \" q\") : \"P0$r\");\n          }\n          markRangeDirty(e, t) {\n            this._dirtyRowTracker.markRangeDirty(e, t);\n          }\n        }\n        t.InputHandler = E;\n        let L = class {\n          constructor(e) {\n            this._bufferService = e, this.clearRange();\n          }\n          clearRange() {\n            this.start = this._bufferService.buffer.y, this.end = this._bufferService.buffer.y;\n          }\n          markDirty(e) {\n            e < this.start ? this.start = e : e > this.end && (this.end = e);\n          }\n          markRangeDirty(e, t) {\n            e > t && (w = e, e = t, t = w), e < this.start && (this.start = e), t > this.end && (this.end = t);\n          }\n          markAllDirty() {\n            this.markRangeDirty(0, this._bufferService.rows - 1);\n          }\n        };\n        L = s([r(0, v.IBufferService)], L);\n      },\n      844: (e, t) => {\n        function i(e) {\n          for (const t of e) t.dispose();\n          e.length = 0;\n        }\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.getDisposeArrayDisposable = t.disposeArray = t.toDisposable = t.Disposable = void 0, t.Disposable = class {\n          constructor() {\n            this._disposables = [], this._isDisposed = !1;\n          }\n          dispose() {\n            this._isDisposed = !0;\n            for (const e of this._disposables) e.dispose();\n            this._disposables.length = 0;\n          }\n          register(e) {\n            return this._disposables.push(e), e;\n          }\n          unregister(e) {\n            const t = this._disposables.indexOf(e);\n            -1 !== t && this._disposables.splice(t, 1);\n          }\n        }, t.toDisposable = function (e) {\n          return {\n            dispose: e\n          };\n        }, t.disposeArray = i, t.getDisposeArrayDisposable = function (e) {\n          return {\n            dispose: () => i(e)\n          };\n        };\n      },\n      1505: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.FourKeyMap = t.TwoKeyMap = void 0;\n        class i {\n          constructor() {\n            this._data = {};\n          }\n          set(e, t, i) {\n            this._data[e] || (this._data[e] = {}), this._data[e][t] = i;\n          }\n          get(e, t) {\n            return this._data[e] ? this._data[e][t] : void 0;\n          }\n          clear() {\n            this._data = {};\n          }\n        }\n        t.TwoKeyMap = i, t.FourKeyMap = class {\n          constructor() {\n            this._data = new i();\n          }\n          set(e, t, s, r, n) {\n            this._data.get(e, t) || this._data.set(e, t, new i()), this._data.get(e, t).set(s, r, n);\n          }\n          get(e, t, i, s) {\n            var r;\n            return null === (r = this._data.get(e, t)) || void 0 === r ? void 0 : r.get(i, s);\n          }\n          clear() {\n            this._data.clear();\n          }\n        };\n      },\n      6114: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.isChromeOS = t.isLinux = t.isWindows = t.isIphone = t.isIpad = t.isMac = t.getSafariVersion = t.isSafari = t.isLegacyEdge = t.isFirefox = t.isNode = void 0, t.isNode = \"undefined\" == typeof navigator;\n        const i = t.isNode ? \"node\" : navigator.userAgent,\n          s = t.isNode ? \"node\" : navigator.platform;\n        t.isFirefox = i.includes(\"Firefox\"), t.isLegacyEdge = i.includes(\"Edge\"), t.isSafari = /^((?!chrome|android).)*safari/i.test(i), t.getSafariVersion = function () {\n          if (!t.isSafari) return 0;\n          const e = i.match(/Version\\/(\\d+)/);\n          return null === e || e.length < 2 ? 0 : parseInt(e[1]);\n        }, t.isMac = [\"Macintosh\", \"MacIntel\", \"MacPPC\", \"Mac68K\"].includes(s), t.isIpad = \"iPad\" === s, t.isIphone = \"iPhone\" === s, t.isWindows = [\"Windows\", \"Win16\", \"Win32\", \"WinCE\"].includes(s), t.isLinux = s.indexOf(\"Linux\") >= 0, t.isChromeOS = /\\bCrOS\\b/.test(i);\n      },\n      6106: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.SortedList = void 0;\n        let i = 0;\n        t.SortedList = class {\n          constructor(e) {\n            this._getKey = e, this._array = [];\n          }\n          clear() {\n            this._array.length = 0;\n          }\n          insert(e) {\n            0 !== this._array.length ? (i = this._search(this._getKey(e), 0, this._array.length - 1), this._array.splice(i, 0, e)) : this._array.push(e);\n          }\n          delete(e) {\n            if (0 === this._array.length) return !1;\n            const t = this._getKey(e);\n            if (void 0 === t) return !1;\n            if (i = this._search(t, 0, this._array.length - 1), -1 === i) return !1;\n            if (this._getKey(this._array[i]) !== t) return !1;\n            do {\n              if (this._array[i] === e) return this._array.splice(i, 1), !0;\n            } while (++i < this._array.length && this._getKey(this._array[i]) === t);\n            return !1;\n          }\n          *getKeyIterator(e) {\n            if (0 !== this._array.length && (i = this._search(e, 0, this._array.length - 1), !(i < 0 || i >= this._array.length) && this._getKey(this._array[i]) === e)) do {\n              yield this._array[i];\n            } while (++i < this._array.length && this._getKey(this._array[i]) === e);\n          }\n          forEachByKey(e, t) {\n            if (0 !== this._array.length && (i = this._search(e, 0, this._array.length - 1), !(i < 0 || i >= this._array.length) && this._getKey(this._array[i]) === e)) do {\n              t(this._array[i]);\n            } while (++i < this._array.length && this._getKey(this._array[i]) === e);\n          }\n          values() {\n            return this._array.values();\n          }\n          _search(e, t, i) {\n            if (i < t) return t;\n            let s = Math.floor((t + i) / 2);\n            const r = this._getKey(this._array[s]);\n            if (r > e) return this._search(e, t, s - 1);\n            if (r < e) return this._search(e, s + 1, i);\n            for (; s > 0 && this._getKey(this._array[s - 1]) === e;) s--;\n            return s;\n          }\n        };\n      },\n      7226: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.DebouncedIdleTask = t.IdleTaskQueue = t.PriorityTaskQueue = void 0;\n        const s = i(6114);\n        class r {\n          constructor() {\n            this._tasks = [], this._i = 0;\n          }\n          enqueue(e) {\n            this._tasks.push(e), this._start();\n          }\n          flush() {\n            for (; this._i < this._tasks.length;) this._tasks[this._i]() || this._i++;\n            this.clear();\n          }\n          clear() {\n            this._idleCallback && (this._cancelCallback(this._idleCallback), this._idleCallback = void 0), this._i = 0, this._tasks.length = 0;\n          }\n          _start() {\n            this._idleCallback || (this._idleCallback = this._requestCallback(this._process.bind(this)));\n          }\n          _process(e) {\n            this._idleCallback = void 0;\n            let t = 0,\n              i = 0,\n              s = e.timeRemaining(),\n              r = 0;\n            for (; this._i < this._tasks.length;) {\n              if (t = Date.now(), this._tasks[this._i]() || this._i++, t = Math.max(1, Date.now() - t), i = Math.max(t, i), r = e.timeRemaining(), 1.5 * i > r) return s - t < -20 && console.warn(\"task queue exceeded allotted deadline by \".concat(Math.abs(Math.round(s - t)), \"ms\")), void this._start();\n              s = r;\n            }\n            this.clear();\n          }\n        }\n        class n extends r {\n          _requestCallback(e) {\n            return setTimeout(() => e(this._createDeadline(16)));\n          }\n          _cancelCallback(e) {\n            clearTimeout(e);\n          }\n          _createDeadline(e) {\n            const t = Date.now() + e;\n            return {\n              timeRemaining: () => Math.max(0, t - Date.now())\n            };\n          }\n        }\n        t.PriorityTaskQueue = n, t.IdleTaskQueue = !s.isNode && \"requestIdleCallback\" in window ? class extends r {\n          _requestCallback(e) {\n            return requestIdleCallback(e);\n          }\n          _cancelCallback(e) {\n            cancelIdleCallback(e);\n          }\n        } : n, t.DebouncedIdleTask = class {\n          constructor() {\n            this._queue = new t.IdleTaskQueue();\n          }\n          set(e) {\n            this._queue.clear(), this._queue.enqueue(e);\n          }\n          flush() {\n            this._queue.flush();\n          }\n        };\n      },\n      9282: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.updateWindowsModeWrappedState = void 0;\n        const s = i(643);\n        t.updateWindowsModeWrappedState = function (e) {\n          const t = e.buffer.lines.get(e.buffer.ybase + e.buffer.y - 1),\n            i = null == t ? void 0 : t.get(e.cols - 1),\n            r = e.buffer.lines.get(e.buffer.ybase + e.buffer.y);\n          r && i && (r.isWrapped = i[s.CHAR_DATA_CODE_INDEX] !== s.NULL_CELL_CODE && i[s.CHAR_DATA_CODE_INDEX] !== s.WHITESPACE_CELL_CODE);\n        };\n      },\n      3734: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ExtendedAttrs = t.AttributeData = void 0;\n        class i {\n          constructor() {\n            this.fg = 0, this.bg = 0, this.extended = new s();\n          }\n          static toColorRGB(e) {\n            return [e >>> 16 & 255, e >>> 8 & 255, 255 & e];\n          }\n          static fromColorRGB(e) {\n            return (255 & e[0]) << 16 | (255 & e[1]) << 8 | 255 & e[2];\n          }\n          clone() {\n            const e = new i();\n            return e.fg = this.fg, e.bg = this.bg, e.extended = this.extended.clone(), e;\n          }\n          isInverse() {\n            return 67108864 & this.fg;\n          }\n          isBold() {\n            return 134217728 & this.fg;\n          }\n          isUnderline() {\n            return this.hasExtendedAttrs() && 0 !== this.extended.underlineStyle ? 1 : 268435456 & this.fg;\n          }\n          isBlink() {\n            return 536870912 & this.fg;\n          }\n          isInvisible() {\n            return 1073741824 & this.fg;\n          }\n          isItalic() {\n            return 67108864 & this.bg;\n          }\n          isDim() {\n            return 134217728 & this.bg;\n          }\n          isStrikethrough() {\n            return 2147483648 & this.fg;\n          }\n          isProtected() {\n            return 536870912 & this.bg;\n          }\n          isOverline() {\n            return 1073741824 & this.bg;\n          }\n          getFgColorMode() {\n            return 50331648 & this.fg;\n          }\n          getBgColorMode() {\n            return 50331648 & this.bg;\n          }\n          isFgRGB() {\n            return 50331648 == (50331648 & this.fg);\n          }\n          isBgRGB() {\n            return 50331648 == (50331648 & this.bg);\n          }\n          isFgPalette() {\n            return 16777216 == (50331648 & this.fg) || 33554432 == (50331648 & this.fg);\n          }\n          isBgPalette() {\n            return 16777216 == (50331648 & this.bg) || 33554432 == (50331648 & this.bg);\n          }\n          isFgDefault() {\n            return 0 == (50331648 & this.fg);\n          }\n          isBgDefault() {\n            return 0 == (50331648 & this.bg);\n          }\n          isAttributeDefault() {\n            return 0 === this.fg && 0 === this.bg;\n          }\n          getFgColor() {\n            switch (50331648 & this.fg) {\n              case 16777216:\n              case 33554432:\n                return 255 & this.fg;\n              case 50331648:\n                return 16777215 & this.fg;\n              default:\n                return -1;\n            }\n          }\n          getBgColor() {\n            switch (50331648 & this.bg) {\n              case 16777216:\n              case 33554432:\n                return 255 & this.bg;\n              case 50331648:\n                return 16777215 & this.bg;\n              default:\n                return -1;\n            }\n          }\n          hasExtendedAttrs() {\n            return 268435456 & this.bg;\n          }\n          updateExtended() {\n            this.extended.isEmpty() ? this.bg &= -268435457 : this.bg |= 268435456;\n          }\n          getUnderlineColor() {\n            if (268435456 & this.bg && ~this.extended.underlineColor) switch (50331648 & this.extended.underlineColor) {\n              case 16777216:\n              case 33554432:\n                return 255 & this.extended.underlineColor;\n              case 50331648:\n                return 16777215 & this.extended.underlineColor;\n              default:\n                return this.getFgColor();\n            }\n            return this.getFgColor();\n          }\n          getUnderlineColorMode() {\n            return 268435456 & this.bg && ~this.extended.underlineColor ? 50331648 & this.extended.underlineColor : this.getFgColorMode();\n          }\n          isUnderlineColorRGB() {\n            return 268435456 & this.bg && ~this.extended.underlineColor ? 50331648 == (50331648 & this.extended.underlineColor) : this.isFgRGB();\n          }\n          isUnderlineColorPalette() {\n            return 268435456 & this.bg && ~this.extended.underlineColor ? 16777216 == (50331648 & this.extended.underlineColor) || 33554432 == (50331648 & this.extended.underlineColor) : this.isFgPalette();\n          }\n          isUnderlineColorDefault() {\n            return 268435456 & this.bg && ~this.extended.underlineColor ? 0 == (50331648 & this.extended.underlineColor) : this.isFgDefault();\n          }\n          getUnderlineStyle() {\n            return 268435456 & this.fg ? 268435456 & this.bg ? this.extended.underlineStyle : 1 : 0;\n          }\n        }\n        t.AttributeData = i;\n        class s {\n          constructor() {\n            let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            this._ext = 0, this._urlId = 0, this._ext = e, this._urlId = t;\n          }\n          get ext() {\n            return this._urlId ? -469762049 & this._ext | this.underlineStyle << 26 : this._ext;\n          }\n          set ext(e) {\n            this._ext = e;\n          }\n          get underlineStyle() {\n            return this._urlId ? 5 : (469762048 & this._ext) >> 26;\n          }\n          set underlineStyle(e) {\n            this._ext &= -469762049, this._ext |= e << 26 & 469762048;\n          }\n          get underlineColor() {\n            return 67108863 & this._ext;\n          }\n          set underlineColor(e) {\n            this._ext &= -67108864, this._ext |= 67108863 & e;\n          }\n          get urlId() {\n            return this._urlId;\n          }\n          set urlId(e) {\n            this._urlId = e;\n          }\n          clone() {\n            return new s(this._ext, this._urlId);\n          }\n          isEmpty() {\n            return 0 === this.underlineStyle && 0 === this._urlId;\n          }\n        }\n        t.ExtendedAttrs = s;\n      },\n      9092: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Buffer = t.MAX_BUFFER_SIZE = void 0;\n        const s = i(6349),\n          r = i(8437),\n          n = i(511),\n          o = i(643),\n          a = i(4634),\n          h = i(4863),\n          c = i(7116),\n          l = i(3734),\n          d = i(7226);\n        t.MAX_BUFFER_SIZE = 4294967295, t.Buffer = class {\n          constructor(e, t, i) {\n            this._hasScrollback = e, this._optionsService = t, this._bufferService = i, this.ydisp = 0, this.ybase = 0, this.y = 0, this.x = 0, this.tabs = {}, this.savedY = 0, this.savedX = 0, this.savedCurAttrData = r.DEFAULT_ATTR_DATA.clone(), this.savedCharset = c.DEFAULT_CHARSET, this.markers = [], this._nullCell = n.CellData.fromCharData([0, o.NULL_CELL_CHAR, o.NULL_CELL_WIDTH, o.NULL_CELL_CODE]), this._whitespaceCell = n.CellData.fromCharData([0, o.WHITESPACE_CELL_CHAR, o.WHITESPACE_CELL_WIDTH, o.WHITESPACE_CELL_CODE]), this._isClearing = !1, this._memoryCleanupQueue = new d.IdleTaskQueue(), this._memoryCleanupPosition = 0, this._cols = this._bufferService.cols, this._rows = this._bufferService.rows, this.lines = new s.CircularList(this._getCorrectBufferLength(this._rows)), this.scrollTop = 0, this.scrollBottom = this._rows - 1, this.setupTabStops();\n          }\n          getNullCell(e) {\n            return e ? (this._nullCell.fg = e.fg, this._nullCell.bg = e.bg, this._nullCell.extended = e.extended) : (this._nullCell.fg = 0, this._nullCell.bg = 0, this._nullCell.extended = new l.ExtendedAttrs()), this._nullCell;\n          }\n          getWhitespaceCell(e) {\n            return e ? (this._whitespaceCell.fg = e.fg, this._whitespaceCell.bg = e.bg, this._whitespaceCell.extended = e.extended) : (this._whitespaceCell.fg = 0, this._whitespaceCell.bg = 0, this._whitespaceCell.extended = new l.ExtendedAttrs()), this._whitespaceCell;\n          }\n          getBlankLine(e, t) {\n            return new r.BufferLine(this._bufferService.cols, this.getNullCell(e), t);\n          }\n          get hasScrollback() {\n            return this._hasScrollback && this.lines.maxLength > this._rows;\n          }\n          get isCursorInViewport() {\n            const e = this.ybase + this.y - this.ydisp;\n            return e >= 0 && e < this._rows;\n          }\n          _getCorrectBufferLength(e) {\n            if (!this._hasScrollback) return e;\n            const i = e + this._optionsService.rawOptions.scrollback;\n            return i > t.MAX_BUFFER_SIZE ? t.MAX_BUFFER_SIZE : i;\n          }\n          fillViewportRows(e) {\n            if (0 === this.lines.length) {\n              void 0 === e && (e = r.DEFAULT_ATTR_DATA);\n              let t = this._rows;\n              for (; t--;) this.lines.push(this.getBlankLine(e));\n            }\n          }\n          clear() {\n            this.ydisp = 0, this.ybase = 0, this.y = 0, this.x = 0, this.lines = new s.CircularList(this._getCorrectBufferLength(this._rows)), this.scrollTop = 0, this.scrollBottom = this._rows - 1, this.setupTabStops();\n          }\n          resize(e, t) {\n            const i = this.getNullCell(r.DEFAULT_ATTR_DATA);\n            let s = 0;\n            const n = this._getCorrectBufferLength(t);\n            if (n > this.lines.maxLength && (this.lines.maxLength = n), this.lines.length > 0) {\n              if (this._cols < e) for (let t = 0; t < this.lines.length; t++) s += +this.lines.get(t).resize(e, i);\n              let o = 0;\n              if (this._rows < t) for (let s = this._rows; s < t; s++) this.lines.length < t + this.ybase && (this._optionsService.rawOptions.windowsMode || void 0 !== this._optionsService.rawOptions.windowsPty.backend || void 0 !== this._optionsService.rawOptions.windowsPty.buildNumber ? this.lines.push(new r.BufferLine(e, i)) : this.ybase > 0 && this.lines.length <= this.ybase + this.y + o + 1 ? (this.ybase--, o++, this.ydisp > 0 && this.ydisp--) : this.lines.push(new r.BufferLine(e, i)));else for (let e = this._rows; e > t; e--) this.lines.length > t + this.ybase && (this.lines.length > this.ybase + this.y + 1 ? this.lines.pop() : (this.ybase++, this.ydisp++));\n              if (n < this.lines.maxLength) {\n                const e = this.lines.length - n;\n                e > 0 && (this.lines.trimStart(e), this.ybase = Math.max(this.ybase - e, 0), this.ydisp = Math.max(this.ydisp - e, 0), this.savedY = Math.max(this.savedY - e, 0)), this.lines.maxLength = n;\n              }\n              this.x = Math.min(this.x, e - 1), this.y = Math.min(this.y, t - 1), o && (this.y += o), this.savedX = Math.min(this.savedX, e - 1), this.scrollTop = 0;\n            }\n            if (this.scrollBottom = t - 1, this._isReflowEnabled && (this._reflow(e, t), this._cols > e)) for (let t = 0; t < this.lines.length; t++) s += +this.lines.get(t).resize(e, i);\n            this._cols = e, this._rows = t, this._memoryCleanupQueue.clear(), s > .1 * this.lines.length && (this._memoryCleanupPosition = 0, this._memoryCleanupQueue.enqueue(() => this._batchedMemoryCleanup()));\n          }\n          _batchedMemoryCleanup() {\n            let e = !0;\n            this._memoryCleanupPosition >= this.lines.length && (this._memoryCleanupPosition = 0, e = !1);\n            let t = 0;\n            for (; this._memoryCleanupPosition < this.lines.length;) if (t += this.lines.get(this._memoryCleanupPosition++).cleanupMemory(), t > 100) return !0;\n            return e;\n          }\n          get _isReflowEnabled() {\n            const e = this._optionsService.rawOptions.windowsPty;\n            return e && e.buildNumber ? this._hasScrollback && \"conpty\" === e.backend && e.buildNumber >= 21376 : this._hasScrollback && !this._optionsService.rawOptions.windowsMode;\n          }\n          _reflow(e, t) {\n            this._cols !== e && (e > this._cols ? this._reflowLarger(e, t) : this._reflowSmaller(e, t));\n          }\n          _reflowLarger(e, t) {\n            const i = (0, a.reflowLargerGetLinesToRemove)(this.lines, this._cols, e, this.ybase + this.y, this.getNullCell(r.DEFAULT_ATTR_DATA));\n            if (i.length > 0) {\n              const s = (0, a.reflowLargerCreateNewLayout)(this.lines, i);\n              (0, a.reflowLargerApplyNewLayout)(this.lines, s.layout), this._reflowLargerAdjustViewport(e, t, s.countRemoved);\n            }\n          }\n          _reflowLargerAdjustViewport(e, t, i) {\n            const s = this.getNullCell(r.DEFAULT_ATTR_DATA);\n            let n = i;\n            for (; n-- > 0;) 0 === this.ybase ? (this.y > 0 && this.y--, this.lines.length < t && this.lines.push(new r.BufferLine(e, s))) : (this.ydisp === this.ybase && this.ydisp--, this.ybase--);\n            this.savedY = Math.max(this.savedY - i, 0);\n          }\n          _reflowSmaller(e, t) {\n            const i = this.getNullCell(r.DEFAULT_ATTR_DATA),\n              s = [];\n            let n = 0;\n            for (let o = this.lines.length - 1; o >= 0; o--) {\n              let h = this.lines.get(o);\n              if (!h || !h.isWrapped && h.getTrimmedLength() <= e) continue;\n              const c = [h];\n              for (; h.isWrapped && o > 0;) h = this.lines.get(--o), c.unshift(h);\n              const l = this.ybase + this.y;\n              if (l >= o && l < o + c.length) continue;\n              const d = c[c.length - 1].getTrimmedLength(),\n                _ = (0, a.reflowSmallerGetNewLineLengths)(c, this._cols, e),\n                u = _.length - c.length;\n              let f;\n              f = 0 === this.ybase && this.y !== this.lines.length - 1 ? Math.max(0, this.y - this.lines.maxLength + u) : Math.max(0, this.lines.length - this.lines.maxLength + u);\n              const v = [];\n              for (let e = 0; e < u; e++) {\n                const e = this.getBlankLine(r.DEFAULT_ATTR_DATA, !0);\n                v.push(e);\n              }\n              v.length > 0 && (s.push({\n                start: o + c.length + n,\n                newLines: v\n              }), n += v.length), c.push(...v);\n              let g = _.length - 1,\n                p = _[g];\n              0 === p && (g--, p = _[g]);\n              let S = c.length - u - 1,\n                m = d;\n              for (; S >= 0;) {\n                const e = Math.min(m, p);\n                if (void 0 === c[g]) break;\n                if (c[g].copyCellsFrom(c[S], m - e, p - e, e, !0), p -= e, 0 === p && (g--, p = _[g]), m -= e, 0 === m) {\n                  S--;\n                  const e = Math.max(S, 0);\n                  m = (0, a.getWrappedLineTrimmedLength)(c, e, this._cols);\n                }\n              }\n              for (let t = 0; t < c.length; t++) _[t] < e && c[t].setCell(_[t], i);\n              let C = u - f;\n              for (; C-- > 0;) 0 === this.ybase ? this.y < t - 1 ? (this.y++, this.lines.pop()) : (this.ybase++, this.ydisp++) : this.ybase < Math.min(this.lines.maxLength, this.lines.length + n) - t && (this.ybase === this.ydisp && this.ydisp++, this.ybase++);\n              this.savedY = Math.min(this.savedY + u, this.ybase + t - 1);\n            }\n            if (s.length > 0) {\n              const e = [],\n                t = [];\n              for (let e = 0; e < this.lines.length; e++) t.push(this.lines.get(e));\n              const i = this.lines.length;\n              let r = i - 1,\n                o = 0,\n                a = s[o];\n              this.lines.length = Math.min(this.lines.maxLength, this.lines.length + n);\n              let h = 0;\n              for (let c = Math.min(this.lines.maxLength - 1, i + n - 1); c >= 0; c--) if (a && a.start > r + h) {\n                for (let e = a.newLines.length - 1; e >= 0; e--) this.lines.set(c--, a.newLines[e]);\n                c++, e.push({\n                  index: r + 1,\n                  amount: a.newLines.length\n                }), h += a.newLines.length, a = s[++o];\n              } else this.lines.set(c, t[r--]);\n              let c = 0;\n              for (let t = e.length - 1; t >= 0; t--) e[t].index += c, this.lines.onInsertEmitter.fire(e[t]), c += e[t].amount;\n              const l = Math.max(0, i + n - this.lines.maxLength);\n              l > 0 && this.lines.onTrimEmitter.fire(l);\n            }\n          }\n          translateBufferLineToString(e, t) {\n            let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n            let s = arguments.length > 3 ? arguments[3] : undefined;\n            const r = this.lines.get(e);\n            return r ? r.translateToString(t, i, s) : \"\";\n          }\n          getWrappedRangeForLine(e) {\n            let t = e,\n              i = e;\n            for (; t > 0 && this.lines.get(t).isWrapped;) t--;\n            for (; i + 1 < this.lines.length && this.lines.get(i + 1).isWrapped;) i++;\n            return {\n              first: t,\n              last: i\n            };\n          }\n          setupTabStops(e) {\n            for (null != e ? this.tabs[e] || (e = this.prevStop(e)) : (this.tabs = {}, e = 0); e < this._cols; e += this._optionsService.rawOptions.tabStopWidth) this.tabs[e] = !0;\n          }\n          prevStop(e) {\n            for (null == e && (e = this.x); !this.tabs[--e] && e > 0;);\n            return e >= this._cols ? this._cols - 1 : e < 0 ? 0 : e;\n          }\n          nextStop(e) {\n            for (null == e && (e = this.x); !this.tabs[++e] && e < this._cols;);\n            return e >= this._cols ? this._cols - 1 : e < 0 ? 0 : e;\n          }\n          clearMarkers(e) {\n            this._isClearing = !0;\n            for (let t = 0; t < this.markers.length; t++) this.markers[t].line === e && (this.markers[t].dispose(), this.markers.splice(t--, 1));\n            this._isClearing = !1;\n          }\n          clearAllMarkers() {\n            this._isClearing = !0;\n            for (let e = 0; e < this.markers.length; e++) this.markers[e].dispose(), this.markers.splice(e--, 1);\n            this._isClearing = !1;\n          }\n          addMarker(e) {\n            const t = new h.Marker(e);\n            return this.markers.push(t), t.register(this.lines.onTrim(e => {\n              t.line -= e, t.line < 0 && t.dispose();\n            })), t.register(this.lines.onInsert(e => {\n              t.line >= e.index && (t.line += e.amount);\n            })), t.register(this.lines.onDelete(e => {\n              t.line >= e.index && t.line < e.index + e.amount && t.dispose(), t.line > e.index && (t.line -= e.amount);\n            })), t.register(t.onDispose(() => this._removeMarker(t))), t;\n          }\n          _removeMarker(e) {\n            this._isClearing || this.markers.splice(this.markers.indexOf(e), 1);\n          }\n        };\n      },\n      8437: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferLine = t.DEFAULT_ATTR_DATA = void 0;\n        const s = i(482),\n          r = i(643),\n          n = i(511),\n          o = i(3734);\n        t.DEFAULT_ATTR_DATA = Object.freeze(new o.AttributeData());\n        let a = 0;\n        class h {\n          constructor(e, t) {\n            let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n            this.isWrapped = i, this._combined = {}, this._extendedAttrs = {}, this._data = new Uint32Array(3 * e);\n            const s = t || n.CellData.fromCharData([0, r.NULL_CELL_CHAR, r.NULL_CELL_WIDTH, r.NULL_CELL_CODE]);\n            for (let t = 0; t < e; ++t) this.setCell(t, s);\n            this.length = e;\n          }\n          get(e) {\n            const t = this._data[3 * e + 0],\n              i = 2097151 & t;\n            return [this._data[3 * e + 1], 2097152 & t ? this._combined[e] : i ? (0, s.stringFromCodePoint)(i) : \"\", t >> 22, 2097152 & t ? this._combined[e].charCodeAt(this._combined[e].length - 1) : i];\n          }\n          set(e, t) {\n            this._data[3 * e + 1] = t[r.CHAR_DATA_ATTR_INDEX], t[r.CHAR_DATA_CHAR_INDEX].length > 1 ? (this._combined[e] = t[1], this._data[3 * e + 0] = 2097152 | e | t[r.CHAR_DATA_WIDTH_INDEX] << 22) : this._data[3 * e + 0] = t[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | t[r.CHAR_DATA_WIDTH_INDEX] << 22;\n          }\n          getWidth(e) {\n            return this._data[3 * e + 0] >> 22;\n          }\n          hasWidth(e) {\n            return 12582912 & this._data[3 * e + 0];\n          }\n          getFg(e) {\n            return this._data[3 * e + 1];\n          }\n          getBg(e) {\n            return this._data[3 * e + 2];\n          }\n          hasContent(e) {\n            return 4194303 & this._data[3 * e + 0];\n          }\n          getCodePoint(e) {\n            const t = this._data[3 * e + 0];\n            return 2097152 & t ? this._combined[e].charCodeAt(this._combined[e].length - 1) : 2097151 & t;\n          }\n          isCombined(e) {\n            return 2097152 & this._data[3 * e + 0];\n          }\n          getString(e) {\n            const t = this._data[3 * e + 0];\n            return 2097152 & t ? this._combined[e] : 2097151 & t ? (0, s.stringFromCodePoint)(2097151 & t) : \"\";\n          }\n          isProtected(e) {\n            return 536870912 & this._data[3 * e + 2];\n          }\n          loadCell(e, t) {\n            return a = 3 * e, t.content = this._data[a + 0], t.fg = this._data[a + 1], t.bg = this._data[a + 2], 2097152 & t.content && (t.combinedData = this._combined[e]), 268435456 & t.bg && (t.extended = this._extendedAttrs[e]), t;\n          }\n          setCell(e, t) {\n            2097152 & t.content && (this._combined[e] = t.combinedData), 268435456 & t.bg && (this._extendedAttrs[e] = t.extended), this._data[3 * e + 0] = t.content, this._data[3 * e + 1] = t.fg, this._data[3 * e + 2] = t.bg;\n          }\n          setCellFromCodePoint(e, t, i, s, r, n) {\n            268435456 & r && (this._extendedAttrs[e] = n), this._data[3 * e + 0] = t | i << 22, this._data[3 * e + 1] = s, this._data[3 * e + 2] = r;\n          }\n          addCodepointToCell(e, t) {\n            let i = this._data[3 * e + 0];\n            2097152 & i ? this._combined[e] += (0, s.stringFromCodePoint)(t) : (2097151 & i ? (this._combined[e] = (0, s.stringFromCodePoint)(2097151 & i) + (0, s.stringFromCodePoint)(t), i &= -2097152, i |= 2097152) : i = t | 1 << 22, this._data[3 * e + 0] = i);\n          }\n          insertCells(e, t, i, s) {\n            if ((e %= this.length) && 2 === this.getWidth(e - 1) && this.setCellFromCodePoint(e - 1, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()), t < this.length - e) {\n              const s = new n.CellData();\n              for (let i = this.length - e - t - 1; i >= 0; --i) this.setCell(e + t + i, this.loadCell(e + i, s));\n              for (let s = 0; s < t; ++s) this.setCell(e + s, i);\n            } else for (let t = e; t < this.length; ++t) this.setCell(t, i);\n            2 === this.getWidth(this.length - 1) && this.setCellFromCodePoint(this.length - 1, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs());\n          }\n          deleteCells(e, t, i, s) {\n            if (e %= this.length, t < this.length - e) {\n              const s = new n.CellData();\n              for (let i = 0; i < this.length - e - t; ++i) this.setCell(e + i, this.loadCell(e + t + i, s));\n              for (let e = this.length - t; e < this.length; ++e) this.setCell(e, i);\n            } else for (let t = e; t < this.length; ++t) this.setCell(t, i);\n            e && 2 === this.getWidth(e - 1) && this.setCellFromCodePoint(e - 1, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()), 0 !== this.getWidth(e) || this.hasContent(e) || this.setCellFromCodePoint(e, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs());\n          }\n          replaceCells(e, t, i, s) {\n            let r = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1;\n            if (r) for (e && 2 === this.getWidth(e - 1) && !this.isProtected(e - 1) && this.setCellFromCodePoint(e - 1, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()), t < this.length && 2 === this.getWidth(t - 1) && !this.isProtected(t) && this.setCellFromCodePoint(t, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()); e < t && e < this.length;) this.isProtected(e) || this.setCell(e, i), e++;else for (e && 2 === this.getWidth(e - 1) && this.setCellFromCodePoint(e - 1, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()), t < this.length && 2 === this.getWidth(t - 1) && this.setCellFromCodePoint(t, 0, 1, (null == s ? void 0 : s.fg) || 0, (null == s ? void 0 : s.bg) || 0, (null == s ? void 0 : s.extended) || new o.ExtendedAttrs()); e < t && e < this.length;) this.setCell(e++, i);\n          }\n          resize(e, t) {\n            if (e === this.length) return 4 * this._data.length * 2 < this._data.buffer.byteLength;\n            const i = 3 * e;\n            if (e > this.length) {\n              if (this._data.buffer.byteLength >= 4 * i) this._data = new Uint32Array(this._data.buffer, 0, i);else {\n                const e = new Uint32Array(i);\n                e.set(this._data), this._data = e;\n              }\n              for (let i = this.length; i < e; ++i) this.setCell(i, t);\n            } else {\n              this._data = this._data.subarray(0, i);\n              const t = Object.keys(this._combined);\n              for (let i = 0; i < t.length; i++) {\n                const s = parseInt(t[i], 10);\n                s >= e && delete this._combined[s];\n              }\n              const s = Object.keys(this._extendedAttrs);\n              for (let t = 0; t < s.length; t++) {\n                const i = parseInt(s[t], 10);\n                i >= e && delete this._extendedAttrs[i];\n              }\n            }\n            return this.length = e, 4 * i * 2 < this._data.buffer.byteLength;\n          }\n          cleanupMemory() {\n            if (4 * this._data.length * 2 < this._data.buffer.byteLength) {\n              const e = new Uint32Array(this._data.length);\n              return e.set(this._data), this._data = e, 1;\n            }\n            return 0;\n          }\n          fill(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n            if (t) for (let t = 0; t < this.length; ++t) this.isProtected(t) || this.setCell(t, e);else {\n              this._combined = {}, this._extendedAttrs = {};\n              for (let t = 0; t < this.length; ++t) this.setCell(t, e);\n            }\n          }\n          copyFrom(e) {\n            this.length !== e.length ? this._data = new Uint32Array(e._data) : this._data.set(e._data), this.length = e.length, this._combined = {};\n            for (const t in e._combined) this._combined[t] = e._combined[t];\n            this._extendedAttrs = {};\n            for (const t in e._extendedAttrs) this._extendedAttrs[t] = e._extendedAttrs[t];\n            this.isWrapped = e.isWrapped;\n          }\n          clone() {\n            const e = new h(0);\n            e._data = new Uint32Array(this._data), e.length = this.length;\n            for (const t in this._combined) e._combined[t] = this._combined[t];\n            for (const t in this._extendedAttrs) e._extendedAttrs[t] = this._extendedAttrs[t];\n            return e.isWrapped = this.isWrapped, e;\n          }\n          getTrimmedLength() {\n            for (let e = this.length - 1; e >= 0; --e) if (4194303 & this._data[3 * e + 0]) return e + (this._data[3 * e + 0] >> 22);\n            return 0;\n          }\n          copyCellsFrom(e, t, i, s, r) {\n            const n = e._data;\n            if (r) for (let r = s - 1; r >= 0; r--) {\n              for (let e = 0; e < 3; e++) this._data[3 * (i + r) + e] = n[3 * (t + r) + e];\n              268435456 & n[3 * (t + r) + 2] && (this._extendedAttrs[i + r] = e._extendedAttrs[t + r]);\n            } else for (let r = 0; r < s; r++) {\n              for (let e = 0; e < 3; e++) this._data[3 * (i + r) + e] = n[3 * (t + r) + e];\n              268435456 & n[3 * (t + r) + 2] && (this._extendedAttrs[i + r] = e._extendedAttrs[t + r]);\n            }\n            const o = Object.keys(e._combined);\n            for (let s = 0; s < o.length; s++) {\n              const r = parseInt(o[s], 10);\n              r >= t && (this._combined[r - t + i] = e._combined[r]);\n            }\n          }\n          translateToString() {\n            let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n            let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.length;\n            e && (i = Math.min(i, this.getTrimmedLength()));\n            let n = \"\";\n            for (; t < i;) {\n              const e = this._data[3 * t + 0],\n                i = 2097151 & e;\n              n += 2097152 & e ? this._combined[t] : i ? (0, s.stringFromCodePoint)(i) : r.WHITESPACE_CELL_CHAR, t += e >> 22 || 1;\n            }\n            return n;\n          }\n        }\n        t.BufferLine = h;\n      },\n      4841: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.getRangeLength = void 0, t.getRangeLength = function (e, t) {\n          if (e.start.y > e.end.y) throw new Error(\"Buffer range end (\".concat(e.end.x, \", \").concat(e.end.y, \") cannot be before start (\").concat(e.start.x, \", \").concat(e.start.y, \")\"));\n          return t * (e.end.y - e.start.y) + (e.end.x - e.start.x + 1);\n        };\n      },\n      4634: (e, t) => {\n        function i(e, t, i) {\n          if (t === e.length - 1) return e[t].getTrimmedLength();\n          const s = !e[t].hasContent(i - 1) && 1 === e[t].getWidth(i - 1),\n            r = 2 === e[t + 1].getWidth(0);\n          return s && r ? i - 1 : i;\n        }\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.getWrappedLineTrimmedLength = t.reflowSmallerGetNewLineLengths = t.reflowLargerApplyNewLayout = t.reflowLargerCreateNewLayout = t.reflowLargerGetLinesToRemove = void 0, t.reflowLargerGetLinesToRemove = function (e, t, s, r, n) {\n          const o = [];\n          for (let a = 0; a < e.length - 1; a++) {\n            let h = a,\n              c = e.get(++h);\n            if (!c.isWrapped) continue;\n            const l = [e.get(a)];\n            for (; h < e.length && c.isWrapped;) l.push(c), c = e.get(++h);\n            if (r >= a && r < h) {\n              a += l.length - 1;\n              continue;\n            }\n            let d = 0,\n              _ = i(l, d, t),\n              u = 1,\n              f = 0;\n            for (; u < l.length;) {\n              const e = i(l, u, t),\n                r = e - f,\n                o = s - _,\n                a = Math.min(r, o);\n              l[d].copyCellsFrom(l[u], f, _, a, !1), _ += a, _ === s && (d++, _ = 0), f += a, f === e && (u++, f = 0), 0 === _ && 0 !== d && 2 === l[d - 1].getWidth(s - 1) && (l[d].copyCellsFrom(l[d - 1], s - 1, _++, 1, !1), l[d - 1].setCell(s - 1, n));\n            }\n            l[d].replaceCells(_, s, n);\n            let v = 0;\n            for (let e = l.length - 1; e > 0 && (e > d || 0 === l[e].getTrimmedLength()); e--) v++;\n            v > 0 && (o.push(a + l.length - v), o.push(v)), a += l.length - 1;\n          }\n          return o;\n        }, t.reflowLargerCreateNewLayout = function (e, t) {\n          const i = [];\n          let s = 0,\n            r = t[s],\n            n = 0;\n          for (let o = 0; o < e.length; o++) if (r === o) {\n            const i = t[++s];\n            e.onDeleteEmitter.fire({\n              index: o - n,\n              amount: i\n            }), o += i - 1, n += i, r = t[++s];\n          } else i.push(o);\n          return {\n            layout: i,\n            countRemoved: n\n          };\n        }, t.reflowLargerApplyNewLayout = function (e, t) {\n          const i = [];\n          for (let s = 0; s < t.length; s++) i.push(e.get(t[s]));\n          for (let t = 0; t < i.length; t++) e.set(t, i[t]);\n          e.length = t.length;\n        }, t.reflowSmallerGetNewLineLengths = function (e, t, s) {\n          const r = [],\n            n = e.map((s, r) => i(e, r, t)).reduce((e, t) => e + t);\n          let o = 0,\n            a = 0,\n            h = 0;\n          for (; h < n;) {\n            if (n - h < s) {\n              r.push(n - h);\n              break;\n            }\n            o += s;\n            const c = i(e, a, t);\n            o > c && (o -= c, a++);\n            const l = 2 === e[a].getWidth(o - 1);\n            l && o--;\n            const d = l ? s - 1 : s;\n            r.push(d), h += d;\n          }\n          return r;\n        }, t.getWrappedLineTrimmedLength = i;\n      },\n      5295: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferSet = void 0;\n        const s = i(9092),\n          r = i(8460),\n          n = i(844);\n        class o extends n.Disposable {\n          constructor(e, t) {\n            super(), this._optionsService = e, this._bufferService = t, this._onBufferActivate = this.register(new r.EventEmitter()), this.onBufferActivate = this._onBufferActivate.event, this.reset(), this.register(this._optionsService.onSpecificOptionChange(\"scrollback\", () => this.resize(this._bufferService.cols, this._bufferService.rows))), this.register(this._optionsService.onSpecificOptionChange(\"tabStopWidth\", () => this.setupTabStops()));\n          }\n          reset() {\n            this._normal = new s.Buffer(!0, this._optionsService, this._bufferService), this._normal.fillViewportRows(), this._alt = new s.Buffer(!1, this._optionsService, this._bufferService), this._activeBuffer = this._normal, this._onBufferActivate.fire({\n              activeBuffer: this._normal,\n              inactiveBuffer: this._alt\n            }), this.setupTabStops();\n          }\n          get alt() {\n            return this._alt;\n          }\n          get active() {\n            return this._activeBuffer;\n          }\n          get normal() {\n            return this._normal;\n          }\n          activateNormalBuffer() {\n            this._activeBuffer !== this._normal && (this._normal.x = this._alt.x, this._normal.y = this._alt.y, this._alt.clearAllMarkers(), this._alt.clear(), this._activeBuffer = this._normal, this._onBufferActivate.fire({\n              activeBuffer: this._normal,\n              inactiveBuffer: this._alt\n            }));\n          }\n          activateAltBuffer(e) {\n            this._activeBuffer !== this._alt && (this._alt.fillViewportRows(e), this._alt.x = this._normal.x, this._alt.y = this._normal.y, this._activeBuffer = this._alt, this._onBufferActivate.fire({\n              activeBuffer: this._alt,\n              inactiveBuffer: this._normal\n            }));\n          }\n          resize(e, t) {\n            this._normal.resize(e, t), this._alt.resize(e, t), this.setupTabStops(e);\n          }\n          setupTabStops(e) {\n            this._normal.setupTabStops(e), this._alt.setupTabStops(e);\n          }\n        }\n        t.BufferSet = o;\n      },\n      511: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CellData = void 0;\n        const s = i(482),\n          r = i(643),\n          n = i(3734);\n        class o extends n.AttributeData {\n          constructor() {\n            super(...arguments), this.content = 0, this.fg = 0, this.bg = 0, this.extended = new n.ExtendedAttrs(), this.combinedData = \"\";\n          }\n          static fromCharData(e) {\n            const t = new o();\n            return t.setFromCharData(e), t;\n          }\n          isCombined() {\n            return 2097152 & this.content;\n          }\n          getWidth() {\n            return this.content >> 22;\n          }\n          getChars() {\n            return 2097152 & this.content ? this.combinedData : 2097151 & this.content ? (0, s.stringFromCodePoint)(2097151 & this.content) : \"\";\n          }\n          getCode() {\n            return this.isCombined() ? this.combinedData.charCodeAt(this.combinedData.length - 1) : 2097151 & this.content;\n          }\n          setFromCharData(e) {\n            this.fg = e[r.CHAR_DATA_ATTR_INDEX], this.bg = 0;\n            let t = !1;\n            if (e[r.CHAR_DATA_CHAR_INDEX].length > 2) t = !0;else if (2 === e[r.CHAR_DATA_CHAR_INDEX].length) {\n              const i = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0);\n              if (55296 <= i && i <= 56319) {\n                const s = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(1);\n                56320 <= s && s <= 57343 ? this.content = 1024 * (i - 55296) + s - 56320 + 65536 | e[r.CHAR_DATA_WIDTH_INDEX] << 22 : t = !0;\n              } else t = !0;\n            } else this.content = e[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | e[r.CHAR_DATA_WIDTH_INDEX] << 22;\n            t && (this.combinedData = e[r.CHAR_DATA_CHAR_INDEX], this.content = 2097152 | e[r.CHAR_DATA_WIDTH_INDEX] << 22);\n          }\n          getAsCharData() {\n            return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n          }\n        }\n        t.CellData = o;\n      },\n      643: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.WHITESPACE_CELL_CODE = t.WHITESPACE_CELL_WIDTH = t.WHITESPACE_CELL_CHAR = t.NULL_CELL_CODE = t.NULL_CELL_WIDTH = t.NULL_CELL_CHAR = t.CHAR_DATA_CODE_INDEX = t.CHAR_DATA_WIDTH_INDEX = t.CHAR_DATA_CHAR_INDEX = t.CHAR_DATA_ATTR_INDEX = t.DEFAULT_EXT = t.DEFAULT_ATTR = t.DEFAULT_COLOR = void 0, t.DEFAULT_COLOR = 0, t.DEFAULT_ATTR = 256 | t.DEFAULT_COLOR << 9, t.DEFAULT_EXT = 0, t.CHAR_DATA_ATTR_INDEX = 0, t.CHAR_DATA_CHAR_INDEX = 1, t.CHAR_DATA_WIDTH_INDEX = 2, t.CHAR_DATA_CODE_INDEX = 3, t.NULL_CELL_CHAR = \"\", t.NULL_CELL_WIDTH = 1, t.NULL_CELL_CODE = 0, t.WHITESPACE_CELL_CHAR = \" \", t.WHITESPACE_CELL_WIDTH = 1, t.WHITESPACE_CELL_CODE = 32;\n      },\n      4863: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Marker = void 0;\n        const s = i(8460),\n          r = i(844);\n        class n {\n          constructor(e) {\n            this.line = e, this.isDisposed = !1, this._disposables = [], this._id = n._nextId++, this._onDispose = this.register(new s.EventEmitter()), this.onDispose = this._onDispose.event;\n          }\n          get id() {\n            return this._id;\n          }\n          dispose() {\n            this.isDisposed || (this.isDisposed = !0, this.line = -1, this._onDispose.fire(), (0, r.disposeArray)(this._disposables), this._disposables.length = 0);\n          }\n          register(e) {\n            return this._disposables.push(e), e;\n          }\n        }\n        t.Marker = n, n._nextId = 1;\n      },\n      7116: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.DEFAULT_CHARSET = t.CHARSETS = void 0, t.CHARSETS = {}, t.DEFAULT_CHARSET = t.CHARSETS.B, t.CHARSETS[0] = {\n          \"`\": \"◆\",\n          a: \"▒\",\n          b: \"␉\",\n          c: \"␌\",\n          d: \"␍\",\n          e: \"␊\",\n          f: \"°\",\n          g: \"±\",\n          h: \"␤\",\n          i: \"␋\",\n          j: \"┘\",\n          k: \"┐\",\n          l: \"┌\",\n          m: \"└\",\n          n: \"┼\",\n          o: \"⎺\",\n          p: \"⎻\",\n          q: \"─\",\n          r: \"⎼\",\n          s: \"⎽\",\n          t: \"├\",\n          u: \"┤\",\n          v: \"┴\",\n          w: \"┬\",\n          x: \"│\",\n          y: \"≤\",\n          z: \"≥\",\n          \"{\": \"π\",\n          \"|\": \"≠\",\n          \"}\": \"£\",\n          \"~\": \"·\"\n        }, t.CHARSETS.A = {\n          \"#\": \"£\"\n        }, t.CHARSETS.B = void 0, t.CHARSETS[4] = {\n          \"#\": \"£\",\n          \"@\": \"¾\",\n          \"[\": \"ij\",\n          \"\\\\\": \"½\",\n          \"]\": \"|\",\n          \"{\": \"¨\",\n          \"|\": \"f\",\n          \"}\": \"¼\",\n          \"~\": \"´\"\n        }, t.CHARSETS.C = t.CHARSETS[5] = {\n          \"[\": \"Ä\",\n          \"\\\\\": \"Ö\",\n          \"]\": \"Å\",\n          \"^\": \"Ü\",\n          \"`\": \"é\",\n          \"{\": \"ä\",\n          \"|\": \"ö\",\n          \"}\": \"å\",\n          \"~\": \"ü\"\n        }, t.CHARSETS.R = {\n          \"#\": \"£\",\n          \"@\": \"à\",\n          \"[\": \"°\",\n          \"\\\\\": \"ç\",\n          \"]\": \"§\",\n          \"{\": \"é\",\n          \"|\": \"ù\",\n          \"}\": \"è\",\n          \"~\": \"¨\"\n        }, t.CHARSETS.Q = {\n          \"@\": \"à\",\n          \"[\": \"â\",\n          \"\\\\\": \"ç\",\n          \"]\": \"ê\",\n          \"^\": \"î\",\n          \"`\": \"ô\",\n          \"{\": \"é\",\n          \"|\": \"ù\",\n          \"}\": \"è\",\n          \"~\": \"û\"\n        }, t.CHARSETS.K = {\n          \"@\": \"§\",\n          \"[\": \"Ä\",\n          \"\\\\\": \"Ö\",\n          \"]\": \"Ü\",\n          \"{\": \"ä\",\n          \"|\": \"ö\",\n          \"}\": \"ü\",\n          \"~\": \"ß\"\n        }, t.CHARSETS.Y = {\n          \"#\": \"£\",\n          \"@\": \"§\",\n          \"[\": \"°\",\n          \"\\\\\": \"ç\",\n          \"]\": \"é\",\n          \"`\": \"ù\",\n          \"{\": \"à\",\n          \"|\": \"ò\",\n          \"}\": \"è\",\n          \"~\": \"ì\"\n        }, t.CHARSETS.E = t.CHARSETS[6] = {\n          \"@\": \"Ä\",\n          \"[\": \"Æ\",\n          \"\\\\\": \"Ø\",\n          \"]\": \"Å\",\n          \"^\": \"Ü\",\n          \"`\": \"ä\",\n          \"{\": \"æ\",\n          \"|\": \"ø\",\n          \"}\": \"å\",\n          \"~\": \"ü\"\n        }, t.CHARSETS.Z = {\n          \"#\": \"£\",\n          \"@\": \"§\",\n          \"[\": \"¡\",\n          \"\\\\\": \"Ñ\",\n          \"]\": \"¿\",\n          \"{\": \"°\",\n          \"|\": \"ñ\",\n          \"}\": \"ç\"\n        }, t.CHARSETS.H = t.CHARSETS[7] = {\n          \"@\": \"É\",\n          \"[\": \"Ä\",\n          \"\\\\\": \"Ö\",\n          \"]\": \"Å\",\n          \"^\": \"Ü\",\n          \"`\": \"é\",\n          \"{\": \"ä\",\n          \"|\": \"ö\",\n          \"}\": \"å\",\n          \"~\": \"ü\"\n        }, t.CHARSETS[\"=\"] = {\n          \"#\": \"ù\",\n          \"@\": \"à\",\n          \"[\": \"é\",\n          \"\\\\\": \"ç\",\n          \"]\": \"ê\",\n          \"^\": \"î\",\n          _: \"è\",\n          \"`\": \"ô\",\n          \"{\": \"ä\",\n          \"|\": \"ö\",\n          \"}\": \"ü\",\n          \"~\": \"û\"\n        };\n      },\n      2584: (e, t) => {\n        var i, s;\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.C1_ESCAPED = t.C1 = t.C0 = void 0, function (e) {\n          e.NUL = \"\\0\", e.SOH = \"\u0001\", e.STX = \"\u0002\", e.ETX = \"\u0003\", e.EOT = \"\u0004\", e.ENQ = \"\u0005\", e.ACK = \"\u0006\", e.BEL = \"\u0007\", e.BS = \"\\b\", e.HT = \"\\t\", e.LF = \"\\n\", e.VT = \"\\v\", e.FF = \"\\f\", e.CR = \"\\r\", e.SO = \"\u000e\", e.SI = \"\u000f\", e.DLE = \"\u0010\", e.DC1 = \"\u0011\", e.DC2 = \"\u0012\", e.DC3 = \"\u0013\", e.DC4 = \"\u0014\", e.NAK = \"\u0015\", e.SYN = \"\u0016\", e.ETB = \"\u0017\", e.CAN = \"\u0018\", e.EM = \"\u0019\", e.SUB = \"\u001a\", e.ESC = \"\u001b\", e.FS = \"\u001c\", e.GS = \"\u001d\", e.RS = \"\u001e\", e.US = \"\u001f\", e.SP = \" \", e.DEL = \"\";\n        }(i = t.C0 || (t.C0 = {})), (s = t.C1 || (t.C1 = {})).PAD = \"\", s.HOP = \"\", s.BPH = \"\", s.NBH = \"\", s.IND = \"\", s.NEL = \"\", s.SSA = \"\", s.ESA = \"\", s.HTS = \"\", s.HTJ = \"\", s.VTS = \"\", s.PLD = \"\", s.PLU = \"\", s.RI = \"\", s.SS2 = \"\", s.SS3 = \"\", s.DCS = \"\", s.PU1 = \"\", s.PU2 = \"\", s.STS = \"\", s.CCH = \"\", s.MW = \"\", s.SPA = \"\", s.EPA = \"\", s.SOS = \"\", s.SGCI = \"\", s.SCI = \"\", s.CSI = \"\", s.ST = \"\", s.OSC = \"\", s.PM = \"\", s.APC = \"\", (t.C1_ESCAPED || (t.C1_ESCAPED = {})).ST = \"\".concat(i.ESC, \"\\\\\");\n      },\n      7399: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.evaluateKeyboardEvent = void 0;\n        const s = i(2584),\n          r = {\n            48: [\"0\", \")\"],\n            49: [\"1\", \"!\"],\n            50: [\"2\", \"@\"],\n            51: [\"3\", \"#\"],\n            52: [\"4\", \"$\"],\n            53: [\"5\", \"%\"],\n            54: [\"6\", \"^\"],\n            55: [\"7\", \"&\"],\n            56: [\"8\", \"*\"],\n            57: [\"9\", \"(\"],\n            186: [\";\", \":\"],\n            187: [\"=\", \"+\"],\n            188: [\",\", \"<\"],\n            189: [\"-\", \"_\"],\n            190: [\".\", \">\"],\n            191: [\"/\", \"?\"],\n            192: [\"`\", \"~\"],\n            219: [\"[\", \"{\"],\n            220: [\"\\\\\", \"|\"],\n            221: [\"]\", \"}\"],\n            222: [\"'\", '\"']\n          };\n        t.evaluateKeyboardEvent = function (e, t, i, n) {\n          const o = {\n              type: 0,\n              cancel: !1,\n              key: void 0\n            },\n            a = (e.shiftKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.ctrlKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n          switch (e.keyCode) {\n            case 0:\n              \"UIKeyInputUpArrow\" === e.key ? o.key = t ? s.C0.ESC + \"OA\" : s.C0.ESC + \"[A\" : \"UIKeyInputLeftArrow\" === e.key ? o.key = t ? s.C0.ESC + \"OD\" : s.C0.ESC + \"[D\" : \"UIKeyInputRightArrow\" === e.key ? o.key = t ? s.C0.ESC + \"OC\" : s.C0.ESC + \"[C\" : \"UIKeyInputDownArrow\" === e.key && (o.key = t ? s.C0.ESC + \"OB\" : s.C0.ESC + \"[B\");\n              break;\n            case 8:\n              if (e.altKey) {\n                o.key = s.C0.ESC + s.C0.DEL;\n                break;\n              }\n              o.key = s.C0.DEL;\n              break;\n            case 9:\n              if (e.shiftKey) {\n                o.key = s.C0.ESC + \"[Z\";\n                break;\n              }\n              o.key = s.C0.HT, o.cancel = !0;\n              break;\n            case 13:\n              o.key = e.altKey ? s.C0.ESC + s.C0.CR : s.C0.CR, o.cancel = !0;\n              break;\n            case 27:\n              o.key = s.C0.ESC, e.altKey && (o.key = s.C0.ESC + s.C0.ESC), o.cancel = !0;\n              break;\n            case 37:\n              if (e.metaKey) break;\n              a ? (o.key = s.C0.ESC + \"[1;\" + (a + 1) + \"D\", o.key === s.C0.ESC + \"[1;3D\" && (o.key = s.C0.ESC + (i ? \"b\" : \"[1;5D\"))) : o.key = t ? s.C0.ESC + \"OD\" : s.C0.ESC + \"[D\";\n              break;\n            case 39:\n              if (e.metaKey) break;\n              a ? (o.key = s.C0.ESC + \"[1;\" + (a + 1) + \"C\", o.key === s.C0.ESC + \"[1;3C\" && (o.key = s.C0.ESC + (i ? \"f\" : \"[1;5C\"))) : o.key = t ? s.C0.ESC + \"OC\" : s.C0.ESC + \"[C\";\n              break;\n            case 38:\n              if (e.metaKey) break;\n              a ? (o.key = s.C0.ESC + \"[1;\" + (a + 1) + \"A\", i || o.key !== s.C0.ESC + \"[1;3A\" || (o.key = s.C0.ESC + \"[1;5A\")) : o.key = t ? s.C0.ESC + \"OA\" : s.C0.ESC + \"[A\";\n              break;\n            case 40:\n              if (e.metaKey) break;\n              a ? (o.key = s.C0.ESC + \"[1;\" + (a + 1) + \"B\", i || o.key !== s.C0.ESC + \"[1;3B\" || (o.key = s.C0.ESC + \"[1;5B\")) : o.key = t ? s.C0.ESC + \"OB\" : s.C0.ESC + \"[B\";\n              break;\n            case 45:\n              e.shiftKey || e.ctrlKey || (o.key = s.C0.ESC + \"[2~\");\n              break;\n            case 46:\n              o.key = a ? s.C0.ESC + \"[3;\" + (a + 1) + \"~\" : s.C0.ESC + \"[3~\";\n              break;\n            case 36:\n              o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"H\" : t ? s.C0.ESC + \"OH\" : s.C0.ESC + \"[H\";\n              break;\n            case 35:\n              o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"F\" : t ? s.C0.ESC + \"OF\" : s.C0.ESC + \"[F\";\n              break;\n            case 33:\n              e.shiftKey ? o.type = 2 : e.ctrlKey ? o.key = s.C0.ESC + \"[5;\" + (a + 1) + \"~\" : o.key = s.C0.ESC + \"[5~\";\n              break;\n            case 34:\n              e.shiftKey ? o.type = 3 : e.ctrlKey ? o.key = s.C0.ESC + \"[6;\" + (a + 1) + \"~\" : o.key = s.C0.ESC + \"[6~\";\n              break;\n            case 112:\n              o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"P\" : s.C0.ESC + \"OP\";\n              break;\n            case 113:\n              o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"Q\" : s.C0.ESC + \"OQ\";\n              break;\n            case 114:\n              o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"R\" : s.C0.ESC + \"OR\";\n              break;\n            case 115:\n              o.key = a ? s.C0.ESC + \"[1;\" + (a + 1) + \"S\" : s.C0.ESC + \"OS\";\n              break;\n            case 116:\n              o.key = a ? s.C0.ESC + \"[15;\" + (a + 1) + \"~\" : s.C0.ESC + \"[15~\";\n              break;\n            case 117:\n              o.key = a ? s.C0.ESC + \"[17;\" + (a + 1) + \"~\" : s.C0.ESC + \"[17~\";\n              break;\n            case 118:\n              o.key = a ? s.C0.ESC + \"[18;\" + (a + 1) + \"~\" : s.C0.ESC + \"[18~\";\n              break;\n            case 119:\n              o.key = a ? s.C0.ESC + \"[19;\" + (a + 1) + \"~\" : s.C0.ESC + \"[19~\";\n              break;\n            case 120:\n              o.key = a ? s.C0.ESC + \"[20;\" + (a + 1) + \"~\" : s.C0.ESC + \"[20~\";\n              break;\n            case 121:\n              o.key = a ? s.C0.ESC + \"[21;\" + (a + 1) + \"~\" : s.C0.ESC + \"[21~\";\n              break;\n            case 122:\n              o.key = a ? s.C0.ESC + \"[23;\" + (a + 1) + \"~\" : s.C0.ESC + \"[23~\";\n              break;\n            case 123:\n              o.key = a ? s.C0.ESC + \"[24;\" + (a + 1) + \"~\" : s.C0.ESC + \"[24~\";\n              break;\n            default:\n              if (!e.ctrlKey || e.shiftKey || e.altKey || e.metaKey) {\n                if (i && !n || !e.altKey || e.metaKey) !i || e.altKey || e.ctrlKey || e.shiftKey || !e.metaKey ? e.key && !e.ctrlKey && !e.altKey && !e.metaKey && e.keyCode >= 48 && 1 === e.key.length ? o.key = e.key : e.key && e.ctrlKey && (\"_\" === e.key && (o.key = s.C0.US), \"@\" === e.key && (o.key = s.C0.NUL)) : 65 === e.keyCode && (o.type = 1);else {\n                  const t = r[e.keyCode],\n                    i = null == t ? void 0 : t[e.shiftKey ? 1 : 0];\n                  if (i) o.key = s.C0.ESC + i;else if (e.keyCode >= 65 && e.keyCode <= 90) {\n                    const t = e.ctrlKey ? e.keyCode - 64 : e.keyCode + 32;\n                    let i = String.fromCharCode(t);\n                    e.shiftKey && (i = i.toUpperCase()), o.key = s.C0.ESC + i;\n                  } else if (32 === e.keyCode) o.key = s.C0.ESC + (e.ctrlKey ? s.C0.NUL : \" \");else if (\"Dead\" === e.key && e.code.startsWith(\"Key\")) {\n                    let t = e.code.slice(3, 4);\n                    e.shiftKey || (t = t.toLowerCase()), o.key = s.C0.ESC + t, o.cancel = !0;\n                  }\n                }\n              } else e.keyCode >= 65 && e.keyCode <= 90 ? o.key = String.fromCharCode(e.keyCode - 64) : 32 === e.keyCode ? o.key = s.C0.NUL : e.keyCode >= 51 && e.keyCode <= 55 ? o.key = String.fromCharCode(e.keyCode - 51 + 27) : 56 === e.keyCode ? o.key = s.C0.DEL : 219 === e.keyCode ? o.key = s.C0.ESC : 220 === e.keyCode ? o.key = s.C0.FS : 221 === e.keyCode && (o.key = s.C0.GS);\n          }\n          return o;\n        };\n      },\n      482: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Utf8ToUtf32 = t.StringToUtf32 = t.utf32ToString = t.stringFromCodePoint = void 0, t.stringFromCodePoint = function (e) {\n          return e > 65535 ? (e -= 65536, String.fromCharCode(55296 + (e >> 10)) + String.fromCharCode(e % 1024 + 56320)) : String.fromCharCode(e);\n        }, t.utf32ToString = function (e) {\n          let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : e.length;\n          let s = \"\";\n          for (let r = t; r < i; ++r) {\n            let t = e[r];\n            t > 65535 ? (t -= 65536, s += String.fromCharCode(55296 + (t >> 10)) + String.fromCharCode(t % 1024 + 56320)) : s += String.fromCharCode(t);\n          }\n          return s;\n        }, t.StringToUtf32 = class {\n          constructor() {\n            this._interim = 0;\n          }\n          clear() {\n            this._interim = 0;\n          }\n          decode(e, t) {\n            const i = e.length;\n            if (!i) return 0;\n            let s = 0,\n              r = 0;\n            if (this._interim) {\n              const i = e.charCodeAt(r++);\n              56320 <= i && i <= 57343 ? t[s++] = 1024 * (this._interim - 55296) + i - 56320 + 65536 : (t[s++] = this._interim, t[s++] = i), this._interim = 0;\n            }\n            for (let n = r; n < i; ++n) {\n              const r = e.charCodeAt(n);\n              if (55296 <= r && r <= 56319) {\n                if (++n >= i) return this._interim = r, s;\n                const o = e.charCodeAt(n);\n                56320 <= o && o <= 57343 ? t[s++] = 1024 * (r - 55296) + o - 56320 + 65536 : (t[s++] = r, t[s++] = o);\n              } else 65279 !== r && (t[s++] = r);\n            }\n            return s;\n          }\n        }, t.Utf8ToUtf32 = class {\n          constructor() {\n            this.interim = new Uint8Array(3);\n          }\n          clear() {\n            this.interim.fill(0);\n          }\n          decode(e, t) {\n            const i = e.length;\n            if (!i) return 0;\n            let s,\n              r,\n              n,\n              o,\n              a = 0,\n              h = 0,\n              c = 0;\n            if (this.interim[0]) {\n              let s = !1,\n                r = this.interim[0];\n              r &= 192 == (224 & r) ? 31 : 224 == (240 & r) ? 15 : 7;\n              let n,\n                o = 0;\n              for (; (n = 63 & this.interim[++o]) && o < 4;) r <<= 6, r |= n;\n              const h = 192 == (224 & this.interim[0]) ? 2 : 224 == (240 & this.interim[0]) ? 3 : 4,\n                l = h - o;\n              for (; c < l;) {\n                if (c >= i) return 0;\n                if (n = e[c++], 128 != (192 & n)) {\n                  c--, s = !0;\n                  break;\n                }\n                this.interim[o++] = n, r <<= 6, r |= 63 & n;\n              }\n              s || (2 === h ? r < 128 ? c-- : t[a++] = r : 3 === h ? r < 2048 || r >= 55296 && r <= 57343 || 65279 === r || (t[a++] = r) : r < 65536 || r > 1114111 || (t[a++] = r)), this.interim.fill(0);\n            }\n            const l = i - 4;\n            let d = c;\n            for (; d < i;) {\n              for (; !(!(d < l) || 128 & (s = e[d]) || 128 & (r = e[d + 1]) || 128 & (n = e[d + 2]) || 128 & (o = e[d + 3]));) t[a++] = s, t[a++] = r, t[a++] = n, t[a++] = o, d += 4;\n              if (s = e[d++], s < 128) t[a++] = s;else if (192 == (224 & s)) {\n                if (d >= i) return this.interim[0] = s, a;\n                if (r = e[d++], 128 != (192 & r)) {\n                  d--;\n                  continue;\n                }\n                if (h = (31 & s) << 6 | 63 & r, h < 128) {\n                  d--;\n                  continue;\n                }\n                t[a++] = h;\n              } else if (224 == (240 & s)) {\n                if (d >= i) return this.interim[0] = s, a;\n                if (r = e[d++], 128 != (192 & r)) {\n                  d--;\n                  continue;\n                }\n                if (d >= i) return this.interim[0] = s, this.interim[1] = r, a;\n                if (n = e[d++], 128 != (192 & n)) {\n                  d--;\n                  continue;\n                }\n                if (h = (15 & s) << 12 | (63 & r) << 6 | 63 & n, h < 2048 || h >= 55296 && h <= 57343 || 65279 === h) continue;\n                t[a++] = h;\n              } else if (240 == (248 & s)) {\n                if (d >= i) return this.interim[0] = s, a;\n                if (r = e[d++], 128 != (192 & r)) {\n                  d--;\n                  continue;\n                }\n                if (d >= i) return this.interim[0] = s, this.interim[1] = r, a;\n                if (n = e[d++], 128 != (192 & n)) {\n                  d--;\n                  continue;\n                }\n                if (d >= i) return this.interim[0] = s, this.interim[1] = r, this.interim[2] = n, a;\n                if (o = e[d++], 128 != (192 & o)) {\n                  d--;\n                  continue;\n                }\n                if (h = (7 & s) << 18 | (63 & r) << 12 | (63 & n) << 6 | 63 & o, h < 65536 || h > 1114111) continue;\n                t[a++] = h;\n              }\n            }\n            return a;\n          }\n        };\n      },\n      225: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.UnicodeV6 = void 0;\n        const i = [[768, 879], [1155, 1158], [1160, 1161], [1425, 1469], [1471, 1471], [1473, 1474], [1476, 1477], [1479, 1479], [1536, 1539], [1552, 1557], [1611, 1630], [1648, 1648], [1750, 1764], [1767, 1768], [1770, 1773], [1807, 1807], [1809, 1809], [1840, 1866], [1958, 1968], [2027, 2035], [2305, 2306], [2364, 2364], [2369, 2376], [2381, 2381], [2385, 2388], [2402, 2403], [2433, 2433], [2492, 2492], [2497, 2500], [2509, 2509], [2530, 2531], [2561, 2562], [2620, 2620], [2625, 2626], [2631, 2632], [2635, 2637], [2672, 2673], [2689, 2690], [2748, 2748], [2753, 2757], [2759, 2760], [2765, 2765], [2786, 2787], [2817, 2817], [2876, 2876], [2879, 2879], [2881, 2883], [2893, 2893], [2902, 2902], [2946, 2946], [3008, 3008], [3021, 3021], [3134, 3136], [3142, 3144], [3146, 3149], [3157, 3158], [3260, 3260], [3263, 3263], [3270, 3270], [3276, 3277], [3298, 3299], [3393, 3395], [3405, 3405], [3530, 3530], [3538, 3540], [3542, 3542], [3633, 3633], [3636, 3642], [3655, 3662], [3761, 3761], [3764, 3769], [3771, 3772], [3784, 3789], [3864, 3865], [3893, 3893], [3895, 3895], [3897, 3897], [3953, 3966], [3968, 3972], [3974, 3975], [3984, 3991], [3993, 4028], [4038, 4038], [4141, 4144], [4146, 4146], [4150, 4151], [4153, 4153], [4184, 4185], [4448, 4607], [4959, 4959], [5906, 5908], [5938, 5940], [5970, 5971], [6002, 6003], [6068, 6069], [6071, 6077], [6086, 6086], [6089, 6099], [6109, 6109], [6155, 6157], [6313, 6313], [6432, 6434], [6439, 6440], [6450, 6450], [6457, 6459], [6679, 6680], [6912, 6915], [6964, 6964], [6966, 6970], [6972, 6972], [6978, 6978], [7019, 7027], [7616, 7626], [7678, 7679], [8203, 8207], [8234, 8238], [8288, 8291], [8298, 8303], [8400, 8431], [12330, 12335], [12441, 12442], [43014, 43014], [43019, 43019], [43045, 43046], [64286, 64286], [65024, 65039], [65056, 65059], [65279, 65279], [65529, 65531]],\n          s = [[68097, 68099], [68101, 68102], [68108, 68111], [68152, 68154], [68159, 68159], [119143, 119145], [119155, 119170], [119173, 119179], [119210, 119213], [119362, 119364], [917505, 917505], [917536, 917631], [917760, 917999]];\n        let r;\n        t.UnicodeV6 = class {\n          constructor() {\n            if (this.version = \"6\", !r) {\n              r = new Uint8Array(65536), r.fill(1), r[0] = 0, r.fill(0, 1, 32), r.fill(0, 127, 160), r.fill(2, 4352, 4448), r[9001] = 2, r[9002] = 2, r.fill(2, 11904, 42192), r[12351] = 1, r.fill(2, 44032, 55204), r.fill(2, 63744, 64256), r.fill(2, 65040, 65050), r.fill(2, 65072, 65136), r.fill(2, 65280, 65377), r.fill(2, 65504, 65511);\n              for (let e = 0; e < i.length; ++e) r.fill(0, i[e][0], i[e][1] + 1);\n            }\n          }\n          wcwidth(e) {\n            return e < 32 ? 0 : e < 127 ? 1 : e < 65536 ? r[e] : function (e, t) {\n              let i,\n                s = 0,\n                r = t.length - 1;\n              if (e < t[0][0] || e > t[r][1]) return !1;\n              for (; r >= s;) if (i = s + r >> 1, e > t[i][1]) s = i + 1;else {\n                if (!(e < t[i][0])) return !0;\n                r = i - 1;\n              }\n              return !1;\n            }(e, s) ? 0 : e >= 131072 && e <= 196605 || e >= 196608 && e <= 262141 ? 2 : 1;\n          }\n        };\n      },\n      5981: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.WriteBuffer = void 0;\n        const s = i(8460),\n          r = i(844);\n        class n extends r.Disposable {\n          constructor(e) {\n            super(), this._action = e, this._writeBuffer = [], this._callbacks = [], this._pendingData = 0, this._bufferOffset = 0, this._isSyncWriting = !1, this._syncCalls = 0, this._didUserInput = !1, this._onWriteParsed = this.register(new s.EventEmitter()), this.onWriteParsed = this._onWriteParsed.event;\n          }\n          handleUserInput() {\n            this._didUserInput = !0;\n          }\n          writeSync(e, t) {\n            if (void 0 !== t && this._syncCalls > t) return void (this._syncCalls = 0);\n            if (this._pendingData += e.length, this._writeBuffer.push(e), this._callbacks.push(void 0), this._syncCalls++, this._isSyncWriting) return;\n            let i;\n            for (this._isSyncWriting = !0; i = this._writeBuffer.shift();) {\n              this._action(i);\n              const e = this._callbacks.shift();\n              e && e();\n            }\n            this._pendingData = 0, this._bufferOffset = 2147483647, this._isSyncWriting = !1, this._syncCalls = 0;\n          }\n          write(e, t) {\n            if (this._pendingData > 5e7) throw new Error(\"write data discarded, use flow control to avoid losing data\");\n            if (!this._writeBuffer.length) {\n              if (this._bufferOffset = 0, this._didUserInput) return this._didUserInput = !1, this._pendingData += e.length, this._writeBuffer.push(e), this._callbacks.push(t), void this._innerWrite();\n              setTimeout(() => this._innerWrite());\n            }\n            this._pendingData += e.length, this._writeBuffer.push(e), this._callbacks.push(t);\n          }\n          _innerWrite() {\n            let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n            const i = e || Date.now();\n            for (; this._writeBuffer.length > this._bufferOffset;) {\n              const e = this._writeBuffer[this._bufferOffset],\n                s = this._action(e, t);\n              if (s) {\n                const e = e => Date.now() - i >= 12 ? setTimeout(() => this._innerWrite(0, e)) : this._innerWrite(i, e);\n                return void s.catch(e => (queueMicrotask(() => {\n                  throw e;\n                }), Promise.resolve(!1))).then(e);\n              }\n              const r = this._callbacks[this._bufferOffset];\n              if (r && r(), this._bufferOffset++, this._pendingData -= e.length, Date.now() - i >= 12) break;\n            }\n            this._writeBuffer.length > this._bufferOffset ? (this._bufferOffset > 50 && (this._writeBuffer = this._writeBuffer.slice(this._bufferOffset), this._callbacks = this._callbacks.slice(this._bufferOffset), this._bufferOffset = 0), setTimeout(() => this._innerWrite())) : (this._writeBuffer.length = 0, this._callbacks.length = 0, this._pendingData = 0, this._bufferOffset = 0), this._onWriteParsed.fire();\n          }\n        }\n        t.WriteBuffer = n;\n      },\n      5941: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.toRgbString = t.parseColor = void 0;\n        const i = /^([\\da-f])\\/([\\da-f])\\/([\\da-f])$|^([\\da-f]{2})\\/([\\da-f]{2})\\/([\\da-f]{2})$|^([\\da-f]{3})\\/([\\da-f]{3})\\/([\\da-f]{3})$|^([\\da-f]{4})\\/([\\da-f]{4})\\/([\\da-f]{4})$/,\n          s = /^[\\da-f]+$/;\n        function r(e, t) {\n          const i = e.toString(16),\n            s = i.length < 2 ? \"0\" + i : i;\n          switch (t) {\n            case 4:\n              return i[0];\n            case 8:\n              return s;\n            case 12:\n              return (s + s).slice(0, 3);\n            default:\n              return s + s;\n          }\n        }\n        t.parseColor = function (e) {\n          if (!e) return;\n          let t = e.toLowerCase();\n          if (0 === t.indexOf(\"rgb:\")) {\n            t = t.slice(4);\n            const e = i.exec(t);\n            if (e) {\n              const t = e[1] ? 15 : e[4] ? 255 : e[7] ? 4095 : 65535;\n              return [Math.round(parseInt(e[1] || e[4] || e[7] || e[10], 16) / t * 255), Math.round(parseInt(e[2] || e[5] || e[8] || e[11], 16) / t * 255), Math.round(parseInt(e[3] || e[6] || e[9] || e[12], 16) / t * 255)];\n            }\n          } else if (0 === t.indexOf(\"#\") && (t = t.slice(1), s.exec(t) && [3, 6, 9, 12].includes(t.length))) {\n            const e = t.length / 3,\n              i = [0, 0, 0];\n            for (let s = 0; s < 3; ++s) {\n              const r = parseInt(t.slice(e * s, e * s + e), 16);\n              i[s] = 1 === e ? r << 4 : 2 === e ? r : 3 === e ? r >> 4 : r >> 8;\n            }\n            return i;\n          }\n        }, t.toRgbString = function (e) {\n          let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n          const [i, s, n] = e;\n          return \"rgb:\".concat(r(i, t), \"/\").concat(r(s, t), \"/\").concat(r(n, t));\n        };\n      },\n      5770: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.PAYLOAD_LIMIT = void 0, t.PAYLOAD_LIMIT = 1e7;\n      },\n      6351: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.DcsHandler = t.DcsParser = void 0;\n        const s = i(482),\n          r = i(8742),\n          n = i(5770),\n          o = [];\n        t.DcsParser = class {\n          constructor() {\n            this._handlers = Object.create(null), this._active = o, this._ident = 0, this._handlerFb = () => {}, this._stack = {\n              paused: !1,\n              loopPosition: 0,\n              fallThrough: !1\n            };\n          }\n          dispose() {\n            this._handlers = Object.create(null), this._handlerFb = () => {}, this._active = o;\n          }\n          registerHandler(e, t) {\n            void 0 === this._handlers[e] && (this._handlers[e] = []);\n            const i = this._handlers[e];\n            return i.push(t), {\n              dispose: () => {\n                const e = i.indexOf(t);\n                -1 !== e && i.splice(e, 1);\n              }\n            };\n          }\n          clearHandler(e) {\n            this._handlers[e] && delete this._handlers[e];\n          }\n          setHandlerFallback(e) {\n            this._handlerFb = e;\n          }\n          reset() {\n            if (this._active.length) for (let e = this._stack.paused ? this._stack.loopPosition - 1 : this._active.length - 1; e >= 0; --e) this._active[e].unhook(!1);\n            this._stack.paused = !1, this._active = o, this._ident = 0;\n          }\n          hook(e, t) {\n            if (this.reset(), this._ident = e, this._active = this._handlers[e] || o, this._active.length) for (let e = this._active.length - 1; e >= 0; e--) this._active[e].hook(t);else this._handlerFb(this._ident, \"HOOK\", t);\n          }\n          put(e, t, i) {\n            if (this._active.length) for (let s = this._active.length - 1; s >= 0; s--) this._active[s].put(e, t, i);else this._handlerFb(this._ident, \"PUT\", (0, s.utf32ToString)(e, t, i));\n          }\n          unhook(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n            if (this._active.length) {\n              let i = !1,\n                s = this._active.length - 1,\n                r = !1;\n              if (this._stack.paused && (s = this._stack.loopPosition - 1, i = t, r = this._stack.fallThrough, this._stack.paused = !1), !r && !1 === i) {\n                for (; s >= 0 && (i = this._active[s].unhook(e), !0 !== i); s--) if (i instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = s, this._stack.fallThrough = !1, i;\n                s--;\n              }\n              for (; s >= 0; s--) if (i = this._active[s].unhook(!1), i instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = s, this._stack.fallThrough = !0, i;\n            } else this._handlerFb(this._ident, \"UNHOOK\", e);\n            this._active = o, this._ident = 0;\n          }\n        };\n        const a = new r.Params();\n        a.addParam(0), t.DcsHandler = class {\n          constructor(e) {\n            this._handler = e, this._data = \"\", this._params = a, this._hitLimit = !1;\n          }\n          hook(e) {\n            this._params = e.length > 1 || e.params[0] ? e.clone() : a, this._data = \"\", this._hitLimit = !1;\n          }\n          put(e, t, i) {\n            this._hitLimit || (this._data += (0, s.utf32ToString)(e, t, i), this._data.length > n.PAYLOAD_LIMIT && (this._data = \"\", this._hitLimit = !0));\n          }\n          unhook(e) {\n            let t = !1;\n            if (this._hitLimit) t = !1;else if (e && (t = this._handler(this._data, this._params), t instanceof Promise)) return t.then(e => (this._params = a, this._data = \"\", this._hitLimit = !1, e));\n            return this._params = a, this._data = \"\", this._hitLimit = !1, t;\n          }\n        };\n      },\n      2015: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.EscapeSequenceParser = t.VT500_TRANSITION_TABLE = t.TransitionTable = void 0;\n        const s = i(844),\n          r = i(8742),\n          n = i(6242),\n          o = i(6351);\n        class a {\n          constructor(e) {\n            this.table = new Uint8Array(e);\n          }\n          setDefault(e, t) {\n            this.table.fill(e << 4 | t);\n          }\n          add(e, t, i, s) {\n            this.table[t << 8 | e] = i << 4 | s;\n          }\n          addMany(e, t, i, s) {\n            for (let r = 0; r < e.length; r++) this.table[t << 8 | e[r]] = i << 4 | s;\n          }\n        }\n        t.TransitionTable = a;\n        const h = 160;\n        t.VT500_TRANSITION_TABLE = function () {\n          const e = new a(4095),\n            t = Array.apply(null, Array(256)).map((e, t) => t),\n            i = (e, i) => t.slice(e, i),\n            s = i(32, 127),\n            r = i(0, 24);\n          r.push(25), r.push.apply(r, i(28, 32));\n          const n = i(0, 14);\n          let o;\n          for (o in e.setDefault(1, 0), e.addMany(s, 0, 2, 0), n) e.addMany([24, 26, 153, 154], o, 3, 0), e.addMany(i(128, 144), o, 3, 0), e.addMany(i(144, 152), o, 3, 0), e.add(156, o, 0, 0), e.add(27, o, 11, 1), e.add(157, o, 4, 8), e.addMany([152, 158, 159], o, 0, 7), e.add(155, o, 11, 3), e.add(144, o, 11, 9);\n          return e.addMany(r, 0, 3, 0), e.addMany(r, 1, 3, 1), e.add(127, 1, 0, 1), e.addMany(r, 8, 0, 8), e.addMany(r, 3, 3, 3), e.add(127, 3, 0, 3), e.addMany(r, 4, 3, 4), e.add(127, 4, 0, 4), e.addMany(r, 6, 3, 6), e.addMany(r, 5, 3, 5), e.add(127, 5, 0, 5), e.addMany(r, 2, 3, 2), e.add(127, 2, 0, 2), e.add(93, 1, 4, 8), e.addMany(s, 8, 5, 8), e.add(127, 8, 5, 8), e.addMany([156, 27, 24, 26, 7], 8, 6, 0), e.addMany(i(28, 32), 8, 0, 8), e.addMany([88, 94, 95], 1, 0, 7), e.addMany(s, 7, 0, 7), e.addMany(r, 7, 0, 7), e.add(156, 7, 0, 0), e.add(127, 7, 0, 7), e.add(91, 1, 11, 3), e.addMany(i(64, 127), 3, 7, 0), e.addMany(i(48, 60), 3, 8, 4), e.addMany([60, 61, 62, 63], 3, 9, 4), e.addMany(i(48, 60), 4, 8, 4), e.addMany(i(64, 127), 4, 7, 0), e.addMany([60, 61, 62, 63], 4, 0, 6), e.addMany(i(32, 64), 6, 0, 6), e.add(127, 6, 0, 6), e.addMany(i(64, 127), 6, 0, 0), e.addMany(i(32, 48), 3, 9, 5), e.addMany(i(32, 48), 5, 9, 5), e.addMany(i(48, 64), 5, 0, 6), e.addMany(i(64, 127), 5, 7, 0), e.addMany(i(32, 48), 4, 9, 5), e.addMany(i(32, 48), 1, 9, 2), e.addMany(i(32, 48), 2, 9, 2), e.addMany(i(48, 127), 2, 10, 0), e.addMany(i(48, 80), 1, 10, 0), e.addMany(i(81, 88), 1, 10, 0), e.addMany([89, 90, 92], 1, 10, 0), e.addMany(i(96, 127), 1, 10, 0), e.add(80, 1, 11, 9), e.addMany(r, 9, 0, 9), e.add(127, 9, 0, 9), e.addMany(i(28, 32), 9, 0, 9), e.addMany(i(32, 48), 9, 9, 12), e.addMany(i(48, 60), 9, 8, 10), e.addMany([60, 61, 62, 63], 9, 9, 10), e.addMany(r, 11, 0, 11), e.addMany(i(32, 128), 11, 0, 11), e.addMany(i(28, 32), 11, 0, 11), e.addMany(r, 10, 0, 10), e.add(127, 10, 0, 10), e.addMany(i(28, 32), 10, 0, 10), e.addMany(i(48, 60), 10, 8, 10), e.addMany([60, 61, 62, 63], 10, 0, 11), e.addMany(i(32, 48), 10, 9, 12), e.addMany(r, 12, 0, 12), e.add(127, 12, 0, 12), e.addMany(i(28, 32), 12, 0, 12), e.addMany(i(32, 48), 12, 9, 12), e.addMany(i(48, 64), 12, 0, 11), e.addMany(i(64, 127), 12, 12, 13), e.addMany(i(64, 127), 10, 12, 13), e.addMany(i(64, 127), 9, 12, 13), e.addMany(r, 13, 13, 13), e.addMany(s, 13, 13, 13), e.add(127, 13, 0, 13), e.addMany([27, 156, 24, 26], 13, 14, 0), e.add(h, 0, 2, 0), e.add(h, 8, 5, 8), e.add(h, 6, 0, 6), e.add(h, 11, 0, 11), e.add(h, 13, 13, 13), e;\n        }();\n        class c extends s.Disposable {\n          constructor() {\n            let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : t.VT500_TRANSITION_TABLE;\n            super(), this._transitions = e, this._parseStack = {\n              state: 0,\n              handlers: [],\n              handlerPos: 0,\n              transition: 0,\n              chunkPos: 0\n            }, this.initialState = 0, this.currentState = this.initialState, this._params = new r.Params(), this._params.addParam(0), this._collect = 0, this.precedingCodepoint = 0, this._printHandlerFb = (e, t, i) => {}, this._executeHandlerFb = e => {}, this._csiHandlerFb = (e, t) => {}, this._escHandlerFb = e => {}, this._errorHandlerFb = e => e, this._printHandler = this._printHandlerFb, this._executeHandlers = Object.create(null), this._csiHandlers = Object.create(null), this._escHandlers = Object.create(null), this.register((0, s.toDisposable)(() => {\n              this._csiHandlers = Object.create(null), this._executeHandlers = Object.create(null), this._escHandlers = Object.create(null);\n            })), this._oscParser = this.register(new n.OscParser()), this._dcsParser = this.register(new o.DcsParser()), this._errorHandler = this._errorHandlerFb, this.registerEscHandler({\n              final: \"\\\\\"\n            }, () => !0);\n          }\n          _identifier(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [64, 126];\n            let i = 0;\n            if (e.prefix) {\n              if (e.prefix.length > 1) throw new Error(\"only one byte as prefix supported\");\n              if (i = e.prefix.charCodeAt(0), i && 60 > i || i > 63) throw new Error(\"prefix must be in range 0x3c .. 0x3f\");\n            }\n            if (e.intermediates) {\n              if (e.intermediates.length > 2) throw new Error(\"only two bytes as intermediates are supported\");\n              for (let t = 0; t < e.intermediates.length; ++t) {\n                const s = e.intermediates.charCodeAt(t);\n                if (32 > s || s > 47) throw new Error(\"intermediate must be in range 0x20 .. 0x2f\");\n                i <<= 8, i |= s;\n              }\n            }\n            if (1 !== e.final.length) throw new Error(\"final must be a single byte\");\n            const s = e.final.charCodeAt(0);\n            if (t[0] > s || s > t[1]) throw new Error(\"final must be in range \".concat(t[0], \" .. \").concat(t[1]));\n            return i <<= 8, i |= s, i;\n          }\n          identToString(e) {\n            const t = [];\n            for (; e;) t.push(String.fromCharCode(255 & e)), e >>= 8;\n            return t.reverse().join(\"\");\n          }\n          setPrintHandler(e) {\n            this._printHandler = e;\n          }\n          clearPrintHandler() {\n            this._printHandler = this._printHandlerFb;\n          }\n          registerEscHandler(e, t) {\n            const i = this._identifier(e, [48, 126]);\n            void 0 === this._escHandlers[i] && (this._escHandlers[i] = []);\n            const s = this._escHandlers[i];\n            return s.push(t), {\n              dispose: () => {\n                const e = s.indexOf(t);\n                -1 !== e && s.splice(e, 1);\n              }\n            };\n          }\n          clearEscHandler(e) {\n            this._escHandlers[this._identifier(e, [48, 126])] && delete this._escHandlers[this._identifier(e, [48, 126])];\n          }\n          setEscHandlerFallback(e) {\n            this._escHandlerFb = e;\n          }\n          setExecuteHandler(e, t) {\n            this._executeHandlers[e.charCodeAt(0)] = t;\n          }\n          clearExecuteHandler(e) {\n            this._executeHandlers[e.charCodeAt(0)] && delete this._executeHandlers[e.charCodeAt(0)];\n          }\n          setExecuteHandlerFallback(e) {\n            this._executeHandlerFb = e;\n          }\n          registerCsiHandler(e, t) {\n            const i = this._identifier(e);\n            void 0 === this._csiHandlers[i] && (this._csiHandlers[i] = []);\n            const s = this._csiHandlers[i];\n            return s.push(t), {\n              dispose: () => {\n                const e = s.indexOf(t);\n                -1 !== e && s.splice(e, 1);\n              }\n            };\n          }\n          clearCsiHandler(e) {\n            this._csiHandlers[this._identifier(e)] && delete this._csiHandlers[this._identifier(e)];\n          }\n          setCsiHandlerFallback(e) {\n            this._csiHandlerFb = e;\n          }\n          registerDcsHandler(e, t) {\n            return this._dcsParser.registerHandler(this._identifier(e), t);\n          }\n          clearDcsHandler(e) {\n            this._dcsParser.clearHandler(this._identifier(e));\n          }\n          setDcsHandlerFallback(e) {\n            this._dcsParser.setHandlerFallback(e);\n          }\n          registerOscHandler(e, t) {\n            return this._oscParser.registerHandler(e, t);\n          }\n          clearOscHandler(e) {\n            this._oscParser.clearHandler(e);\n          }\n          setOscHandlerFallback(e) {\n            this._oscParser.setHandlerFallback(e);\n          }\n          setErrorHandler(e) {\n            this._errorHandler = e;\n          }\n          clearErrorHandler() {\n            this._errorHandler = this._errorHandlerFb;\n          }\n          reset() {\n            this.currentState = this.initialState, this._oscParser.reset(), this._dcsParser.reset(), this._params.reset(), this._params.addParam(0), this._collect = 0, this.precedingCodepoint = 0, 0 !== this._parseStack.state && (this._parseStack.state = 2, this._parseStack.handlers = []);\n          }\n          _preserveStack(e, t, i, s, r) {\n            this._parseStack.state = e, this._parseStack.handlers = t, this._parseStack.handlerPos = i, this._parseStack.transition = s, this._parseStack.chunkPos = r;\n          }\n          parse(e, t, i) {\n            let s,\n              r = 0,\n              n = 0,\n              o = 0;\n            if (this._parseStack.state) if (2 === this._parseStack.state) this._parseStack.state = 0, o = this._parseStack.chunkPos + 1;else {\n              if (void 0 === i || 1 === this._parseStack.state) throw this._parseStack.state = 1, new Error(\"improper continuation due to previous async handler, giving up parsing\");\n              const t = this._parseStack.handlers;\n              let n = this._parseStack.handlerPos - 1;\n              switch (this._parseStack.state) {\n                case 3:\n                  if (!1 === i && n > -1) for (; n >= 0 && (s = t[n](this._params), !0 !== s); n--) if (s instanceof Promise) return this._parseStack.handlerPos = n, s;\n                  this._parseStack.handlers = [];\n                  break;\n                case 4:\n                  if (!1 === i && n > -1) for (; n >= 0 && (s = t[n](), !0 !== s); n--) if (s instanceof Promise) return this._parseStack.handlerPos = n, s;\n                  this._parseStack.handlers = [];\n                  break;\n                case 6:\n                  if (r = e[this._parseStack.chunkPos], s = this._dcsParser.unhook(24 !== r && 26 !== r, i), s) return s;\n                  27 === r && (this._parseStack.transition |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0;\n                  break;\n                case 5:\n                  if (r = e[this._parseStack.chunkPos], s = this._oscParser.end(24 !== r && 26 !== r, i), s) return s;\n                  27 === r && (this._parseStack.transition |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0;\n              }\n              this._parseStack.state = 0, o = this._parseStack.chunkPos + 1, this.precedingCodepoint = 0, this.currentState = 15 & this._parseStack.transition;\n            }\n            for (let i = o; i < t; ++i) {\n              switch (r = e[i], n = this._transitions.table[this.currentState << 8 | (r < 160 ? r : h)], n >> 4) {\n                case 2:\n                  for (let s = i + 1;; ++s) {\n                    if (s >= t || (r = e[s]) < 32 || r > 126 && r < h) {\n                      this._printHandler(e, i, s), i = s - 1;\n                      break;\n                    }\n                    if (++s >= t || (r = e[s]) < 32 || r > 126 && r < h) {\n                      this._printHandler(e, i, s), i = s - 1;\n                      break;\n                    }\n                    if (++s >= t || (r = e[s]) < 32 || r > 126 && r < h) {\n                      this._printHandler(e, i, s), i = s - 1;\n                      break;\n                    }\n                    if (++s >= t || (r = e[s]) < 32 || r > 126 && r < h) {\n                      this._printHandler(e, i, s), i = s - 1;\n                      break;\n                    }\n                  }\n                  break;\n                case 3:\n                  this._executeHandlers[r] ? this._executeHandlers[r]() : this._executeHandlerFb(r), this.precedingCodepoint = 0;\n                  break;\n                case 0:\n                  break;\n                case 1:\n                  if (this._errorHandler({\n                    position: i,\n                    code: r,\n                    currentState: this.currentState,\n                    collect: this._collect,\n                    params: this._params,\n                    abort: !1\n                  }).abort) return;\n                  break;\n                case 7:\n                  const o = this._csiHandlers[this._collect << 8 | r];\n                  let a = o ? o.length - 1 : -1;\n                  for (; a >= 0 && (s = o[a](this._params), !0 !== s); a--) if (s instanceof Promise) return this._preserveStack(3, o, a, n, i), s;\n                  a < 0 && this._csiHandlerFb(this._collect << 8 | r, this._params), this.precedingCodepoint = 0;\n                  break;\n                case 8:\n                  do {\n                    switch (r) {\n                      case 59:\n                        this._params.addParam(0);\n                        break;\n                      case 58:\n                        this._params.addSubParam(-1);\n                        break;\n                      default:\n                        this._params.addDigit(r - 48);\n                    }\n                  } while (++i < t && (r = e[i]) > 47 && r < 60);\n                  i--;\n                  break;\n                case 9:\n                  this._collect <<= 8, this._collect |= r;\n                  break;\n                case 10:\n                  const c = this._escHandlers[this._collect << 8 | r];\n                  let l = c ? c.length - 1 : -1;\n                  for (; l >= 0 && (s = c[l](), !0 !== s); l--) if (s instanceof Promise) return this._preserveStack(4, c, l, n, i), s;\n                  l < 0 && this._escHandlerFb(this._collect << 8 | r), this.precedingCodepoint = 0;\n                  break;\n                case 11:\n                  this._params.reset(), this._params.addParam(0), this._collect = 0;\n                  break;\n                case 12:\n                  this._dcsParser.hook(this._collect << 8 | r, this._params);\n                  break;\n                case 13:\n                  for (let s = i + 1;; ++s) if (s >= t || 24 === (r = e[s]) || 26 === r || 27 === r || r > 127 && r < h) {\n                    this._dcsParser.put(e, i, s), i = s - 1;\n                    break;\n                  }\n                  break;\n                case 14:\n                  if (s = this._dcsParser.unhook(24 !== r && 26 !== r), s) return this._preserveStack(6, [], 0, n, i), s;\n                  27 === r && (n |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0, this.precedingCodepoint = 0;\n                  break;\n                case 4:\n                  this._oscParser.start();\n                  break;\n                case 5:\n                  for (let s = i + 1;; s++) if (s >= t || (r = e[s]) < 32 || r > 127 && r < h) {\n                    this._oscParser.put(e, i, s), i = s - 1;\n                    break;\n                  }\n                  break;\n                case 6:\n                  if (s = this._oscParser.end(24 !== r && 26 !== r), s) return this._preserveStack(5, [], 0, n, i), s;\n                  27 === r && (n |= 1), this._params.reset(), this._params.addParam(0), this._collect = 0, this.precedingCodepoint = 0;\n              }\n              this.currentState = 15 & n;\n            }\n          }\n        }\n        t.EscapeSequenceParser = c;\n      },\n      6242: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.OscHandler = t.OscParser = void 0;\n        const s = i(5770),\n          r = i(482),\n          n = [];\n        t.OscParser = class {\n          constructor() {\n            this._state = 0, this._active = n, this._id = -1, this._handlers = Object.create(null), this._handlerFb = () => {}, this._stack = {\n              paused: !1,\n              loopPosition: 0,\n              fallThrough: !1\n            };\n          }\n          registerHandler(e, t) {\n            void 0 === this._handlers[e] && (this._handlers[e] = []);\n            const i = this._handlers[e];\n            return i.push(t), {\n              dispose: () => {\n                const e = i.indexOf(t);\n                -1 !== e && i.splice(e, 1);\n              }\n            };\n          }\n          clearHandler(e) {\n            this._handlers[e] && delete this._handlers[e];\n          }\n          setHandlerFallback(e) {\n            this._handlerFb = e;\n          }\n          dispose() {\n            this._handlers = Object.create(null), this._handlerFb = () => {}, this._active = n;\n          }\n          reset() {\n            if (2 === this._state) for (let e = this._stack.paused ? this._stack.loopPosition - 1 : this._active.length - 1; e >= 0; --e) this._active[e].end(!1);\n            this._stack.paused = !1, this._active = n, this._id = -1, this._state = 0;\n          }\n          _start() {\n            if (this._active = this._handlers[this._id] || n, this._active.length) for (let e = this._active.length - 1; e >= 0; e--) this._active[e].start();else this._handlerFb(this._id, \"START\");\n          }\n          _put(e, t, i) {\n            if (this._active.length) for (let s = this._active.length - 1; s >= 0; s--) this._active[s].put(e, t, i);else this._handlerFb(this._id, \"PUT\", (0, r.utf32ToString)(e, t, i));\n          }\n          start() {\n            this.reset(), this._state = 1;\n          }\n          put(e, t, i) {\n            if (3 !== this._state) {\n              if (1 === this._state) for (; t < i;) {\n                const i = e[t++];\n                if (59 === i) {\n                  this._state = 2, this._start();\n                  break;\n                }\n                if (i < 48 || 57 < i) return void (this._state = 3);\n                -1 === this._id && (this._id = 0), this._id = 10 * this._id + i - 48;\n              }\n              2 === this._state && i - t > 0 && this._put(e, t, i);\n            }\n          }\n          end(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n            if (0 !== this._state) {\n              if (3 !== this._state) if (1 === this._state && this._start(), this._active.length) {\n                let i = !1,\n                  s = this._active.length - 1,\n                  r = !1;\n                if (this._stack.paused && (s = this._stack.loopPosition - 1, i = t, r = this._stack.fallThrough, this._stack.paused = !1), !r && !1 === i) {\n                  for (; s >= 0 && (i = this._active[s].end(e), !0 !== i); s--) if (i instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = s, this._stack.fallThrough = !1, i;\n                  s--;\n                }\n                for (; s >= 0; s--) if (i = this._active[s].end(!1), i instanceof Promise) return this._stack.paused = !0, this._stack.loopPosition = s, this._stack.fallThrough = !0, i;\n              } else this._handlerFb(this._id, \"END\", e);\n              this._active = n, this._id = -1, this._state = 0;\n            }\n          }\n        }, t.OscHandler = class {\n          constructor(e) {\n            this._handler = e, this._data = \"\", this._hitLimit = !1;\n          }\n          start() {\n            this._data = \"\", this._hitLimit = !1;\n          }\n          put(e, t, i) {\n            this._hitLimit || (this._data += (0, r.utf32ToString)(e, t, i), this._data.length > s.PAYLOAD_LIMIT && (this._data = \"\", this._hitLimit = !0));\n          }\n          end(e) {\n            let t = !1;\n            if (this._hitLimit) t = !1;else if (e && (t = this._handler(this._data), t instanceof Promise)) return t.then(e => (this._data = \"\", this._hitLimit = !1, e));\n            return this._data = \"\", this._hitLimit = !1, t;\n          }\n        };\n      },\n      8742: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.Params = void 0;\n        const i = 2147483647;\n        class s {\n          constructor() {\n            let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 32;\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 32;\n            if (this.maxLength = e, this.maxSubParamsLength = t, t > 256) throw new Error(\"maxSubParamsLength must not be greater than 256\");\n            this.params = new Int32Array(e), this.length = 0, this._subParams = new Int32Array(t), this._subParamsLength = 0, this._subParamsIdx = new Uint16Array(e), this._rejectDigits = !1, this._rejectSubDigits = !1, this._digitIsSub = !1;\n          }\n          static fromArray(e) {\n            const t = new s();\n            if (!e.length) return t;\n            for (let i = Array.isArray(e[0]) ? 1 : 0; i < e.length; ++i) {\n              const s = e[i];\n              if (Array.isArray(s)) for (let e = 0; e < s.length; ++e) t.addSubParam(s[e]);else t.addParam(s);\n            }\n            return t;\n          }\n          clone() {\n            const e = new s(this.maxLength, this.maxSubParamsLength);\n            return e.params.set(this.params), e.length = this.length, e._subParams.set(this._subParams), e._subParamsLength = this._subParamsLength, e._subParamsIdx.set(this._subParamsIdx), e._rejectDigits = this._rejectDigits, e._rejectSubDigits = this._rejectSubDigits, e._digitIsSub = this._digitIsSub, e;\n          }\n          toArray() {\n            const e = [];\n            for (let t = 0; t < this.length; ++t) {\n              e.push(this.params[t]);\n              const i = this._subParamsIdx[t] >> 8,\n                s = 255 & this._subParamsIdx[t];\n              s - i > 0 && e.push(Array.prototype.slice.call(this._subParams, i, s));\n            }\n            return e;\n          }\n          reset() {\n            this.length = 0, this._subParamsLength = 0, this._rejectDigits = !1, this._rejectSubDigits = !1, this._digitIsSub = !1;\n          }\n          addParam(e) {\n            if (this._digitIsSub = !1, this.length >= this.maxLength) this._rejectDigits = !0;else {\n              if (e < -1) throw new Error(\"values lesser than -1 are not allowed\");\n              this._subParamsIdx[this.length] = this._subParamsLength << 8 | this._subParamsLength, this.params[this.length++] = e > i ? i : e;\n            }\n          }\n          addSubParam(e) {\n            if (this._digitIsSub = !0, this.length) if (this._rejectDigits || this._subParamsLength >= this.maxSubParamsLength) this._rejectSubDigits = !0;else {\n              if (e < -1) throw new Error(\"values lesser than -1 are not allowed\");\n              this._subParams[this._subParamsLength++] = e > i ? i : e, this._subParamsIdx[this.length - 1]++;\n            }\n          }\n          hasSubParams(e) {\n            return (255 & this._subParamsIdx[e]) - (this._subParamsIdx[e] >> 8) > 0;\n          }\n          getSubParams(e) {\n            const t = this._subParamsIdx[e] >> 8,\n              i = 255 & this._subParamsIdx[e];\n            return i - t > 0 ? this._subParams.subarray(t, i) : null;\n          }\n          getSubParamsAll() {\n            const e = {};\n            for (let t = 0; t < this.length; ++t) {\n              const i = this._subParamsIdx[t] >> 8,\n                s = 255 & this._subParamsIdx[t];\n              s - i > 0 && (e[t] = this._subParams.slice(i, s));\n            }\n            return e;\n          }\n          addDigit(e) {\n            let t;\n            if (this._rejectDigits || !(t = this._digitIsSub ? this._subParamsLength : this.length) || this._digitIsSub && this._rejectSubDigits) return;\n            const s = this._digitIsSub ? this._subParams : this.params,\n              r = s[t - 1];\n            s[t - 1] = ~r ? Math.min(10 * r + e, i) : e;\n          }\n        }\n        t.Params = s;\n      },\n      5741: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.AddonManager = void 0, t.AddonManager = class {\n          constructor() {\n            this._addons = [];\n          }\n          dispose() {\n            for (let e = this._addons.length - 1; e >= 0; e--) this._addons[e].instance.dispose();\n          }\n          loadAddon(e, t) {\n            const i = {\n              instance: t,\n              dispose: t.dispose,\n              isDisposed: !1\n            };\n            this._addons.push(i), t.dispose = () => this._wrappedAddonDispose(i), t.activate(e);\n          }\n          _wrappedAddonDispose(e) {\n            if (e.isDisposed) return;\n            let t = -1;\n            for (let i = 0; i < this._addons.length; i++) if (this._addons[i] === e) {\n              t = i;\n              break;\n            }\n            if (-1 === t) throw new Error(\"Could not dispose an addon that has not been loaded\");\n            e.isDisposed = !0, e.dispose.apply(e.instance), this._addons.splice(t, 1);\n          }\n        };\n      },\n      8771: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferApiView = void 0;\n        const s = i(3785),\n          r = i(511);\n        t.BufferApiView = class {\n          constructor(e, t) {\n            this._buffer = e, this.type = t;\n          }\n          init(e) {\n            return this._buffer = e, this;\n          }\n          get cursorY() {\n            return this._buffer.y;\n          }\n          get cursorX() {\n            return this._buffer.x;\n          }\n          get viewportY() {\n            return this._buffer.ydisp;\n          }\n          get baseY() {\n            return this._buffer.ybase;\n          }\n          get length() {\n            return this._buffer.lines.length;\n          }\n          getLine(e) {\n            const t = this._buffer.lines.get(e);\n            if (t) return new s.BufferLineApiView(t);\n          }\n          getNullCell() {\n            return new r.CellData();\n          }\n        };\n      },\n      3785: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferLineApiView = void 0;\n        const s = i(511);\n        t.BufferLineApiView = class {\n          constructor(e) {\n            this._line = e;\n          }\n          get isWrapped() {\n            return this._line.isWrapped;\n          }\n          get length() {\n            return this._line.length;\n          }\n          getCell(e, t) {\n            if (!(e < 0 || e >= this._line.length)) return t ? (this._line.loadCell(e, t), t) : this._line.loadCell(e, new s.CellData());\n          }\n          translateToString(e, t, i) {\n            return this._line.translateToString(e, t, i);\n          }\n        };\n      },\n      8285: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferNamespaceApi = void 0;\n        const s = i(8771),\n          r = i(8460);\n        t.BufferNamespaceApi = class {\n          constructor(e) {\n            this._core = e, this._onBufferChange = new r.EventEmitter(), this.onBufferChange = this._onBufferChange.event, this._normal = new s.BufferApiView(this._core.buffers.normal, \"normal\"), this._alternate = new s.BufferApiView(this._core.buffers.alt, \"alternate\"), this._core.buffers.onBufferActivate(() => this._onBufferChange.fire(this.active));\n          }\n          get active() {\n            if (this._core.buffers.active === this._core.buffers.normal) return this.normal;\n            if (this._core.buffers.active === this._core.buffers.alt) return this.alternate;\n            throw new Error(\"Active buffer is neither normal nor alternate\");\n          }\n          get normal() {\n            return this._normal.init(this._core.buffers.normal);\n          }\n          get alternate() {\n            return this._alternate.init(this._core.buffers.alt);\n          }\n        };\n      },\n      7975: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.ParserApi = void 0, t.ParserApi = class {\n          constructor(e) {\n            this._core = e;\n          }\n          registerCsiHandler(e, t) {\n            return this._core.registerCsiHandler(e, e => t(e.toArray()));\n          }\n          addCsiHandler(e, t) {\n            return this.registerCsiHandler(e, t);\n          }\n          registerDcsHandler(e, t) {\n            return this._core.registerDcsHandler(e, (e, i) => t(e, i.toArray()));\n          }\n          addDcsHandler(e, t) {\n            return this.registerDcsHandler(e, t);\n          }\n          registerEscHandler(e, t) {\n            return this._core.registerEscHandler(e, t);\n          }\n          addEscHandler(e, t) {\n            return this.registerEscHandler(e, t);\n          }\n          registerOscHandler(e, t) {\n            return this._core.registerOscHandler(e, t);\n          }\n          addOscHandler(e, t) {\n            return this.registerOscHandler(e, t);\n          }\n        };\n      },\n      7090: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.UnicodeApi = void 0, t.UnicodeApi = class {\n          constructor(e) {\n            this._core = e;\n          }\n          register(e) {\n            this._core.unicodeService.register(e);\n          }\n          get versions() {\n            return this._core.unicodeService.versions;\n          }\n          get activeVersion() {\n            return this._core.unicodeService.activeVersion;\n          }\n          set activeVersion(e) {\n            this._core.unicodeService.activeVersion = e;\n          }\n        };\n      },\n      744: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.BufferService = t.MINIMUM_ROWS = t.MINIMUM_COLS = void 0;\n        const n = i(2585),\n          o = i(5295),\n          a = i(8460),\n          h = i(844);\n        t.MINIMUM_COLS = 2, t.MINIMUM_ROWS = 1;\n        let c = class extends h.Disposable {\n          constructor(e) {\n            super(), this.isUserScrolling = !1, this._onResize = this.register(new a.EventEmitter()), this.onResize = this._onResize.event, this._onScroll = this.register(new a.EventEmitter()), this.onScroll = this._onScroll.event, this.cols = Math.max(e.rawOptions.cols || 0, t.MINIMUM_COLS), this.rows = Math.max(e.rawOptions.rows || 0, t.MINIMUM_ROWS), this.buffers = this.register(new o.BufferSet(e, this));\n          }\n          get buffer() {\n            return this.buffers.active;\n          }\n          resize(e, t) {\n            this.cols = e, this.rows = t, this.buffers.resize(e, t), this._onResize.fire({\n              cols: e,\n              rows: t\n            });\n          }\n          reset() {\n            this.buffers.reset(), this.isUserScrolling = !1;\n          }\n          scroll(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n            const i = this.buffer;\n            let s;\n            s = this._cachedBlankLine, s && s.length === this.cols && s.getFg(0) === e.fg && s.getBg(0) === e.bg || (s = i.getBlankLine(e, t), this._cachedBlankLine = s), s.isWrapped = t;\n            const r = i.ybase + i.scrollTop,\n              n = i.ybase + i.scrollBottom;\n            if (0 === i.scrollTop) {\n              const e = i.lines.isFull;\n              n === i.lines.length - 1 ? e ? i.lines.recycle().copyFrom(s) : i.lines.push(s.clone()) : i.lines.splice(n + 1, 0, s.clone()), e ? this.isUserScrolling && (i.ydisp = Math.max(i.ydisp - 1, 0)) : (i.ybase++, this.isUserScrolling || i.ydisp++);\n            } else {\n              const e = n - r + 1;\n              i.lines.shiftElements(r + 1, e - 1, -1), i.lines.set(n, s.clone());\n            }\n            this.isUserScrolling || (i.ydisp = i.ybase), this._onScroll.fire(i.ydisp);\n          }\n          scrollLines(e, t, i) {\n            const s = this.buffer;\n            if (e < 0) {\n              if (0 === s.ydisp) return;\n              this.isUserScrolling = !0;\n            } else e + s.ydisp >= s.ybase && (this.isUserScrolling = !1);\n            const r = s.ydisp;\n            s.ydisp = Math.max(Math.min(s.ydisp + e, s.ybase), 0), r !== s.ydisp && (t || this._onScroll.fire(s.ydisp));\n          }\n          scrollPages(e) {\n            this.scrollLines(e * (this.rows - 1));\n          }\n          scrollToTop() {\n            this.scrollLines(-this.buffer.ydisp);\n          }\n          scrollToBottom() {\n            this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n          }\n          scrollToLine(e) {\n            const t = e - this.buffer.ydisp;\n            0 !== t && this.scrollLines(t);\n          }\n        };\n        c = s([r(0, n.IOptionsService)], c), t.BufferService = c;\n      },\n      7994: (e, t) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CharsetService = void 0, t.CharsetService = class {\n          constructor() {\n            this.glevel = 0, this._charsets = [];\n          }\n          reset() {\n            this.charset = void 0, this._charsets = [], this.glevel = 0;\n          }\n          setgLevel(e) {\n            this.glevel = e, this.charset = this._charsets[e];\n          }\n          setgCharset(e, t) {\n            this._charsets[e] = t, this.glevel === e && (this.charset = t);\n          }\n        };\n      },\n      1753: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CoreMouseService = void 0;\n        const n = i(2585),\n          o = i(8460),\n          a = i(844),\n          h = {\n            NONE: {\n              events: 0,\n              restrict: () => !1\n            },\n            X10: {\n              events: 1,\n              restrict: e => 4 !== e.button && 1 === e.action && (e.ctrl = !1, e.alt = !1, e.shift = !1, !0)\n            },\n            VT200: {\n              events: 19,\n              restrict: e => 32 !== e.action\n            },\n            DRAG: {\n              events: 23,\n              restrict: e => 32 !== e.action || 3 !== e.button\n            },\n            ANY: {\n              events: 31,\n              restrict: e => !0\n            }\n          };\n        function c(e, t) {\n          let i = (e.ctrl ? 16 : 0) | (e.shift ? 4 : 0) | (e.alt ? 8 : 0);\n          return 4 === e.button ? (i |= 64, i |= e.action) : (i |= 3 & e.button, 4 & e.button && (i |= 64), 8 & e.button && (i |= 128), 32 === e.action ? i |= 32 : 0 !== e.action || t || (i |= 3)), i;\n        }\n        const l = String.fromCharCode,\n          d = {\n            DEFAULT: e => {\n              const t = [c(e, !1) + 32, e.col + 32, e.row + 32];\n              return t[0] > 255 || t[1] > 255 || t[2] > 255 ? \"\" : \"\\x1B[M\".concat(l(t[0])).concat(l(t[1])).concat(l(t[2]));\n            },\n            SGR: e => {\n              const t = 0 === e.action && 4 !== e.button ? \"m\" : \"M\";\n              return \"\\x1B[<\".concat(c(e, !0), \";\").concat(e.col, \";\").concat(e.row).concat(t);\n            },\n            SGR_PIXELS: e => {\n              const t = 0 === e.action && 4 !== e.button ? \"m\" : \"M\";\n              return \"\\x1B[<\".concat(c(e, !0), \";\").concat(e.x, \";\").concat(e.y).concat(t);\n            }\n          };\n        let _ = class extends a.Disposable {\n          constructor(e, t) {\n            super(), this._bufferService = e, this._coreService = t, this._protocols = {}, this._encodings = {}, this._activeProtocol = \"\", this._activeEncoding = \"\", this._lastEvent = null, this._onProtocolChange = this.register(new o.EventEmitter()), this.onProtocolChange = this._onProtocolChange.event;\n            for (const e of Object.keys(h)) this.addProtocol(e, h[e]);\n            for (const e of Object.keys(d)) this.addEncoding(e, d[e]);\n            this.reset();\n          }\n          addProtocol(e, t) {\n            this._protocols[e] = t;\n          }\n          addEncoding(e, t) {\n            this._encodings[e] = t;\n          }\n          get activeProtocol() {\n            return this._activeProtocol;\n          }\n          get areMouseEventsActive() {\n            return 0 !== this._protocols[this._activeProtocol].events;\n          }\n          set activeProtocol(e) {\n            if (!this._protocols[e]) throw new Error(\"unknown protocol \\\"\".concat(e, \"\\\"\"));\n            this._activeProtocol = e, this._onProtocolChange.fire(this._protocols[e].events);\n          }\n          get activeEncoding() {\n            return this._activeEncoding;\n          }\n          set activeEncoding(e) {\n            if (!this._encodings[e]) throw new Error(\"unknown encoding \\\"\".concat(e, \"\\\"\"));\n            this._activeEncoding = e;\n          }\n          reset() {\n            this.activeProtocol = \"NONE\", this.activeEncoding = \"DEFAULT\", this._lastEvent = null;\n          }\n          triggerMouseEvent(e) {\n            if (e.col < 0 || e.col >= this._bufferService.cols || e.row < 0 || e.row >= this._bufferService.rows) return !1;\n            if (4 === e.button && 32 === e.action) return !1;\n            if (3 === e.button && 32 !== e.action) return !1;\n            if (4 !== e.button && (2 === e.action || 3 === e.action)) return !1;\n            if (e.col++, e.row++, 32 === e.action && this._lastEvent && this._equalEvents(this._lastEvent, e, \"SGR_PIXELS\" === this._activeEncoding)) return !1;\n            if (!this._protocols[this._activeProtocol].restrict(e)) return !1;\n            const t = this._encodings[this._activeEncoding](e);\n            return t && (\"DEFAULT\" === this._activeEncoding ? this._coreService.triggerBinaryEvent(t) : this._coreService.triggerDataEvent(t, !0)), this._lastEvent = e, !0;\n          }\n          explainEvents(e) {\n            return {\n              down: !!(1 & e),\n              up: !!(2 & e),\n              drag: !!(4 & e),\n              move: !!(8 & e),\n              wheel: !!(16 & e)\n            };\n          }\n          _equalEvents(e, t, i) {\n            if (i) {\n              if (e.x !== t.x) return !1;\n              if (e.y !== t.y) return !1;\n            } else {\n              if (e.col !== t.col) return !1;\n              if (e.row !== t.row) return !1;\n            }\n            return e.button === t.button && e.action === t.action && e.ctrl === t.ctrl && e.alt === t.alt && e.shift === t.shift;\n          }\n        };\n        _ = s([r(0, n.IBufferService), r(1, n.ICoreService)], _), t.CoreMouseService = _;\n      },\n      6975: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.CoreService = void 0;\n        const n = i(2585),\n          o = i(8460),\n          a = i(1439),\n          h = i(844),\n          c = Object.freeze({\n            insertMode: !1\n          }),\n          l = Object.freeze({\n            applicationCursorKeys: !1,\n            applicationKeypad: !1,\n            bracketedPasteMode: !1,\n            origin: !1,\n            reverseWraparound: !1,\n            sendFocus: !1,\n            wraparound: !0\n          });\n        let d = class extends h.Disposable {\n          constructor(e, t, i) {\n            super(), this._bufferService = e, this._logService = t, this._optionsService = i, this.isCursorInitialized = !1, this.isCursorHidden = !1, this._onData = this.register(new o.EventEmitter()), this.onData = this._onData.event, this._onUserInput = this.register(new o.EventEmitter()), this.onUserInput = this._onUserInput.event, this._onBinary = this.register(new o.EventEmitter()), this.onBinary = this._onBinary.event, this._onRequestScrollToBottom = this.register(new o.EventEmitter()), this.onRequestScrollToBottom = this._onRequestScrollToBottom.event, this.modes = (0, a.clone)(c), this.decPrivateModes = (0, a.clone)(l);\n          }\n          reset() {\n            this.modes = (0, a.clone)(c), this.decPrivateModes = (0, a.clone)(l);\n          }\n          triggerDataEvent(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n            if (this._optionsService.rawOptions.disableStdin) return;\n            const i = this._bufferService.buffer;\n            t && this._optionsService.rawOptions.scrollOnUserInput && i.ybase !== i.ydisp && this._onRequestScrollToBottom.fire(), t && this._onUserInput.fire(), this._logService.debug(\"sending data \\\"\".concat(e, \"\\\"\"), () => e.split(\"\").map(e => e.charCodeAt(0))), this._onData.fire(e);\n          }\n          triggerBinaryEvent(e) {\n            this._optionsService.rawOptions.disableStdin || (this._logService.debug(\"sending binary \\\"\".concat(e, \"\\\"\"), () => e.split(\"\").map(e => e.charCodeAt(0))), this._onBinary.fire(e));\n          }\n        };\n        d = s([r(0, n.IBufferService), r(1, n.ILogService), r(2, n.IOptionsService)], d), t.CoreService = d;\n      },\n      9074: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.DecorationService = void 0;\n        const s = i(8055),\n          r = i(8460),\n          n = i(844),\n          o = i(6106);\n        let a = 0,\n          h = 0;\n        class c extends n.Disposable {\n          constructor() {\n            super(), this._decorations = new o.SortedList(e => null == e ? void 0 : e.marker.line), this._onDecorationRegistered = this.register(new r.EventEmitter()), this.onDecorationRegistered = this._onDecorationRegistered.event, this._onDecorationRemoved = this.register(new r.EventEmitter()), this.onDecorationRemoved = this._onDecorationRemoved.event, this.register((0, n.toDisposable)(() => {\n              for (const e of this._decorations.values()) this._onDecorationRemoved.fire(e);\n              this.reset();\n            }));\n          }\n          get decorations() {\n            return this._decorations.values();\n          }\n          registerDecoration(e) {\n            if (e.marker.isDisposed) return;\n            const t = new l(e);\n            if (t) {\n              const e = t.marker.onDispose(() => t.dispose());\n              t.onDispose(() => {\n                t && (this._decorations.delete(t) && this._onDecorationRemoved.fire(t), e.dispose());\n              }), this._decorations.insert(t), this._onDecorationRegistered.fire(t);\n            }\n            return t;\n          }\n          reset() {\n            for (const e of this._decorations.values()) e.dispose();\n            this._decorations.clear();\n          }\n          *getDecorationsAtCell(e, t, i) {\n            var s, r, n;\n            let o = 0,\n              a = 0;\n            for (const h of this._decorations.getKeyIterator(t)) o = null !== (s = h.options.x) && void 0 !== s ? s : 0, a = o + (null !== (r = h.options.width) && void 0 !== r ? r : 1), e >= o && e < a && (!i || (null !== (n = h.options.layer) && void 0 !== n ? n : \"bottom\") === i) && (yield h);\n          }\n          forEachDecorationAtCell(e, t, i, s) {\n            this._decorations.forEachByKey(t, t => {\n              var r, n, o;\n              a = null !== (r = t.options.x) && void 0 !== r ? r : 0, h = a + (null !== (n = t.options.width) && void 0 !== n ? n : 1), e >= a && e < h && (!i || (null !== (o = t.options.layer) && void 0 !== o ? o : \"bottom\") === i) && s(t);\n            });\n          }\n          dispose() {\n            for (const e of this._decorations.values()) this._onDecorationRemoved.fire(e);\n            this.reset();\n          }\n        }\n        t.DecorationService = c;\n        class l extends n.Disposable {\n          constructor(e) {\n            super(), this.options = e, this.onRenderEmitter = this.register(new r.EventEmitter()), this.onRender = this.onRenderEmitter.event, this._onDispose = this.register(new r.EventEmitter()), this.onDispose = this._onDispose.event, this._cachedBg = null, this._cachedFg = null, this.marker = e.marker, this.options.overviewRulerOptions && !this.options.overviewRulerOptions.position && (this.options.overviewRulerOptions.position = \"full\");\n          }\n          get isDisposed() {\n            return this._isDisposed;\n          }\n          get backgroundColorRGB() {\n            return null === this._cachedBg && (this.options.backgroundColor ? this._cachedBg = s.css.toColor(this.options.backgroundColor) : this._cachedBg = void 0), this._cachedBg;\n          }\n          get foregroundColorRGB() {\n            return null === this._cachedFg && (this.options.foregroundColor ? this._cachedFg = s.css.toColor(this.options.foregroundColor) : this._cachedFg = void 0), this._cachedFg;\n          }\n          dispose() {\n            this._onDispose.fire(), super.dispose();\n          }\n        }\n      },\n      4348: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.InstantiationService = t.ServiceCollection = void 0;\n        const s = i(2585),\n          r = i(8343);\n        class n {\n          constructor() {\n            this._entries = new Map();\n            for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n              e[_key] = arguments[_key];\n            }\n            for (const [t, i] of e) this.set(t, i);\n          }\n          set(e, t) {\n            const i = this._entries.get(e);\n            return this._entries.set(e, t), i;\n          }\n          forEach(e) {\n            for (const [t, i] of this._entries.entries()) e(t, i);\n          }\n          has(e) {\n            return this._entries.has(e);\n          }\n          get(e) {\n            return this._entries.get(e);\n          }\n        }\n        t.ServiceCollection = n, t.InstantiationService = class {\n          constructor() {\n            this._services = new n(), this._services.set(s.IInstantiationService, this);\n          }\n          setService(e, t) {\n            this._services.set(e, t);\n          }\n          getService(e) {\n            return this._services.get(e);\n          }\n          createInstance(e) {\n            const i = (0, r.getServiceDependencies)(e).sort((e, t) => e.index - t.index),\n              s = [];\n            for (const t of i) {\n              const i = this._services.get(t.id);\n              if (!i) throw new Error(\"[createInstance] \".concat(e.name, \" depends on UNKNOWN service \").concat(t.id, \".\"));\n              s.push(i);\n            }\n            for (var _len2 = arguments.length, t = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n              t[_key2 - 1] = arguments[_key2];\n            }\n            const n = i.length > 0 ? i[0].index : t.length;\n            if (t.length !== n) throw new Error(\"[createInstance] First service dependency of \".concat(e.name, \" at position \").concat(n + 1, \" conflicts with \").concat(t.length, \" static arguments\"));\n            return new e(...[...t, ...s]);\n          }\n        };\n      },\n      7866: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.LogService = void 0;\n        const n = i(844),\n          o = i(2585),\n          a = {\n            debug: o.LogLevelEnum.DEBUG,\n            info: o.LogLevelEnum.INFO,\n            warn: o.LogLevelEnum.WARN,\n            error: o.LogLevelEnum.ERROR,\n            off: o.LogLevelEnum.OFF\n          };\n        let h = class extends n.Disposable {\n          constructor(e) {\n            super(), this._optionsService = e, this.logLevel = o.LogLevelEnum.OFF, this._updateLogLevel(), this.register(this._optionsService.onSpecificOptionChange(\"logLevel\", () => this._updateLogLevel()));\n          }\n          _updateLogLevel() {\n            this.logLevel = a[this._optionsService.rawOptions.logLevel];\n          }\n          _evalLazyOptionalParams(e) {\n            for (let t = 0; t < e.length; t++) \"function\" == typeof e[t] && (e[t] = e[t]());\n          }\n          _log(e, t, i) {\n            this._evalLazyOptionalParams(i), e.call(console, \"xterm.js: \" + t, ...i);\n          }\n          debug(e) {\n            for (var _len3 = arguments.length, t = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n              t[_key3 - 1] = arguments[_key3];\n            }\n            this.logLevel <= o.LogLevelEnum.DEBUG && this._log(console.log, e, t);\n          }\n          info(e) {\n            for (var _len4 = arguments.length, t = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n              t[_key4 - 1] = arguments[_key4];\n            }\n            this.logLevel <= o.LogLevelEnum.INFO && this._log(console.info, e, t);\n          }\n          warn(e) {\n            for (var _len5 = arguments.length, t = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n              t[_key5 - 1] = arguments[_key5];\n            }\n            this.logLevel <= o.LogLevelEnum.WARN && this._log(console.warn, e, t);\n          }\n          error(e) {\n            for (var _len6 = arguments.length, t = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n              t[_key6 - 1] = arguments[_key6];\n            }\n            this.logLevel <= o.LogLevelEnum.ERROR && this._log(console.error, e, t);\n          }\n        };\n        h = s([r(0, o.IOptionsService)], h), t.LogService = h;\n      },\n      7302: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.OptionsService = t.DEFAULT_OPTIONS = void 0;\n        const s = i(8460),\n          r = i(6114),\n          n = i(844);\n        t.DEFAULT_OPTIONS = {\n          cols: 80,\n          rows: 24,\n          cursorBlink: !1,\n          cursorStyle: \"block\",\n          cursorWidth: 1,\n          customGlyphs: !0,\n          drawBoldTextInBrightColors: !0,\n          fastScrollModifier: \"alt\",\n          fastScrollSensitivity: 5,\n          fontFamily: \"courier-new, courier, monospace\",\n          fontSize: 15,\n          fontWeight: \"normal\",\n          fontWeightBold: \"bold\",\n          lineHeight: 1,\n          letterSpacing: 0,\n          linkHandler: null,\n          logLevel: \"info\",\n          scrollback: 1e3,\n          scrollOnUserInput: !0,\n          scrollSensitivity: 1,\n          screenReaderMode: !1,\n          smoothScrollDuration: 0,\n          macOptionIsMeta: !1,\n          macOptionClickForcesSelection: !1,\n          minimumContrastRatio: 1,\n          disableStdin: !1,\n          allowProposedApi: !1,\n          allowTransparency: !1,\n          tabStopWidth: 8,\n          theme: {},\n          rightClickSelectsWord: r.isMac,\n          windowOptions: {},\n          windowsMode: !1,\n          windowsPty: {},\n          wordSeparator: \" ()[]{}',\\\"`\",\n          altClickMovesCursor: !0,\n          convertEol: !1,\n          termName: \"xterm\",\n          cancelEvents: !1,\n          overviewRulerWidth: 0\n        };\n        const o = [\"normal\", \"bold\", \"100\", \"200\", \"300\", \"400\", \"500\", \"600\", \"700\", \"800\", \"900\"];\n        class a extends n.Disposable {\n          constructor(e) {\n            super(), this._onOptionChange = this.register(new s.EventEmitter()), this.onOptionChange = this._onOptionChange.event;\n            const i = Object.assign({}, t.DEFAULT_OPTIONS);\n            for (const t in e) if (t in i) try {\n              const s = e[t];\n              i[t] = this._sanitizeAndValidateOption(t, s);\n            } catch (e) {\n              console.error(e);\n            }\n            this.rawOptions = i, this.options = Object.assign({}, i), this._setupOptions();\n          }\n          onSpecificOptionChange(e, t) {\n            return this.onOptionChange(i => {\n              i === e && t(this.rawOptions[e]);\n            });\n          }\n          onMultipleOptionChange(e, t) {\n            return this.onOptionChange(i => {\n              -1 !== e.indexOf(i) && t();\n            });\n          }\n          _setupOptions() {\n            const e = e => {\n                if (!(e in t.DEFAULT_OPTIONS)) throw new Error(\"No option with key \\\"\".concat(e, \"\\\"\"));\n                return this.rawOptions[e];\n              },\n              i = (e, i) => {\n                if (!(e in t.DEFAULT_OPTIONS)) throw new Error(\"No option with key \\\"\".concat(e, \"\\\"\"));\n                i = this._sanitizeAndValidateOption(e, i), this.rawOptions[e] !== i && (this.rawOptions[e] = i, this._onOptionChange.fire(e));\n              };\n            for (const t in this.rawOptions) {\n              const s = {\n                get: e.bind(this, t),\n                set: i.bind(this, t)\n              };\n              Object.defineProperty(this.options, t, s);\n            }\n          }\n          _sanitizeAndValidateOption(e, i) {\n            switch (e) {\n              case \"cursorStyle\":\n                if (i || (i = t.DEFAULT_OPTIONS[e]), !function (e) {\n                  return \"block\" === e || \"underline\" === e || \"bar\" === e;\n                }(i)) throw new Error(\"\\\"\".concat(i, \"\\\" is not a valid value for \").concat(e));\n                break;\n              case \"wordSeparator\":\n                i || (i = t.DEFAULT_OPTIONS[e]);\n                break;\n              case \"fontWeight\":\n              case \"fontWeightBold\":\n                if (\"number\" == typeof i && 1 <= i && i <= 1e3) break;\n                i = o.includes(i) ? i : t.DEFAULT_OPTIONS[e];\n                break;\n              case \"cursorWidth\":\n                i = Math.floor(i);\n              case \"lineHeight\":\n              case \"tabStopWidth\":\n                if (i < 1) throw new Error(\"\".concat(e, \" cannot be less than 1, value: \").concat(i));\n                break;\n              case \"minimumContrastRatio\":\n                i = Math.max(1, Math.min(21, Math.round(10 * i) / 10));\n                break;\n              case \"scrollback\":\n                if ((i = Math.min(i, 4294967295)) < 0) throw new Error(\"\".concat(e, \" cannot be less than 0, value: \").concat(i));\n                break;\n              case \"fastScrollSensitivity\":\n              case \"scrollSensitivity\":\n                if (i <= 0) throw new Error(\"\".concat(e, \" cannot be less than or equal to 0, value: \").concat(i));\n                break;\n              case \"rows\":\n              case \"cols\":\n                if (!i && 0 !== i) throw new Error(\"\".concat(e, \" must be numeric, value: \").concat(i));\n                break;\n              case \"windowsPty\":\n                i = null != i ? i : {};\n            }\n            return i;\n          }\n        }\n        t.OptionsService = a;\n      },\n      2660: function (e, t, i) {\n        var s = this && this.__decorate || function (e, t, i, s) {\n            var r,\n              n = arguments.length,\n              o = n < 3 ? t : null === s ? s = Object.getOwnPropertyDescriptor(t, i) : s;\n            if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) o = Reflect.decorate(e, t, i, s);else for (var a = e.length - 1; a >= 0; a--) (r = e[a]) && (o = (n < 3 ? r(o) : n > 3 ? r(t, i, o) : r(t, i)) || o);\n            return n > 3 && o && Object.defineProperty(t, i, o), o;\n          },\n          r = this && this.__param || function (e, t) {\n            return function (i, s) {\n              t(i, s, e);\n            };\n          };\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.OscLinkService = void 0;\n        const n = i(2585);\n        let o = class {\n          constructor(e) {\n            this._bufferService = e, this._nextId = 1, this._entriesWithId = new Map(), this._dataByLinkId = new Map();\n          }\n          registerLink(e) {\n            const t = this._bufferService.buffer;\n            if (void 0 === e.id) {\n              const i = t.addMarker(t.ybase + t.y),\n                s = {\n                  data: e,\n                  id: this._nextId++,\n                  lines: [i]\n                };\n              return i.onDispose(() => this._removeMarkerFromLink(s, i)), this._dataByLinkId.set(s.id, s), s.id;\n            }\n            const i = e,\n              s = this._getEntryIdKey(i),\n              r = this._entriesWithId.get(s);\n            if (r) return this.addLineToLink(r.id, t.ybase + t.y), r.id;\n            const n = t.addMarker(t.ybase + t.y),\n              o = {\n                id: this._nextId++,\n                key: this._getEntryIdKey(i),\n                data: i,\n                lines: [n]\n              };\n            return n.onDispose(() => this._removeMarkerFromLink(o, n)), this._entriesWithId.set(o.key, o), this._dataByLinkId.set(o.id, o), o.id;\n          }\n          addLineToLink(e, t) {\n            const i = this._dataByLinkId.get(e);\n            if (i && i.lines.every(e => e.line !== t)) {\n              const e = this._bufferService.buffer.addMarker(t);\n              i.lines.push(e), e.onDispose(() => this._removeMarkerFromLink(i, e));\n            }\n          }\n          getLinkData(e) {\n            var t;\n            return null === (t = this._dataByLinkId.get(e)) || void 0 === t ? void 0 : t.data;\n          }\n          _getEntryIdKey(e) {\n            return \"\".concat(e.id, \";;\").concat(e.uri);\n          }\n          _removeMarkerFromLink(e, t) {\n            const i = e.lines.indexOf(t);\n            -1 !== i && (e.lines.splice(i, 1), 0 === e.lines.length && (void 0 !== e.data.id && this._entriesWithId.delete(e.key), this._dataByLinkId.delete(e.id)));\n          }\n        };\n        o = s([r(0, n.IBufferService)], o), t.OscLinkService = o;\n      },\n      8343: (e, t) => {\n        function i(e, t, i) {\n          t.di$target === t ? t.di$dependencies.push({\n            id: e,\n            index: i\n          }) : (t.di$dependencies = [{\n            id: e,\n            index: i\n          }], t.di$target = t);\n        }\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.createDecorator = t.getServiceDependencies = t.serviceRegistry = void 0, t.serviceRegistry = new Map(), t.getServiceDependencies = function (e) {\n          return e.di$dependencies || [];\n        }, t.createDecorator = function (e) {\n          if (t.serviceRegistry.has(e)) return t.serviceRegistry.get(e);\n          const s = function (e, t, r) {\n            if (3 !== arguments.length) throw new Error(\"@IServiceName-decorator can only be used to decorate a parameter\");\n            i(s, e, r);\n          };\n          return s.toString = () => e, t.serviceRegistry.set(e, s), s;\n        };\n      },\n      2585: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.IDecorationService = t.IUnicodeService = t.IOscLinkService = t.IOptionsService = t.ILogService = t.LogLevelEnum = t.IInstantiationService = t.ICharsetService = t.ICoreService = t.ICoreMouseService = t.IBufferService = void 0;\n        const s = i(8343);\n        var r;\n        t.IBufferService = (0, s.createDecorator)(\"BufferService\"), t.ICoreMouseService = (0, s.createDecorator)(\"CoreMouseService\"), t.ICoreService = (0, s.createDecorator)(\"CoreService\"), t.ICharsetService = (0, s.createDecorator)(\"CharsetService\"), t.IInstantiationService = (0, s.createDecorator)(\"InstantiationService\"), (r = t.LogLevelEnum || (t.LogLevelEnum = {}))[r.DEBUG = 0] = \"DEBUG\", r[r.INFO = 1] = \"INFO\", r[r.WARN = 2] = \"WARN\", r[r.ERROR = 3] = \"ERROR\", r[r.OFF = 4] = \"OFF\", t.ILogService = (0, s.createDecorator)(\"LogService\"), t.IOptionsService = (0, s.createDecorator)(\"OptionsService\"), t.IOscLinkService = (0, s.createDecorator)(\"OscLinkService\"), t.IUnicodeService = (0, s.createDecorator)(\"UnicodeService\"), t.IDecorationService = (0, s.createDecorator)(\"DecorationService\");\n      },\n      1480: (e, t, i) => {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.UnicodeService = void 0;\n        const s = i(8460),\n          r = i(225);\n        t.UnicodeService = class {\n          constructor() {\n            this._providers = Object.create(null), this._active = \"\", this._onChange = new s.EventEmitter(), this.onChange = this._onChange.event;\n            const e = new r.UnicodeV6();\n            this.register(e), this._active = e.version, this._activeProvider = e;\n          }\n          dispose() {\n            this._onChange.dispose();\n          }\n          get versions() {\n            return Object.keys(this._providers);\n          }\n          get activeVersion() {\n            return this._active;\n          }\n          set activeVersion(e) {\n            if (!this._providers[e]) throw new Error(\"unknown Unicode version \\\"\".concat(e, \"\\\"\"));\n            this._active = e, this._activeProvider = this._providers[e], this._onChange.fire(e);\n          }\n          register(e) {\n            this._providers[e.version] = e;\n          }\n          wcwidth(e) {\n            return this._activeProvider.wcwidth(e);\n          }\n          getStringCellWidth(e) {\n            let t = 0;\n            const i = e.length;\n            for (let s = 0; s < i; ++s) {\n              let r = e.charCodeAt(s);\n              if (55296 <= r && r <= 56319) {\n                if (++s >= i) return t + this.wcwidth(r);\n                const n = e.charCodeAt(s);\n                56320 <= n && n <= 57343 ? r = 1024 * (r - 55296) + n - 56320 + 65536 : t += this.wcwidth(n);\n              }\n              t += this.wcwidth(r);\n            }\n            return t;\n          }\n        };\n      }\n    },\n    t = {};\n  function i(s) {\n    var r = t[s];\n    if (void 0 !== r) return r.exports;\n    var n = t[s] = {\n      exports: {}\n    };\n    return e[s].call(n.exports, n, n.exports, i), n.exports;\n  }\n  var s = {};\n  return (() => {\n    var e = s;\n    Object.defineProperty(e, \"__esModule\", {\n      value: !0\n    }), e.Terminal = void 0;\n    const t = i(3236),\n      r = i(9042),\n      n = i(7975),\n      o = i(7090),\n      a = i(5741),\n      h = i(8285),\n      c = [\"cols\", \"rows\"];\n    e.Terminal = class {\n      constructor(e) {\n        this._core = new t.Terminal(e), this._addonManager = new a.AddonManager(), this._publicOptions = Object.assign({}, this._core.options);\n        const i = e => this._core.options[e],\n          s = (e, t) => {\n            this._checkReadonlyOptions(e), this._core.options[e] = t;\n          };\n        for (const e in this._core.options) {\n          const t = {\n            get: i.bind(this, e),\n            set: s.bind(this, e)\n          };\n          Object.defineProperty(this._publicOptions, e, t);\n        }\n      }\n      _checkReadonlyOptions(e) {\n        if (c.includes(e)) throw new Error(\"Option \\\"\".concat(e, \"\\\" can only be set in the constructor\"));\n      }\n      _checkProposedApi() {\n        if (!this._core.optionsService.rawOptions.allowProposedApi) throw new Error(\"You must set the allowProposedApi option to true to use proposed API\");\n      }\n      get onBell() {\n        return this._core.onBell;\n      }\n      get onBinary() {\n        return this._core.onBinary;\n      }\n      get onCursorMove() {\n        return this._core.onCursorMove;\n      }\n      get onData() {\n        return this._core.onData;\n      }\n      get onKey() {\n        return this._core.onKey;\n      }\n      get onLineFeed() {\n        return this._core.onLineFeed;\n      }\n      get onRender() {\n        return this._core.onRender;\n      }\n      get onResize() {\n        return this._core.onResize;\n      }\n      get onScroll() {\n        return this._core.onScroll;\n      }\n      get onSelectionChange() {\n        return this._core.onSelectionChange;\n      }\n      get onTitleChange() {\n        return this._core.onTitleChange;\n      }\n      get onWriteParsed() {\n        return this._core.onWriteParsed;\n      }\n      get element() {\n        return this._core.element;\n      }\n      get parser() {\n        return this._parser || (this._parser = new n.ParserApi(this._core)), this._parser;\n      }\n      get unicode() {\n        return this._checkProposedApi(), new o.UnicodeApi(this._core);\n      }\n      get textarea() {\n        return this._core.textarea;\n      }\n      get rows() {\n        return this._core.rows;\n      }\n      get cols() {\n        return this._core.cols;\n      }\n      get buffer() {\n        return this._buffer || (this._buffer = new h.BufferNamespaceApi(this._core)), this._buffer;\n      }\n      get markers() {\n        return this._checkProposedApi(), this._core.markers;\n      }\n      get modes() {\n        const e = this._core.coreService.decPrivateModes;\n        let t = \"none\";\n        switch (this._core.coreMouseService.activeProtocol) {\n          case \"X10\":\n            t = \"x10\";\n            break;\n          case \"VT200\":\n            t = \"vt200\";\n            break;\n          case \"DRAG\":\n            t = \"drag\";\n            break;\n          case \"ANY\":\n            t = \"any\";\n        }\n        return {\n          applicationCursorKeysMode: e.applicationCursorKeys,\n          applicationKeypadMode: e.applicationKeypad,\n          bracketedPasteMode: e.bracketedPasteMode,\n          insertMode: this._core.coreService.modes.insertMode,\n          mouseTrackingMode: t,\n          originMode: e.origin,\n          reverseWraparoundMode: e.reverseWraparound,\n          sendFocusMode: e.sendFocus,\n          wraparoundMode: e.wraparound\n        };\n      }\n      get options() {\n        return this._publicOptions;\n      }\n      set options(e) {\n        for (const t in e) this._publicOptions[t] = e[t];\n      }\n      blur() {\n        this._core.blur();\n      }\n      focus() {\n        this._core.focus();\n      }\n      resize(e, t) {\n        this._verifyIntegers(e, t), this._core.resize(e, t);\n      }\n      open(e) {\n        this._core.open(e);\n      }\n      attachCustomKeyEventHandler(e) {\n        this._core.attachCustomKeyEventHandler(e);\n      }\n      registerLinkProvider(e) {\n        return this._core.registerLinkProvider(e);\n      }\n      registerCharacterJoiner(e) {\n        return this._checkProposedApi(), this._core.registerCharacterJoiner(e);\n      }\n      deregisterCharacterJoiner(e) {\n        this._checkProposedApi(), this._core.deregisterCharacterJoiner(e);\n      }\n      registerMarker() {\n        let e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        return this._verifyIntegers(e), this._core.addMarker(e);\n      }\n      registerDecoration(e) {\n        var t, i, s;\n        return this._checkProposedApi(), this._verifyPositiveIntegers(null !== (t = e.x) && void 0 !== t ? t : 0, null !== (i = e.width) && void 0 !== i ? i : 0, null !== (s = e.height) && void 0 !== s ? s : 0), this._core.registerDecoration(e);\n      }\n      hasSelection() {\n        return this._core.hasSelection();\n      }\n      select(e, t, i) {\n        this._verifyIntegers(e, t, i), this._core.select(e, t, i);\n      }\n      getSelection() {\n        return this._core.getSelection();\n      }\n      getSelectionPosition() {\n        return this._core.getSelectionPosition();\n      }\n      clearSelection() {\n        this._core.clearSelection();\n      }\n      selectAll() {\n        this._core.selectAll();\n      }\n      selectLines(e, t) {\n        this._verifyIntegers(e, t), this._core.selectLines(e, t);\n      }\n      dispose() {\n        this._addonManager.dispose(), this._core.dispose();\n      }\n      scrollLines(e) {\n        this._verifyIntegers(e), this._core.scrollLines(e);\n      }\n      scrollPages(e) {\n        this._verifyIntegers(e), this._core.scrollPages(e);\n      }\n      scrollToTop() {\n        this._core.scrollToTop();\n      }\n      scrollToBottom() {\n        this._core.scrollToBottom();\n      }\n      scrollToLine(e) {\n        this._verifyIntegers(e), this._core.scrollToLine(e);\n      }\n      clear() {\n        this._core.clear();\n      }\n      write(e, t) {\n        this._core.write(e, t);\n      }\n      writeln(e, t) {\n        this._core.write(e), this._core.write(\"\\r\\n\", t);\n      }\n      paste(e) {\n        this._core.paste(e);\n      }\n      refresh(e, t) {\n        this._verifyIntegers(e, t), this._core.refresh(e, t);\n      }\n      reset() {\n        this._core.reset();\n      }\n      clearTextureAtlas() {\n        this._core.clearTextureAtlas();\n      }\n      loadAddon(e) {\n        return this._addonManager.loadAddon(this, e);\n      }\n      static get strings() {\n        return r;\n      }\n      _verifyIntegers() {\n        for (var _len7 = arguments.length, e = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n          e[_key7] = arguments[_key7];\n        }\n        for (const t of e) if (t === 1 / 0 || isNaN(t) || t % 1 != 0) throw new Error(\"This API only accepts integers\");\n      }\n      _verifyPositiveIntegers() {\n        for (var _len8 = arguments.length, e = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n          e[_key8] = arguments[_key8];\n        }\n        for (const t of e) if (t && (t === 1 / 0 || isNaN(t) || t % 1 != 0 || t < 0)) throw new Error(\"This API only accepts positive integers\");\n      }\n    };\n  })(), s;\n})());\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/xterm@5.2.1/node_modules/xterm/lib/xterm.js?");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var html_tag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! html-tag-js */ \"./node_modules/.pnpm/html-tag-js@1.1.41/node_modules/html-tag-js/dist/tag.js\");\n/* harmony import */ var html_tag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(html_tag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _plugin_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../plugin.json */ \"./plugin.json\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./style.scss */ \"./src/style.scss\");\n/* harmony import */ var xterm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! xterm */ \"./node_modules/.pnpm/xterm@5.2.1/node_modules/xterm/lib/xterm.js\");\n/* harmony import */ var xterm__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(xterm__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var xterm_addon_fit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! xterm-addon-fit */ \"./node_modules/.pnpm/xterm-addon-fit@0.7.0_xterm@5.2.1/node_modules/xterm-addon-fit/lib/xterm-addon-fit.js\");\n/* harmony import */ var xterm_addon_fit__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(xterm_addon_fit__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! xterm-addon-webgl */ \"./node_modules/.pnpm/xterm-addon-webgl@0.14.0_xterm@5.2.1/node_modules/xterm-addon-webgl/lib/xterm-addon-webgl.js\");\n/* harmony import */ var xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var xterm_addon_serialize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! xterm-addon-serialize */ \"./node_modules/.pnpm/xterm-addon-serialize@0.9.0_xterm@5.2.1/node_modules/xterm-addon-serialize/lib/xterm-addon-serialize.js\");\n/* harmony import */ var xterm_addon_serialize__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(xterm_addon_serialize__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! xterm-addon-web-links */ \"./node_modules/.pnpm/xterm-addon-web-links@0.8.0_xterm@5.2.1/node_modules/xterm-addon-web-links/lib/xterm-addon-web-links.js\");\n/* harmony import */ var xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var xterm_addon_unicode11__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! xterm-addon-unicode11 */ \"./node_modules/.pnpm/xterm-addon-unicode11@0.5.0_xterm@5.2.1/node_modules/xterm-addon-unicode11/lib/xterm-addon-unicode11.js\");\n/* harmony import */ var xterm_addon_unicode11__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(xterm_addon_unicode11__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var xterm_addon_attach__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! xterm-addon-attach */ \"./node_modules/.pnpm/xterm-addon-attach@0.8.0_xterm@5.2.1/node_modules/xterm-addon-attach/lib/xterm-addon-attach.js\");\n/* harmony import */ var xterm_addon_attach__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(xterm_addon_attach__WEBPACK_IMPORTED_MODULE_10__);\n\n//import { AceLanguageClient } from \"ace-linters/build/ace-language-client\";\n// xtermjs\n// xtermjs addons\n// acode commopents & api\nconst alert=acode.require(\"alert\");const confirm=acode.require(\"confirm\");const prompt=acode.require(\"prompt\");const appSettings=acode.require(\"settings\");const helpers=acode.require(\"helpers\");const fsOperation=acode.require(\"fsOperation\");const toInternalUrl=acode.require('toInternalUrl');const{clipboard}=cordova.plugins;class AcodeX{constructor(){// constants for dragable Terminal panel\n(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"isDragging\",false);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"startY\",void 0);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"startHeight\",void 0);// constants for dragable show terminal button\n(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"isFlotBtnDragging\",false);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"btnStartPosX\",void 0);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"btnStartPosY\",void 0);// terminal constant\n(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"isTerminalMinimized\",false);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"isTerminalOpened\",false);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"previousTerminalHeight\",void 0);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"pid\",void 0);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"terminal\",null);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"socket\",null);//activeLSPConnections = {};\n// default settings for terminal\n//LSP = false;\n(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"CURSOR_BLINK\",true);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"SHOW_ARROW_BTN\",false);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"CURSOR_STYLE1\",\"block\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"CURSOR_STYLE2\",\"underline\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"CURSOR_STYLE3\",\"bar\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"FONT_SIZE\",10);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"FONT_FAMILY\",\"'Cascadia Code', Menlo, monospace\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"SCROLLBACK\",1000);(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"SCROLL_SENSITIVITY\",1000);// Terminal Theme Color\n(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"BACKGROUND_COLOR\",\"#1c2431\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"FOREGROUND_COLOR\",\"#cccccc\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"SELECTIONBACKGROUND\",\"#399ef440\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"CURSOR\",\"#ffffff\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"CURSOR_ACCENT\",\"#fff\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"BLACK\",\"#666666\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"BLUE\",\"#399ef4\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"BRIGHT_BLACK\",\"#666666\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"BRIGHT_BLUE\",\"#399ef4\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"BRIGHT_CYAN\",\"#21c5c7\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"BRIGHT_GREEN\",\"#4eb071\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"BRIGHT_MAGENTA\",\"#b168df\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"BRIGHT_RED\",\"#da6771\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"BRIGHT_WHITE\",\"#efefef\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"BRIGHT_YELLOW\",\"#fff099\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"CYAN\",\"#21c5c7\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"GREEN\",\"#4eb071\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"MAGENTA\",\"#b168df\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"RED\",\"#da6771\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"WHITE\",\"#efefef\");(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this,\"YELLOW\",\"#fff099\");if(!appSettings.value[_plugin_json__WEBPACK_IMPORTED_MODULE_2__.id]){appSettings.value[_plugin_json__WEBPACK_IMPORTED_MODULE_2__.id]={//lsp: this.LSP,\ncursorBlink:this.CURSOR_BLINK,showArrowBtn:this.SHOW_ARROW_BTN,cursorStyle:this.CURSOR_STYLE1,fontSize:this.FONT_SIZE,fontFamily:this.FONT_FAMILY,customFontStyleSheet:'',scrollBack:this.SCROLLBACK,scrollSensitivity:this.SCROLL_SENSITIVITY,backgroundColor:this.BACKGROUND_COLOR,foregroundColor:this.FOREGROUND_COLOR,selectionBackground:this.SELECTIONBACKGROUND,cursor:this.CURSOR,cursorAccent:this.CURSOR_ACCENT,black:this.BLACK,blue:this.BLUE,brightBlack:this.BRIGHT_BLACK,brightBlue:this.BRIGHT_BLUE,brightCyan:this.BRIGHT_CYAN,brightGreen:this.BRIGHT_GREEN,brightMagenta:this.BRIGHT_MAGENTA,brightRed:this.BRIGHT_RED,brightWhite:this.BRIGHT_WHITE,brightYellow:this.BRIGHT_YELLOW,cyan:this.CYAN,green:this.GREEN,magenta:this.MAGENTA,red:this.RED,white:this.WHITE,yellow:this.YELLOW};appSettings.update(false);}else{var _appSettings$value$pl,_appSettings$value$pl2,_appSettings$value$pl3,_appSettings$value$pl4;(_appSettings$value$pl2=(_appSettings$value$pl=appSettings.value[_plugin_json__WEBPACK_IMPORTED_MODULE_2__.id]).fontFamily)!==null&&_appSettings$value$pl2!==void 0?_appSettings$value$pl2:_appSettings$value$pl.fontFamily=this.FONT_FAMILY;(_appSettings$value$pl4=(_appSettings$value$pl3=appSettings.value[_plugin_json__WEBPACK_IMPORTED_MODULE_2__.id]).customFontStyleSheet)!==null&&_appSettings$value$pl4!==void 0?_appSettings$value$pl4:_appSettings$value$pl3.customFontStyleSheet=\"\";appSettings.update(false);}}async init(){var _this=this;try{this.xtermCss=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"link\",{rel:\"stylesheet\",href:this.baseUrl+\"xterm.css\"});this.$style=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"style\",{textContent:_style_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"]});this._loadCustomFontStyleSheet();document.head.append(this.xtermCss,this.$style);// add command in command Pallete for opening and closing terminal\neditorManager.editor.commands.addCommand({name:\"acodex:open_terminal\",description:\"Open Terminal\",bindKey:{win:\"Ctrl-K\"},exec:()=>{this.createTerminal(270,null);}});editorManager.editor.commands.addCommand({name:\"acodex:close_terminal\",description:\"Close Terminal\",bindKey:{win:\"Ctrl-J\"},exec:this.closeTerminal.bind(this)});/*if (this.settings.lsp) {\n                editorManager.editor.commands.addCommand({\n                    name: \"acodex:start_lsp\",\n                    description: \"Start Lsp\",\n                    exec: this.startLSPServer(editorManager.editor),\n                });\n            }*/ // main terminal container\nthis.$terminalContainer=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"terminal-container\"});this.$terminalHeader=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"terminal-header\"});this.$terminalTitle=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"h3\",{textContent:\"AcodeX\"});const $controlBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"control-btn\"});this.$cdBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"button\",{className:\"cd-btn\"});this.$cdBtn.innerHTML=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"currentColor\\\" class=\\\"bi bi-folder2-open\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M1 3.5A1.5 1.5 0 0 1 2.5 2h2.764c.958 0 1.76.56 2.311 1.184C7.985 3.648 8.48 4 9 4h4.5A1.5 1.5 0 0 1 15 5.5v.64c.57.265.94.876.856 1.546l-.64 5.124A2.5 2.5 0 0 1 12.733 15H3.266a2.5 2.5 0 0 1-2.481-2.19l-.64-5.124A1.5 1.5 0 0 1 1 6.14V3.5zM2 6h12v-.5a.5.5 0 0 0-.5-.5H9c-.964 0-1.71-.629-2.174-1.154C6.374 3.334 5.82 3 5.264 3H2.5a.5.5 0 0 0-.5.5V6zm-.367 1a.5.5 0 0 0-.496.562l.64 5.124A1.5 1.5 0 0 0 3.266 14h9.468a1.5 1.5 0 0 0 1.489-1.314l.64-5.124A.5.5 0 0 0 14.367 7H1.633z\\\"/></svg>\";this.$hideTermBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"button\",{className:\"hide-terminal-btn\"});this.$hideTermBtn.innerHTML=\"<svg viewBox=\\\"0 0 48 48\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"1.5em\\\" width=\\\"1.5em\\\"><path fill=\\\"currentColor\\\" d=\\\"M15.5 25.5q-.65 0-1.075-.425Q14 24.65 14 24q0-.65.425-1.075.425-.425 1.075-.425h17q.65 0 1.075.425Q34 23.35 34 24q0 .65-.425 1.075-.425.425-1.075.425Z\\\"/></svg>\";this.$closeTermBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"button\",{className:\"close-terminal-btn\"});this.$closeTermBtn.innerHTML=\"<svg viewBox=\\\"0 0 48 48\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"1.5em\\\" width=\\\"1.5em\\\"><path fill=\\\"currentColor\\\" d=\\\"M24 26.1 13.5 36.6q-.45.45-1.05.45-.6 0-1.05-.45-.45-.45-.45-1.05 0-.6.45-1.05L21.9 24 11.4 13.5q-.45-.45-.45-1.05 0-.6.45-1.05.45-.45 1.05-.45.6 0 1.05.45L24 21.9l10.5-10.5q.45-.45 1.05-.45.6 0 1.05.45.45.45.45 1.05 0 .6-.45 1.05L26.1 24l10.5 10.5q.45.45.45 1.05 0 .6-.45 1.05-.45.45-1.05.45-.6 0-1.05-.45Z\\\"/></svg>\";$controlBtn.append(...[this.$cdBtn,this.$hideTermBtn,this.$closeTermBtn]);this.$terminalHeader.append(...[this.$terminalTitle,$controlBtn]);this.$terminalContent=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"terminal-content\"});this.$terminalContainer.append(this.$terminalHeader,this.$terminalContent);// show terminal button\nthis.$showTermBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"button\",{className:\"show-terminal-btn\"});this.$showTermBtn.innerHTML=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"currentColor\\\" class=\\\"bi bi-terminal\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M6 9a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3A.5.5 0 0 1 6 9zM3.854 4.146a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708l-2-2z\\\"/><path d=\\\"M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h12z\\\"/></svg>\";// append Terminal panel to app main\napp.get(\"main\").append(this.$terminalContainer,this.$showTermBtn);this.$showTermBtn.classList.add(\"hide\");this.$terminalContainer.classList.add(\"hide\");// add event listnner to all buttons and terminal panel header\nthis.$terminalHeader.addEventListener(\"mousedown\",this.startDragging.bind(this));this.$terminalHeader.addEventListener(\"touchstart\",this.startDragging.bind(this));this.$closeTermBtn.addEventListener(\"click\",this.closeTerminal.bind(this));this.$hideTermBtn.addEventListener(\"click\",this.minimise.bind(this));this.$cdBtn.addEventListener(\"click\",this._cdToActiveDir.bind(this));// add event listener for show terminal button\nthis.$showTermBtn.addEventListener(\"mousedown\",this.startDraggingFlotingBtn.bind(this));document.addEventListener(\"mousemove\",this.dragFlotButton.bind(this));document.addEventListener(\"mouseup\",this.stopDraggingFlotBtn.bind(this));this.$showTermBtn.addEventListener(\"touchstart\",this.startDraggingFlotingBtn.bind(this));document.addEventListener(\"touchmove\",this.dragFlotButton.bind(this));document.addEventListener(\"touchend\",this.stopDraggingFlotBtn.bind(this));this.$showTermBtn.addEventListener(\"click\",this.maxmise.bind(this));window.addEventListener(\"mousemove\",this.drag.bind(this));window.addEventListener(\"touchmove\",this.drag.bind(this));window.addEventListener(\"mouseup\",this.stopDragging.bind(this));window.addEventListener(\"touchend\",this.stopDragging.bind(this));// to adjust size of terminal or floating button when Keyboard is opened\nwindow.addEventListener(\"resize\",()=>{if(!this.$terminalContainer.classList.contains(\"hide\")||this.$terminalContainer.style.height!=\"0px\"){const totalHeaderHeight=document.querySelector(\"#root header\").offsetHeight+document.querySelector(\"#root ul\").offsetHeight;const totalFooterHeight=document.querySelector(\"#quick-tools\").offsetHeight;const screenHeight=window.innerHeight-(totalHeaderHeight+totalFooterHeight);const currentHeight=parseInt(this.$terminalContainer.style.height);const adjustedHeight=Math.min(currentHeight,screenHeight);this.$terminalContainer.style.height=adjustedHeight+\"px\";}if(!this.$showTermBtn.classList.contains(\"hide\")){let totalHeaderHeight=document.querySelector(\"#root header\").offsetHeight+document.querySelector(\"#root ul\").offsetHeight;let maxY=window.innerHeight-totalHeaderHeight-this.$showTermBtn.offsetHeight;const currentY=parseInt(this.$showTermBtn.style.bottom);this.$showTermBtn.style.bottom=Math.max(0,Math.min(maxY,currentY))+\"px\";}});if(localStorage.getItem(\"AcodeX_Is_Opened\")===\"true\"){this.createTerminal(localStorage.getItem(\"AcodeX_Terminal_Cont_Height\")||270,localStorage.getItem(\"AcodeX_Port\")||8767);}// if (this.settings.lsp) {\n//     setInterval(() => {\n//         this.startLSPServer(editorManager.editor);\n//     }, 2000);\n//     editorManager.on(\"switch-file\", () => {\n//         this.startLSPServer(editorManager.editor);\n//     });\n// }\n// acodex terminal api\nacode.define(\"acodex\",{execute:cmd=>{/*\n                    {cmd}: command to run in terminal\n                    */try{if(!this.isTerminalOpened)return;this.socket.send(cmd+\"\\r\");}catch(error){throw Error(error);}},isMinimized:()=>{return this.isTerminalMinimized;},isTerminalOpened:()=>{return this.isTerminalOpened;},maximiseTerminal:()=>{if(this.isTerminalOpened&&this.isTerminalMinimized){this.maxmise();}},openTerminal:function(){let termContainerHeight=arguments.length>0&&arguments[0]!==undefined?arguments[0]:270;let port=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!_this.isTerminalOpened){_this.createTerminal(termContainerHeight,port);}},closeTerminal:()=>{if(this.isTerminalOpened){this.closeTerminal();}},convertAcodeUriToTermReadable:path=>{return this._convertPath(path);}});}catch(err){console.log(err);alert(\"Warning\",\"Please Restart the app to use AcodeX\");}}/* LSP Stuffs */ /*startLSPServer(editor) {\n        const fileType = this.getFileType(editor);\n\n        for (const language in this.activeLSPConnections) {\n            if (language !== fileType) {\n                this.closeLSPConnection(language);\n            }\n        }\n\n        this.connectToLSP(fileType, editor);\n    }\n\n    closeLSPConnection(language) {\n        const socket = this.activeLSPConnections[language];\n        if (socket) {\n            socket.close();\n            delete this.activeLSPConnections[language];\n        }\n    }\n\n    connectToLSP(language, editor) {\n        if (this.activeLSPConnections[language]) {\n            return this.activeLSPConnections[language];\n        }\n        const lspUrl = this.lspServers[language];\n        if (!lspUrl) {\n            return;\n        }\n        let socket = new WebSocket(lspUrl);\n        this.languageProvider = AceLanguageClient.for(socket);\n        this.activeLSPConnections[language] = socket;\n        this.languageProvider.setGlobalOptions(\"python\", {\n            pylsp: {\n                configurationSources: [\"pycodestyle\"],\n                plugins: {\n                    pycodestyle: {\n                        enabled: true,\n                        ignore: [\"E501\"],\n                        maxLineLength: 10,\n                    },\n                    pyflakes: {\n                        enabled: true,\n                    },\n                },\n            },\n        });\n        this.languageProvider.registerEditor(editor);\n        acode.registerFormatter(plugin.id, [\"py\"], () => {\n            this.languageProvider.format();\n        });\n    }\n\n    getFileType(editor) {\n        const mode = editor.getSession().getMode().$id;\n        const modeLang = mode.split(\"/\")[2];\n        return modeLang;\n    }\n\n    get lspServers() {\n        return {\n            python: \"ws://localhost:3000\",\n        };\n    }*/async createTerminal(termContainerHeight,portFromParm){const port=portFromParm||(await prompt(\"Port\",\"8767\",\"number\",{required:true}));if(port){this.$terminalContainer.classList.remove(\"hide\");this.$terminal=this.terminalObj;this.$fitAddon=new xterm_addon_fit__WEBPACK_IMPORTED_MODULE_5__.FitAddon();this.$serializeAddon=new xterm_addon_serialize__WEBPACK_IMPORTED_MODULE_7__.SerializeAddon();this.$webglAddon=new xterm_addon_webgl__WEBPACK_IMPORTED_MODULE_6__.WebglAddon();this.$unicode11Addon=new xterm_addon_unicode11__WEBPACK_IMPORTED_MODULE_9__.Unicode11Addon();this.$webLinkAddon=new xterm_addon_web_links__WEBPACK_IMPORTED_MODULE_8__.WebLinksAddon();this.$terminal.loadAddon(this.$fitAddon);this.$terminal.loadAddon(this.$serializeAddon);this.$terminal.loadAddon(this.$unicode11Addon);this.$terminal.loadAddon(this.$webLinkAddon);this.$terminal.onResize(size=>{if(!this.pid)return;const cols=size.cols;const rows=size.rows;const url='http://localhost:'+port+'/terminals/'+this.pid+'/size?cols='+cols+'&rows='+rows;fetch(url,{method:'POST'});});this.$fitAddon.fit();if(this.$webglAddon){try{this.$terminal.loadAddon(this.$webglAddon);this.$terminal.open(this.$terminalContent);}catch(e){window.toast('error during loading webgl addon: '+e,4000);this.$webglAddon.dispose();this.$webglAddon=undefined;}}if(!this.$terminal.element){// webgl loading failed for some reason, attach with DOM renderer\nthis.$terminal.open(this.$terminalContent);}this.$terminal.focus();// fit is called within a setTimeout, cols and rows need this.\nsetTimeout(async()=>{// Set terminal size again to set the specific dimensions on the demo\nthis.isTerminalOpened=true;this.$terminalContainer.style.height=termContainerHeight+\"px\";localStorage.setItem(\"AcodeX_Terminal_Cont_Height\",270);localStorage.setItem(\"AcodeX_Terminal_Is_Minimised\",this.isTerminalMinimized);localStorage.setItem(\"AcodeX_Is_Opened\",this.isTerminalOpened);this._updateTerminalHeight.bind(this);const res=await fetch('http://localhost:'+port+'/terminals?cols='+this.$terminal.cols+'&rows='+this.$terminal.rows,{method:'POST'});const processId=await res.text();this.pid=processId;this.socket=new WebSocket(\"ws://localhost:\".concat(port,\"/terminals/\").concat(this.pid));this.socket.onopen=this.openNewTerminal();this.socket.onclose=()=>{window.toast(\"Disconnected from AcodeX server\",3000);};this.socket.onerror=error=>{acode.alert(\"AcodeX Error\",error);};},0);}}async openNewTerminal(){/*\n        open a new terminal in app\n        */try{this.$fitAddon.fit();this.$attachAddon=new xterm_addon_attach__WEBPACK_IMPORTED_MODULE_10__.AttachAddon(this.socket);this.$terminal.loadAddon(this.$attachAddon);this.$terminal.unicode.activeVersion=\"11\";if(localStorage.getItem(\"AcodeX_Terminal_Is_Minimised\")===\"true\"){this.previousTerminalHeight=window.getComputedStyle(this.$terminalContainer).height;localStorage.setItem(\"AcodeX_Terminal_Cont_Height\",this.$terminalContainer.offsetHeight);this.isTerminalMinimized=true;this.$terminalContainer.style.height=0;localStorage.setItem(\"AcodeX_Terminal_Is_Minimised\",this.isTerminalMinimized);this.$showTermBtn.classList.remove(\"hide\");}}catch(err){window.alert(err);}}_loadCustomFontStyleSheet(){if(this.settings.customFontStyleSheet!=\"\"){if(!document.querySelector(\"#customFontAcodeXStyleSheet\")){const fontStyleSheet=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"link\",{href:this.settings.customFontStyleSheet,rel:\"stylesheet\",id:\"customFontAcodeXStyleSheet\"});document.head.append(fontStyleSheet);}else{document.querySelector(\"#customFontAcodeXStyleSheet\").href=this.settings.customFontStyleSheet;}}}_updateTerminalHeight(){const terminalHeaderHeight=this.$terminalHeader.offsetHeight;this.$terminalContent.style.height=\"calc(100% - \".concat(terminalHeaderHeight,\"px)\");localStorage.setItem(\"AcodeX_Terminal_Cont_Height\",this.$terminalContainer.offsetHeight);this.$fitAddon.fit();}async closeTerminal(){/*\n        remove terminal from  app\n        */let confirmation=await confirm(\"Warning\",\"Are you sure ?\");if(!confirmation)return;if(this.$terminal){this.socket.close();this.$terminal.dispose();this.$terminal=null;this.socket=null;this.pid=\"\";this.$attachAddon=undefined;this.$fitAddon=undefined;this.$serializeAddon=undefined;this.$unicode11Addon=undefined;this.$webLinkAddon=undefined;this.$webglAddon=undefined;}this.$terminalContent.innerHTML=\"\";if(!this.$terminalContainer.classList.contains(\"hide\"))this.$terminalContainer.classList.add(\"hide\");if(!this.$showTermBtn.classList.contains(\"hide\"))this.$showTermBtn.classList.add(\"hide\");this.isTerminalMinimized=false;this.isTerminalOpened=false;localStorage.setItem(\"AcodeX_Terminal_Is_Minimised\",this.isTerminalMinimized);localStorage.setItem(\"AcodeX_Is_Opened\",this.isTerminalOpened);this.$terminalContainer.style.height=this.previousTerminalHeight;localStorage.setItem(\"AcodeX_Terminal_Cont_Height\",this.$terminalContainer.offsetHeight);localStorage.removeItem(\"AcodeX_Term_ID\");}startDraggingFlotingBtn(e){try{this.isFlotBtnDragging=true;this.$showTermBtn.style.border=\"2px solid #fff\";if(e.type===\"touchstart\"){this.btnStartPosX=e.touches[0].clientX;this.btnStartPosY=e.touches[0].clientY;}else{this.btnStartPosX=e.clientX;this.btnStartPosY=e.clientY;}}catch(err){window.alert(err);}}dragFlotButton(e){try{if(!this.isFlotBtnDragging)return;e.preventDefault();let currentX,currentY;if(e.type===\"touchmove\"){currentX=e.touches[0].clientX;currentY=e.touches[0].clientY;}else{currentX=e.clientX;currentY=e.clientY;}let newX=this.btnStartPosX-currentX;let newY=this.btnStartPosY-currentY;this.btnStartPosX=currentX;this.btnStartPosY=currentY;let buttonBottom=window.innerHeight-(this.$showTermBtn.offsetTop+this.$showTermBtn.offsetHeight)+newY;let buttonLeft=this.$showTermBtn.offsetLeft-newX;let totalHeaderHeight=document.querySelector(\"#root header\").offsetHeight+document.querySelector(\"#root ul\").offsetHeight;let maxX=window.innerWidth-this.$showTermBtn.offsetWidth;let maxY=window.innerHeight-totalHeaderHeight-this.$showTermBtn.offsetHeight;this.$showTermBtn.style.bottom=Math.max(0,Math.min(maxY,buttonBottom))+\"px\";this.$showTermBtn.style.left=Math.max(0,Math.min(maxX,buttonLeft))+\"px\";}catch(err){window.alert(err);}}stopDraggingFlotBtn(){try{this.isFlotBtnDragging=false;this.$showTermBtn.style.border=\"none\";}catch(err){window.alert(err);}}startDragging(e){if(e.type===\"touchstart\"){this.startY=e.touches[0].clientY;}else{e.preventDefault();this.startY=e.clientY;}this.startHeight=this.$terminalContainer.clientHeight;this.isDragging=true;this.$terminalContainer.style.borderTop=\"2px solid var(--link-text-color)\";}drag(e){if(!this.isDragging)return;e.preventDefault();let currentY;if(e.type===\"touchmove\"){currentY=e.touches[0].clientY;}else{currentY=e.clientY;}const diffY=currentY-this.startY;let newHeight=this.startHeight-diffY;const totalHeaderHeight=document.querySelector(\"#root header\").offsetHeight+document.querySelector(\"#root ul\").offsetHeight;const totalFooterHeight=document.querySelector(\"#quick-tools\").offsetHeight;const maximumHeight=window.innerHeight-(totalHeaderHeight+totalFooterHeight);const minimumHeight=100;newHeight=Math.max(minimumHeight,Math.min(newHeight,maximumHeight));this.$terminalContainer.style.height=newHeight+\"px\";localStorage.setItem(\"AcodeX_Terminal_Cont_Height\",newHeight);this._updateTerminalHeight.bind(this);this.$fitAddon.fit();}stopDragging(e){this.isDragging=false;this.$terminalContainer.style.borderTop=\"1px solid var(--popup-border-color)\";}minimise(){/*\n        hide terminal and active the show terminal button\n        */try{if(!this.isTerminalMinimized){this.previousTerminalHeight=window.getComputedStyle(this.$terminalContainer).height;localStorage.setItem(\"AcodeX_Terminal_Cont_Height\",this.$terminalContainer.offsetHeight);this.$terminalContainer.style.height=0;this.isTerminalMinimized=true;localStorage.setItem(\"AcodeX_Terminal_Is_Minimised\",this.isTerminalMinimized);this.$showTermBtn.classList.remove(\"hide\");}}catch(err){window.alert(err);}}maxmise(){/*\n        show terminal and hide the show terminal button\n        */if(this.isTerminalMinimized){this.$terminalContainer.style.height=localStorage.getItem(\"AcodeX_Terminal_Cont_Height\")+\"px\";this.$terminalContent.style.height=\"calc(100% - \".concat(this.$terminalContainer.offsetHeight,\"px)\");this.$fitAddon.fit();localStorage.setItem(\"AcodeX_Terminal_Cont_Height\",this.$terminalContainer.offsetHeight);this.$showTermBtn.classList.add(\"hide\");this.isTerminalMinimized=false;localStorage.setItem(\"AcodeX_Terminal_Is_Minimised\",this.isTerminalMinimized);this._updateTerminalHeight();}}_convertPath(path){if(path.startsWith(\"content://com.termux.documents/tree\")){let termuxPath=path.split(\"::\")[1].substring(0,path.split(\"::\")[1].lastIndexOf(\"/\")).replace(/^\\/data\\/data\\/com\\.termux\\/files\\/home/,\"$HOME\");return termuxPath;}else if(path.startsWith(\"file:///storage/emulated/0/\")){let sdcardPath=\"/sdcard\"+path.substr(\"file:///storage/emulated/0\".length).replace(/\\.[^/.]+$/,\"\").split(\"/\").slice(0,-1).join(\"/\")+\"/\";return sdcardPath;}else if(path.startsWith(\"content://com.android.externalstorage.documents/tree/primary\")){let androidPath=\"/sdcard/\"+path.split(\"::primary:\")[1].substring(0,path.split(\"::primary:\")[1].lastIndexOf(\"/\"));return androidPath;}else{return false;}}async _cdToActiveDir(){const{activeFile}=editorManager;const realPath=this._convertPath(activeFile.uri);if(!realPath){window.toast(\"unsupported path type.\",3000);return;}this.socket.send(\"cd \\\"\".concat(realPath,\"\\\"\\r\"));}async destroy(){this.$style.remove();this.xtermCss.remove();editorManager.editor.commands.removeCommand(\"terminal:open_terminal\");editorManager.editor.commands.removeCommand(\"terminal:close_terminal\");//editorManager.editor.commands.removeCommand(\"terminal:start_lsp\");\nthis.$terminalContainer.remove();this.$showTermBtn.remove();document.removeEventListener(\"mousemove\",this.dragFlotButton.bind(this));document.removeEventListener(\"mouseup\",this.stopDraggingFlotBtn.bind(this));document.removeEventListener(\"touchmove\",this.dragFlotButton.bind(this));document.removeEventListener(\"touchend\",this.stopDraggingFlotBtn.bind(this));window.removeEventListener(\"mousemove\",this.drag);window.removeEventListener(\"touchmove\",this.drag);window.removeEventListener(\"mouseup\",this.stopDragging);window.removeEventListener(\"touchend\",this.stopDragging);localStorage.removeItem(\"AcodeX_Terminal_Is_Minimised\");localStorage.removeItem(\"AcodeX_Port\");localStorage.removeItem(\"AcodeX_Terminal_Cont_Height\");localStorage.removeItem(\"AcodeX_Is_Opened\");}async setCustomFontFile(){const{url}=await acode.fileBrowser('file','select custom font stylesheet(from internal storage only)');const newUrl=await toInternalUrl(url);this.settings.customFontStyleSheet=newUrl;appSettings.update();}get terminalObj(){return new xterm__WEBPACK_IMPORTED_MODULE_4__.Terminal({allowProposedApi:true,scrollOnUserInput:true,cursorBlink:this.settings.cursorBlink,cursorStyle:this.settings.cursorStyle,scrollBack:this.settings.scrollBack,scrollSensitivity:this.settings.scrollSensitivity,fontSize:this.settings.fontSize,fontFamily:this.settings.fontFamily,theme:{background:this.settings.backgroundColor,foreground:this.settings.foregroundColor,selectionBackground:this.settings.selectionBackground,cursor:this.settings.cursor,cursorAccent:this.settings.cursorAccent,black:this.settings.black,blue:this.settings.blue,brightBlack:this.settings.brightBlack,brightBlue:this.settings.brightBlue,brightCyan:this.settings.brightCyan,brightGreen:this.settings.brightGreen,brightMagenta:this.settings.brightMagenta,brightRed:this.settings.brightRed,brightWhite:this.settings.brightWhite,brightYellow:this.settings.brightYellow,cyan:this.settings.cyan,green:this.settings.green,magenta:this.settings.magenta,red:this.settings.red,white:this.settings.white,yellow:this.settings.yellow}});}get settingsObj(){return{list:[/*                {\n                    key: \"lsp\",\n                    text: \"Want LSP\",\n                    info: \"Whether the lsp should work or not.\",\n                    checkbox: !!this.settings.lsp,\n                },*/{key:\"customFontStyleSheet\",text:\"Custom Font Stylesheet file\",info:\"Select css file in which you have to define about your custom font.\",value:this.settings.customFontStyleSheet},{index:0,key:\"cursorBlink\",text:\"Cursor Blink\",info:\"Whether the cursor blinks.\",checkbox:!!this.settings.cursorBlink},{index:1,key:\"cursorStyle\",text:\"Cursor Style\",value:this.settings.cursorStyle,info:\"The style of the cursor.\",select:[this.CURSOR_STYLE1,this.CURSOR_STYLE2,this.CURSOR_STYLE3]},{index:2,key:\"fontSize\",text:\"Font Size\",value:this.settings.fontSize,info:\"The font size used to render text.\",prompt:\"Font Size\",promptType:\"text\",promptOption:[{match:/^[0-9]+$/,required:true}]},{key:\"fontFamily\",text:\"Font Family\",value:this.settings.fontFamily,info:\"The font family used to render text.\",prompt:\"Font Family\",promptType:\"text\"},{index:3,key:\"scrollBack\",text:\"Scroll Back\",value:this.settings.scrollBack,info:\"The amount of scrollback in the terminal. Scrollback is the amount of rows that are retained when lines are scrolled beyond the initial viewport.\",prompt:\"Scroll Back\",promptType:\"number\",promptOption:[{match:/^[0-9]+$/,required:true}]},{index:4,key:\"scrollSensitivity\",text:\"Scroll Sensitivity\",value:this.settings.scrollSensitivity,info:\"The scrolling speed multiplier used for adjusting normal scrolling speed.\",prompt:\"Scroll Sensitivity\",promptType:\"number\",promptOption:[{match:/^[0-9]+$/,required:true}]},{index:6,key:\"backgroundColor\",text:\"Background Color\",value:this.settings.backgroundColor,color:this.settings.backgroundColor},{index:7,key:\"foregroundColor\",text:\"Foreground Color\",value:this.settings.foregroundColor,color:this.settings.backgroundColor},{index:8,key:\"selectionBackground\",text:\"Selection Background Color\",value:this.settings.selectionBackground,color:this.settings.selectionBackground},{key:\"cursor\",text:\"Cursor Color\",value:this.settings.cursor,color:this.settings.cursor},{key:\"cursorAccent\",text:\"Cursor Accent Color\",value:this.settings.cursorAccent,color:this.settings.cursorAccent},{index:9,key:\"black\",text:\"Black Color\",value:this.settings.black,color:this.settings.black},{index:10,key:\"blue\",text:\"Blue Color\",value:this.settings.blue,color:this.settings.blue},{index:11,key:\"brightBlack\",text:\"Bright Black Color\",value:this.settings.brightBlack,color:this.settings.brightBlack},{index:12,key:\"brightBlue\",text:\"Bright Blue Color\",value:this.settings.brightBlue,color:this.settings.brightBlue},{index:13,key:\"brightCyan\",text:\"Bright Cyan Color\",value:this.settings.brightCyan,color:this.settings.brightCyan},{index:14,key:\"brightGreen\",text:\"Bright Green Color\",value:this.settings.brightGreen,color:this.settings.brightGreen},{index:15,key:\"brightMagenta\",text:\"Bright Magenta Color\",value:this.settings.brightMagenta,color:this.settings.brightMagenta},{index:16,key:\"brightRed\",text:\"Bright Red Color\",value:this.settings.brightRed,color:this.settings.brightRed},{index:17,key:\"brightWhite\",text:\"Bright White Color\",value:this.settings.brightWhite,color:this.settings.brightWhite},{index:18,key:\"brightYellow\",text:\"Bright Yellow Color\",value:this.settings.brightYellow,color:this.settings.brightYellow},{index:19,key:\"cyan\",text:\"Cyan Color\",value:this.settings.cyan,color:this.settings.cyan},{index:20,key:\"green\",text:\"Green Color\",value:this.settings.green,color:this.settings.green},{index:21,key:\"magenta\",text:\"Magenta Color\",value:this.settings.magenta,color:this.settings.magenta},{index:22,key:\"red\",text:\"Red Color\",value:this.settings.red,color:this.settings.red},{index:23,key:\"white\",text:\"White Color\",value:this.settings.white,color:this.settings.white},{index:24,key:\"yellow\",text:\"Yellow Color\",value:this.settings.yellow,color:this.settings.yellow}],cb:(key,value)=>{if(key===\"customFontStyleSheet\"){this.setCustomFontFile();}else{this.settings[key]=value;appSettings.update();}}};}get settings(){return appSettings.value[_plugin_json__WEBPACK_IMPORTED_MODULE_2__.id];}}if(window.acode){const acodePlugin=new AcodeX();acode.setPluginInit(_plugin_json__WEBPACK_IMPORTED_MODULE_2__.id,async(baseUrl,$page,_ref)=>{let{cacheFileUrl,cacheFile}=_ref;if(!baseUrl.endsWith(\"/\")){baseUrl+=\"/\";}acodePlugin.baseUrl=baseUrl;await acodePlugin.init($page,cacheFile,cacheFileUrl);},acodePlugin.settingsObj);acode.setPluginUnmount(_plugin_json__WEBPACK_IMPORTED_MODULE_2__.id,()=>{acodePlugin.destroy();});}\n\n//# sourceURL=webpack://acode-plugin-acodex/./src/main.js?");

/***/ }),

/***/ "./src/style.scss":
/*!************************!*\
  !*** ./src/style.scss ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\".terminal-container {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  width: 100vw;\\n  z-index: 107;\\n  display: flex;\\n  flex-direction: column;\\n  box-shadow: 0px -10px 15px -6px var(--box-shadow-color);\\n  background-color: var(--popup-background-color);\\n  border-top: 1px solid var(--popup-border-color);\\n  overflow: hidden;\\n  box-sizing: border-box;\\n}\\n.terminal-container .terminal-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  height: 28px;\\n  padding: 5px;\\n  cursor: move;\\n  touch-action: none;\\n  border-top: 1px solid var(--border-color);\\n  background: var(--primary-color);\\n  box-shadow: 0 1px 6px var(--box-shadow-color);\\n}\\n.terminal-container .terminal-header h3 {\\n  margin: 0;\\n}\\n.terminal-container .terminal-header .control-btn {\\n  display: flex;\\n  justify-content: center;\\n  align-content: center;\\n  margin: 0;\\n  box-sizing: border-box;\\n  height: 100%;\\n}\\n.terminal-container .terminal-header .control-btn .cd-btn {\\n  height: 100%;\\n  width: 30px;\\n  border-radius: 10px;\\n  background: transparent;\\n  border: none;\\n  margin-right: 8px;\\n  color: var(--primary-text-color);\\n  transition: all 0.3s ease-in-out;\\n}\\n.terminal-container .terminal-header .control-btn .cd-btn:active {\\n  background: var(--active-icon-color);\\n}\\n.terminal-container .terminal-header .control-btn .hide-terminal-btn {\\n  font-size: 22px;\\n  height: 100%;\\n  width: 30px;\\n  border-radius: 10px;\\n  background: transparent;\\n  border: none;\\n  color: var(--primary-text-color);\\n  margin-right: 8px;\\n  transition: all 0.3s ease-in-out;\\n}\\n.terminal-container .terminal-header .control-btn .hide-terminal-btn:active {\\n  background: var(--active-icon-color);\\n}\\n.terminal-container .terminal-header .control-btn .close-terminal-btn {\\n  font-size: 19px;\\n  font-weight: 700;\\n  height: 100%;\\n  width: 30px;\\n  border-radius: 10px;\\n  background: transparent;\\n  border: none;\\n  color: var(--primary-text-color);\\n  transition: all 0.3s ease-in-out;\\n}\\n.terminal-container .terminal-header .control-btn .close-terminal-btn:active {\\n  background: var(--error-text-color);\\n}\\n.terminal-container .terminal-content {\\n  flex-grow: 1;\\n  overflow-y: auto;\\n  box-sizing: border-box;\\n  max-height: 80vh;\\n  background: inherit;\\n  width: 100vw;\\n}\\n\\n.show-terminal-btn {\\n  height: 35px;\\n  width: 35px;\\n  background: var(--button-background-color);\\n  border: none;\\n  outline: none;\\n  color: var(--primary-text-color);\\n  position: fixed;\\n  bottom: 70px;\\n  left: 29px;\\n  z-index: 115;\\n  border-radius: 50%;\\n  place-items: center;\\n  touch-action: none;\\n  box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset;\\n}\\n.show-terminal-btn svg {\\n  height: 17px;\\n  width: 17px;\\n}\\n\\n.hide {\\n  display: none;\\n}\");\n\n//# sourceURL=webpack://acode-plugin-acodex/./src/style.scss?");

/***/ }),

/***/ "./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js ***!
  \*************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _defineProperty; }\n/* harmony export */ });\n/* harmony import */ var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toPropertyKey.js */ \"./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js\");\n\nfunction _defineProperty(obj, key, value) {\n  key = (0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js?");

/***/ }),

/***/ "./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/toPrimitive.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/toPrimitive.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _toPrimitive; }\n/* harmony export */ });\n/* harmony import */ var _typeof_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./typeof.js */ \"./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/typeof.js\");\n\nfunction _toPrimitive(input, hint) {\n  if ((0,_typeof_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if ((0,_typeof_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/toPrimitive.js?");

/***/ }),

/***/ "./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js ***!
  \************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _toPropertyKey; }\n/* harmony export */ });\n/* harmony import */ var _typeof_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./typeof.js */ \"./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/typeof.js\");\n/* harmony import */ var _toPrimitive_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toPrimitive.js */ \"./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/toPrimitive.js\");\n\n\nfunction _toPropertyKey(arg) {\n  var key = (0,_toPrimitive_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(arg, \"string\");\n  return (0,_typeof_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(key) === \"symbol\" ? key : String(key);\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js?");

/***/ }),

/***/ "./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/typeof.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/typeof.js ***!
  \*****************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _typeof; }\n/* harmony export */ });\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\n//# sourceURL=webpack://acode-plugin-acodex/./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/typeof.js?");

/***/ }),

/***/ "./plugin.json":
/*!*********************!*\
  !*** ./plugin.json ***!
  \*********************/
/***/ (function(module) {

"use strict";
eval("module.exports = JSON.parse('{\"id\":\"bajrangcoder.acodex\",\"name\":\"AcodeX\",\"main\":\"dist/main.js\",\"version\":\"2.1.0\",\"readme\":\"readme.md\",\"icon\":\"icon.png\",\"files\":[\"xterm.css\"],\"minVersionCode\":290,\"author\":{\"name\":\"Raunak Raj\",\"email\":\"bajrangcoders@gmail.com\",\"github\":\"bajrangCoder\"}}');\n\n//# sourceURL=webpack://acode-plugin-acodex/./plugin.json?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	!function() {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = function(module) {
/******/ 			var getter = module && module.__esModule ?
/******/ 				function() { return module['default']; } :
/******/ 				function() { return module; };
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.js");
/******/ 	
/******/ })()
;